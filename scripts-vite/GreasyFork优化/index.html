<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Document</title>
		<style>
			* {
				padding: 0;
				margin: 0;
			}
			html,
			body {
				width: 100%;
				height: 100%;
			}
			.monaco-editor-diff {
				display: flex;
				height: 500px;
				width: 100%;
			}
			.monaco-diff-editor {
				width: 100%;
			}
		</style>
	</head>
	<body>
		<div class="monaco-editor-diff-container">
			<div class="monaco-editor-diff"></div>
		</div>
	</body>
	<script type="module">
		import * as monaco from "https://cdn.jsdelivr.net/npm/monaco-editor@0.52.0/+esm";
		let $diff = document.querySelector(".monaco-editor-diff");
		let monacoEditor = monaco.editor.createDiffEditor($diff, {
			minimap: { enabled: false }, // 小地图
			automaticLayout: true, // 自动布局,
			codeLens: true,
			colorDecorators: true,
			contextmenu: false,
			readOnly: true, //是否只读
			formatOnPaste: true,
			overviewRulerBorder: false, // 滚动条的边框
			scrollBeyondLastLine: true,
			theme: "vs-dark", // 主题
			fontSize: 12, // 字体
			wordWrap: "on", // 换行
			language: "js", // 语言
		});
		const originModel = monaco.editor.createModel(
			`测试
        ada
        adad`,
			"js"
		);
		const modifyModel = monaco.editor.createModel(
			`测试
        666
        777`,
			"js"
		);
		console.log(monacoEditor.setModel);
		setTimeout(() => {
			monacoEditor.setModel({
				original: originModel,
				modified: modifyModel,
			});
		}, 1000);
        window.monacoEditor = monacoEditor;
	</script>
</html>
