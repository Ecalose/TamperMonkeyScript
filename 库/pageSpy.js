/**
 * @desc 初始化PageSpy
 * @version 1.4.11
 * @latestTime 2024.1.3
 * @link https://fastly.jsdelivr.net/npm/@huolala-tech/page-spy
 * @from https://www.npmjs.com/package/@huolala-tech/page-spy/file/2d40d63aae51e6530ebf6e88d85fedabc1af4e7505129163163df7f181fb828e
 */
/* prettier-ignore */
let initPageSpy = function () {
  var PageSpy=function(){"use strict";function M(e){e=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=typeof(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"==typeof e?e:String(e)}function t(e,t,n){(t=M(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function U(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function q(e){return e&&e.Math===Math&&e}function n(e){try{return!!e()}catch(e){return!0}}function N(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}function _(e){return ve(ye(e),8,-1)}function Q(e){return null==e}function H(e){if(Ee(e))throw new Se("Can't call method on "+e);return e}function F(e){return ke(xe(e))}function z(e,t){return arguments.length<2?(n=Oe[e],Ce(n)?n:void 0):Oe[e]&&Oe[e][t];var n}function G(e){try{return Ne(e)}catch(e){return"Object"}}function W(e){if(_e(e))return e;throw new He(Qe(e)+" is not a function")}function V(e,t){return e=e[t],ze(e)?void 0:Fe(e)}function J(t,n){try{$e(Xe,t,{value:n,configurable:!0,writable:!0})}catch(e){Xe[t]=n}return n}function X(e){return et(Ke(e))}function $(e){return"Symbol("+(void 0===e?"":e)+")_"+at(++rt+ot,36)}function r(e){return it(ut,e)||(ut[e]=st&&it(ct,e)?ct[e]:lt("Symbol."+e)),ut[e]}function Z(e){return e=vt(e,"string"),At(e)?e:e+""}function Y(e){return wt?bt.createElement(e):{}}function o(e){if(Bt(e))return e;throw new It(Lt(e)+" is not an object")}function K(e){return Jt[e]||(Jt[e]=Vt(e))}function ee(e,t,n,r){var o=(r=r||{}).enumerable,a=void 0!==r.name?r.name:t;if(vn(n)&&bn(n,a,r),r.global)o?e[t]=n:wn(t,n);else{try{r.unsafe?e[t]&&(o=!0):delete e[t]}catch(e){}o?e[t]=n:An.f(e,t,{value:n,enumerable:!1,configurable:!r.nonConfigurable,writable:!r.nonWritable})}return e}function te(e){return(e=+e)!=e||0==e?0:kn(e)}function ne(e,t){return(e=xn(e))<0?Tn(e+t,0):Pn(e,t)}function re(e){return 0<e?On(Rn(e),9007199254740991):0}function oe(e){return Cn(e.length)}function ae(s){return function(e,t,n){var r,o=Bn(e),a=In(o),i=Ln(n,a);if(s&&t!=t){for(;i<a;)if((r=o[i++])!=r)return!0}else for(;i<a;i++)if((s||i in o)&&o[i]===t)return s||i||0;return!s&&-1}}function ie(e,t){var n,r=Dn(e),o=0,a=[];for(n in r)!jn(Un,n)&&jn(r,n)&&qn(a,n);for(;t.length>o;)!jn(r,n=t[o++])||~Mn(a,n)||qn(a,n);return a}function se(e,t,n){for(var r=Wn(t),o=Jn.f,a=Vn.f,i=0;i<r.length;i++){var s=r[i];Gn(e,s)||n&&Gn(n,s)||o(e,s,a(t,s))}}function ce(e,t){return(e=Kn[Yn(e)])===tr||e!==er&&($n(t)?Xn(t):!!t)}function ue(e,t){var n,r,o,a=e.target,i=e.global,s=e.stat,c=i?nr:s?nr[a]||ir(a,{}):(nr[a]||{}).prototype;if(c)for(n in t){if(r=t[n],o=e.dontCallGetSet?(o=rr(c,n))&&o.value:c[n],!cr(i?n:a+(s?".":"#")+n,e.forced)&&void 0!==o){if(typeof r==typeof o)continue;sr(r,o)}(e.sham||o&&o.sham)&&or(r,"sham",!0),ar(c,n,r,e)}}var le,de,fe,he,e=q("object"==typeof globalThis&&globalThis)||q("object"==typeof window&&window)||q("object"==typeof self&&self)||q("object"==typeof e&&e)||q("object"==typeof e&&e)||function(){return this}()||Function("return this")(),a={},i=!n(function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]}),s=!n(function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}),pe=Function.prototype.call,c=s?pe.bind(pe):function(){return pe.apply(pe,arguments)},u={},l={}.propertyIsEnumerable,ge=Object.getOwnPropertyDescriptor,d=ge&&!l.call({1:2},1),d=(u.f=d?function(e){e=ge(this,e);return!!e&&e.enumerable}:l,s),l=Function.prototype,me=l.call,l=d&&l.bind.bind(me,me),d=d?l:function(e){return function(){return me.apply(e,arguments)}},l=d,ye=l({}.toString),ve=l("".slice),l=n,Ae=_,be=Object,we=d("".split),l=l(function(){return!be("z").propertyIsEnumerable(0)})?function(e){return"String"===Ae(e)?we(e,""):be(e)}:be,Ee=Q,Se=TypeError,ke=l,xe=H,f="object"==typeof document&&document.all,f={all:f,IS_HTMLDDA:void 0===f&&void 0!==f},Te=f.all,h=f.IS_HTMLDDA?function(e){return"function"==typeof e||e===Te}:function(e){return"function"==typeof e},Pe=h,Re=f.all,f=f.IS_HTMLDDA?function(e){return"object"==typeof e?null!==e:Pe(e)||e===Re}:function(e){return"object"==typeof e?null!==e:Pe(e)},Oe=e,Ce=h,Be=d({}.isPrototypeOf),p="undefined"!=typeof navigator&&String(navigator.userAgent)||"",Le=e.process,g=e.Deno,Le=Le&&Le.versions||g&&g.version,g=Le&&Le.v8,Le=y=!(y=g?0<(m=g.split("."))[0]&&m[0]<4?1:+(m[0]+m[1]):y)&&p&&(!(m=p.match(/Edge\/(\d+)/))||74<=m[1])&&(m=p.match(/Chrome\/(\d+)/))?+m[1]:y,Ie=Le,g=n,je=e.String,p=!!Object.getOwnPropertySymbols&&!g(function(){var e=Symbol("symbol detection");return!je(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&Ie&&Ie<41}),m=p&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,De=z,Me=h,Ue=Be,qe=Object,y=m?function(e){return"symbol"==typeof e}:function(e){var t=De("Symbol");return Me(t)&&Ue(t.prototype,qe(e))},Ne=String,_e=h,Qe=G,He=TypeError,Fe=W,ze=Q,Ge=c,We=h,Ve=f,Je=TypeError,g={exports:{}},Xe=e,$e=Object.defineProperty,v=J,Ze="__core-js_shared__",v=e[Ze]||v(Ze,{}),Ye=v,Ze=((g.exports=function(e,t){return Ye[e]||(Ye[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.34.0",mode:"global",copyright:"© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.34.0/LICENSE",source:"https://github.com/zloirock/core-js"}),g.exports),Ke=H,et=Object,tt=X,nt=d({}.hasOwnProperty),g=Object.hasOwn||function(e,t){return nt(tt(e),t)},A=d,rt=0,ot=Math.random(),at=A(1..toString),A=Ze,it=g,b=$,st=p,ct=e.Symbol,ut=A("wks"),lt=m?ct.for||ct:ct&&ct.withoutSetter||b,dt=c,ft=f,ht=y,pt=V,gt=function(e,t){var n,r;if("string"===t&&We(n=e.toString)&&!Ve(r=Ge(n,e)))return r;if(We(n=e.valueOf)&&!Ve(r=Ge(n,e)))return r;if("string"!==t&&We(n=e.toString)&&!Ve(r=Ge(n,e)))return r;throw new Je("Can't convert object to primitive value")},mt=TypeError,yt=r("toPrimitive"),vt=function(e,t){if(!ft(e)||ht(e))return e;var n=pt(e,yt);if(n){if(n=dt(n,e,t=void 0===t?"default":t),!ft(n)||ht(n))return n;throw new mt("Can't convert object to primitive value")}return gt(e,t=void 0===t?"number":t)},At=y,A=f,bt=e.document,wt=A(bt)&&A(bt.createElement),Et=Y,m=!i&&!n(function(){return 7!==Object.defineProperty(Et("div"),"a",{get:function(){return 7}}).a}),St=c,kt=u,xt=N,Tt=F,Pt=Z,Rt=g,Ot=m,Ct=Object.getOwnPropertyDescriptor,b=(a.f=i?Ct:function(e,t){if(e=Tt(e),t=Pt(t),Ot)try{return Ct(e,t)}catch(e){}if(Rt(e,t))return xt(!St(kt.f,e,t),e[t])},{}),A=i&&n(function(){return 42!==Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype}),Bt=f,Lt=String,It=TypeError,jt=m,Dt=o,Mt=Z,Ut=TypeError,qt=Object.defineProperty,Nt=Object.getOwnPropertyDescriptor,_t="enumerable",Qt="configurable",Ht="writable",m=(b.f=i?A?function(e,t,n){var r;return Dt(e),t=Mt(t),Dt(n),"function"==typeof e&&"prototype"===t&&"value"in n&&Ht in n&&!n[Ht]&&(r=Nt(e,t))&&r[Ht]&&(e[t]=n.value,n={configurable:(Qt in n?n:r)[Qt],enumerable:(_t in n?n:r)[_t],writable:!1}),qt(e,t,n)}:qt:function(e,t,n){if(Dt(e),t=Mt(t),Dt(n),jt)try{return qt(e,t,n)}catch(e){}if("get"in n||"set"in n)throw new Ut("Accessors not supported");return"value"in n&&(e[t]=n.value),e},i),Ft=b,zt=N,m=m?function(e,t,n){return Ft.f(e,t,zt(1,n))}:function(e,t,n){return e[t]=n,e},w={exports:{}},E=i,S=g,Gt=Function.prototype,k=E&&Object.getOwnPropertyDescriptor,S=S(Gt,"name"),S={EXISTS:S,PROPER:S&&"something"===function(){}.name,CONFIGURABLE:S&&(!E||k(Gt,"name").configurable)},E=h,k=v,Wt=d(Function.toString),Gt=(E(k.inspectSource)||(k.inspectSource=function(e){return Wt(e)}),k.inspectSource),E=h,k=e.WeakMap,E=E(k)&&/native code/.test(String(k)),Vt=$,Jt=Ze("keys"),k={},Xt=f,$t=m,Zt=g,x=K,Yt=k,Kt="Object already initialized",en=e.TypeError,tn=e.WeakMap,nn=E||v.state?((fe=v.state||(v.state=new tn)).get=fe.get,fe.has=fe.has,fe.set=fe.set,le=function(e,t){if(fe.has(e))throw new en(Kt);return t.facade=e,fe.set(e,t),t},de=function(e){return fe.get(e)||{}},function(e){return fe.has(e)}):(Yt[he=x("state")]=!0,le=function(e,t){if(Zt(e,he))throw new en(Kt);return t.facade=e,$t(e,he,t),t},de=function(e){return Zt(e,he)?e[he]:{}},function(e){return Zt(e,he)}),E={set:le,get:de,has:nn,enforce:function(e){return nn(e)?de(e):le(e,{})},getterFor:function(t){return function(e){if(Xt(e)&&(e=de(e)).type===t)return e;throw new en("Incompatible receiver, "+t+" required")}}},v=d,tn=n,rn=h,on=g,an=i,sn=S.CONFIGURABLE,cn=Gt,un=E.enforce,ln=E.get,dn=String,fn=Object.defineProperty,hn=v("".slice),pn=v("".replace),gn=v([].join),mn=an&&!tn(function(){return 8!==fn(function(){},"length",{value:8}).length}),yn=String(String).split("String"),Yt=w.exports=function(e,t,n){"Symbol("===hn(dn(t),0,7)&&(t="["+pn(dn(t),/^Symbol\(([^)]*)\)/,"$1")+"]"),n&&n.getter&&(t="get "+t),n&&n.setter&&(t="set "+t),(!on(e,"name")||sn&&e.name!==t)&&(an?fn(e,"name",{value:t,configurable:!0}):e.name=t),mn&&n&&on(n,"arity")&&e.length!==n.arity&&fn(e,"length",{value:n.arity});try{n&&on(n,"constructor")&&n.constructor?an&&fn(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(e){}n=un(e);return on(n,"source")||(n.source=gn(yn,"string"==typeof t?t:"")),e},x=(Function.prototype.toString=Yt(function(){return rn(this)&&ln(this).source||cn(this)},"toString"),w.exports),vn=h,An=b,bn=x,wn=J,v={},En=Math.ceil,Sn=Math.floor,kn=Math.trunc||function(e){e=+e;return(0<e?Sn:En)(e)},xn=te,Tn=Math.max,Pn=Math.min,Rn=te,On=Math.min,Cn=re,Bn=F,Ln=ne,In=oe,tn={includes:ae(!0),indexOf:ae(!1)},Yt=d,jn=g,Dn=F,Mn=tn.indexOf,Un=k,qn=Yt([].push),w=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Nn=ie,_n=w.concat("length","prototype"),tn=(v.f=Object.getOwnPropertyNames||function(e){return Nn(e,_n)},{}),Yt=(tn.f=Object.getOwnPropertySymbols,z),Qn=v,Hn=tn,Fn=o,zn=d([].concat),v=Yt("Reflect","ownKeys")||function(e){var t=Qn.f(Fn(e)),n=Hn.f;return n?zn(t,n(e)):t},Gn=g,Wn=v,Vn=a,Jn=b,Xn=n,$n=h,Zn=/#|\.prototype\./,Yn=ce.normalize=function(e){return String(e).replace(Zn,".").toLowerCase()},Kn=ce.data={},er=ce.NATIVE="N",tr=ce.POLYFILL="P",nr=e,rr=a.f,or=m,ar=ee,ir=J,sr=se,cr=ce,Yt=Function.prototype,ur=Yt.apply,lr=Yt.call,v="object"==typeof Reflect&&Reflect.apply||(s?lr.bind(ur):function(){return lr.apply(ur,arguments)}),a=d([].slice),dr=_,Yt=Array.isArray||function(e){return"Array"===dr(e)},fr={};fr[r("toStringTag")]="z";function hr(e){if("Symbol"===wr(e))throw new TypeError("Cannot convert a Symbol value to a string");return Er(e)}function pr(e,t){var n=Ir(arguments),r=jr(t);if(Br(r)||void 0!==e&&!Lr(e))return n[1]=function(e,t){if(Br(r)&&(t=Cr(r,this,Dr(e),t)),!Lr(t))return t},Or(Mr,null,n)}function gr(e,t,n){var r=qr(n,t-1),n=qr(n,t+1);return Ur(Fr,e)&&!Ur(zr,n)||Ur(zr,e)&&!Ur(Fr,r)?"\\u"+Qr(Nr(e,0),16):e}var fr="[object z]"===String(fr),mr=h,yr=_,vr=r("toStringTag"),Ar=Object,br="Arguments"===yr(function(){return arguments}()),fr=fr?yr:function(e){var t;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(t=function(e,t){try{return e[t]}catch(e){}}(e=Ar(e),vr))?t:br?yr(e):"Object"===(t=yr(e))&&mr(e.callee)?"Arguments":t},wr=fr,Er=String,Sr=Yt,kr=h,xr=_,Tr=hr,Pr=d([].push),T=ue,Rr=z,Or=v,Cr=c,P=d,R=n,Br=h,Lr=y,Ir=a,jr=function(e){if(kr(e))return e;if(Sr(e)){for(var t=e.length,r=[],n=0;n<t;n++){var o=e[n];"string"==typeof o?Pr(r,o):"number"!=typeof o&&"Number"!==xr(o)&&"String"!==xr(o)||Pr(r,Tr(o))}var a=r.length,i=!0;return function(e,t){if(i)return i=!1,t;if(Sr(this))return t;for(var n=0;n<a;n++)if(r[n]===e)return t}}},y=p,Dr=String,Mr=Rr("JSON","stringify"),Ur=P(/./.exec),qr=P("".charAt),Nr=P("".charCodeAt),_r=P("".replace),Qr=P(1..toString),Hr=/[\uD800-\uDFFF]/g,Fr=/^[\uD800-\uDBFF]$/,zr=/^[\uDC00-\uDFFF]$/,Gr=!y||R(function(){var e=Rr("Symbol")("stringify detection");return"[null]"!==Mr([e])||"{}"!==Mr({a:e})||"{}"!==Mr(Object(e))}),Wr=R(function(){return'"\\udf06\\ud834"'!==Mr("\udf06\ud834")||'"\\udead"'!==Mr("\udead")}),a=(Mr&&T({target:"JSON",stat:!0,arity:3,forced:Gr||Wr},{stringify:function(e,t,n){var r=Ir(arguments),r=Or(Gr?pr:Mr,null,r);return Wr&&"string"==typeof r?_r(r,Hr,gr):r}}),Y("span").classList),p=a&&a.constructor&&a.constructor.prototype,P=p===Object.prototype?void 0:p,y={},Vr=ie,Jr=w,R=Object.keys||function(e){return Vr(e,Jr)},Xr=b,$r=o,Zr=F,Yr=R;y.f=i&&!A?Object.defineProperties:function(e,t){$r(e);for(var n,r=Zr(t),o=Yr(t),a=o.length,i=0;i<a;)Xr.f(e,n=o[i++],r[n]);return e};function Kr(){}function eo(e){e.write(fo("")),e.close();var t=e.parentWindow.Object;return e=null,t}var to,no,T=z("document","documentElement"),ro=o,oo=y,ao=w,a=k,io=T,so=Y,co="prototype",uo="script",lo=K("IE_PROTO"),fo=function(e){return"<"+uo+">"+e+"</"+uo+">"},ho=function(){try{to=new ActiveXObject("htmlfile")}catch(e){}ho="undefined"==typeof document||document.domain&&to?eo(to):(e=so("iframe"),t="java"+uo+":",e.style.display="none",io.appendChild(e),e.src=String(t),(t=e.contentWindow.document).open(),t.write(fo("document.F=Object")),t.close(),t.F);for(var e,t,n=ao.length;n--;)delete ho[co][ao[n]];return ho()},p=(a[lo]=!0,Object.create||function(e,t){var n;return null!==e?(Kr[co]=ro(e),n=new Kr,Kr[co]=null,n[lo]=e):n=ho(),void 0===t?n:oo.f(n,t)}),A=r,y=p,w=b.f,po=A("unscopables"),go=Array.prototype,k=(void 0===go[po]&&w(go,po,{configurable:!0,value:y(null)}),{}),T=!n(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),mo=g,yo=h,vo=X,a=T,Ao=K("IE_PROTO"),bo=Object,wo=bo.prototype,A=a?bo.getPrototypeOf:function(e){var t,e=vo(e);return mo(e,Ao)?e[Ao]:(t=e.constructor,yo(t)&&e instanceof t?t.prototype:e instanceof bo?wo:null)},w=n,y=h,T=f,a=A,Eo=ee,So=r("iterator"),O=!1;[].keys&&("next"in(Co=[].keys())?(a=a(a(Co)))!==Object.prototype&&(no=a):O=!0);function ko(e,t,n){(e=e&&!n?e.prototype:e)&&!Lo(e,Io)&&Bo(e,Io,{configurable:!0,value:t})}function xo(){return this}function To(e,t,n,r){return t+=" Iterator",e.prototype=Do(jo,{next:Mo(+!r,n)}),Uo(e,t,!1),qo[t]=xo,e}function Po(){return this}function Ro(e,t,n,r,o,a,i){function s(e){if(e===o&&h)return h;if(!ia&&e&&e in d)return d[e];switch(e){case"keys":case ca:case ua:return function(){return new n(this,e)}}return function(){return new n(this)}}$o(n,t,r);var c,u,r=t+" Iterator",l=!1,d=e.prototype,f=d[sa]||d["@@iterator"]||o&&d[o],h=!ia&&f||s(o),p="Array"===t&&d.entries||f;if(p&&(p=Zo(p.call(new e)))!==Object.prototype&&p.next&&(Zo(p)!==aa&&(Yo?Yo(p,aa):Xo(p[sa])||ta(p,sa,Po)),Ko(p,r,!0)),ra&&o===ca&&f&&f.name!==ca&&(oa?ea(d,"name",ca):(l=!0,h=function(){return Jo(f,this)})),o)if(c={values:s(ca),keys:a?h:s("keys"),entries:s(ua)},i)for(u in c)!ia&&!l&&u in d||ta(d,u,c[u]);else Vo({target:t,proto:!0,forced:ia||l},c);return d[sa]!==h&&ta(d,sa,h,{name:o}),na[t]=h,c}function Oo(e,t){return{value:e,done:t}}y((no=!T(no)||w(function(){var e={};return no[So].call(e)!==e})?{}:no)[So])||Eo(no,So,function(){return this});var Co={IteratorPrototype:no,BUGGY_SAFARI_ITERATORS:O},Bo=b.f,Lo=g,Io=r("toStringTag"),jo=Co.IteratorPrototype,Do=p,Mo=N,Uo=ko,qo=k,No=d,_o=W,Qo=h,Ho=String,Fo=TypeError,zo=function(e,t,n){try{return No(_o(Object.getOwnPropertyDescriptor(e,t)[n]))}catch(e){}},Go=o,Wo=function(e){if("object"==typeof e||Qo(e))return e;throw new Fo("Can't set "+Ho(e)+" as a prototype")},a=Object.setPrototypeOf||("__proto__"in{}?function(){var n,r=!1,e={};try{(n=zo(Object.prototype,"__proto__","set"))(e,[]),r=e instanceof Array}catch(e){}return function(e,t){return Go(e),Wo(t),r?n(e,t):e.__proto__=t,e}}():void 0),Vo=ue,Jo=c,Xo=h,$o=To,Zo=A,Yo=a,Ko=ko,ea=m,ta=ee,y=r,na=k,ra=S.PROPER,oa=S.CONFIGURABLE,aa=Co.IteratorPrototype,ia=Co.BUGGY_SAFARI_ITERATORS,sa=y("iterator"),ca="values",ua="entries",la=F,T=function(e){go[po][e]=!0},w=k,Eo=E,O=b.f,A=Ro,da=Oo,S=i,fa="Array Iterator",ha=Eo.set,pa=Eo.getterFor(fa),Co=A(Array,"Array",function(e,t){ha(this,{type:fa,target:la(e),index:0,kind:t})},function(){var e=pa(this),t=e.target,n=e.index++;if(!t||n>=t.length)return e.target=void 0,da(void 0,!0);switch(e.kind){case"keys":return da(n,!1);case"values":return da(t[n],!1)}return da([n,t[n]],!1)},"values"),y=w.Arguments=w.Array;if(T("keys"),T("values"),T("entries"),S&&"values"!==y.name)try{O(y,"name",{value:"values"})}catch(e){}function ga(t,e){if(t){if(t[Ea]!==Sa)try{ba(t,Ea,Sa)}catch(e){t[Ea]=Sa}if(wa(t,e,!0),va[e])for(var n in Aa)if(t[n]!==Aa[n])try{ba(t,n,Aa[n])}catch(e){t[n]=Aa[n]}}}var ma,ya=e,va={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},Eo=P,Aa=Co,ba=m,wa=ko,Ea=r("iterator"),Sa=Aa.values;for(ma in va)ga(ya[ma]&&ya[ma].prototype,ma);ga(Eo,"DOMTokenList");var ka=function(){var t=document.getSelection();if(!t.rangeCount)return function(){};for(var e=document.activeElement,n=[],r=0;r<t.rangeCount;r++)n.push(t.getRangeAt(r));switch(e.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":e.blur();break;default:e=null}return t.removeAllRanges(),function(){"Caret"===t.type&&t.removeAllRanges(),t.rangeCount||n.forEach(function(e){t.addRange(e)}),e&&e.focus()}},xa={"text/plain":"Text","text/html":"Url",default:"Text"};function Ta(e,t,n){return n.get&&ui(n.get,t,{getter:!0}),n.set&&ui(n.set,t,{setter:!0}),li.f(e,t,n)}function Pa(e,t){if(fi(t,e))return e;throw new hi("Incorrect invocation")}function Ra(e){if("Function"===pi(e))return gi(e)}function Oa(e,t){return mi(e),void 0===t?e:yi?vi(e,t):function(){return e.apply(t,arguments)}}function Ca(e){if(!wi(e))return bi(e,Si)||bi(e,"@@iterator")||Ei[Ai(e)]}function Ba(e,t){if(t=arguments.length<2?Ri(e):t,xi(t))return Ti(ki(t,e));throw new Oi(Pi(e)+" is not iterable")}function La(e,t){if(e<t)throw new Ci("Not enough arguments");return e}function Ia(e,t,n){(t=Bi(t))in e?Li.f(e,t,Ii(0,n)):e[t]=n}function ja(e,t,n){for(var r=Di(e),o=ji(t,r),a=ji(void 0===n?r:n,r),i=Ui(qi(a-o,0)),s=0;o<a;o++,s++)Mi(i,s,e[o]);return i.length=s,i}function Da(e,t){var n=e.length,r=_i(n/2);if(n<8){for(var o,a,i=e,s=t,c=i.length,u=1;u<c;){for(o=i[a=u];a&&0<s(i[a-1],o);)i[a]=i[--a];a!==u++&&(i[a]=o)}return i}for(var l=e,d=Da(Ni(e,0,r),t),f=Da(Ni(e,r),t),h=t,p=d.length,g=f.length,m=0,y=0;m<p||y<g;)l[m+y]=m<p&&y<g?h(d[m],f[y])<=0?d[m++]:f[y++]:m<p?d[m++]:f[y++];return l}function Ma(e){var t;return Fi?(t=cs(Qi,e))&&t.value:Qi[e]}function Ua(t){try{return gs(t)}catch(e){return t}}function qa(e){var t,n=bs(e,xs," "),r=4;try{return gs(n)}catch(e){for(;r;)n=bs(n,(t=r--,Ts[t-1]||(Ts[t-1]=hs("((?:%[\\da-f]{2}){"+t+"})","gi"))),Ua);return n}}function Na(e){return Rs[e]}function _a(e){return bs(ms(e),Ps,Na)}function Qa(e){this.entries=[],this.url=null,void 0!==e&&(Xi(e)?this.parseObject(e):this.parseQuery("string"==typeof e?"?"===ys(e,0)?ks(e,1):e:C(e)))}function Ha(){zi(this,Cs);var e=as(this,new Qa(0<arguments.length?arguments[0]:void 0));Fi||(this.size=e.entries.length)}function Fa(o){return function(e,t){var n,e=Is(js(e)),t=Ls(t),r=e.length;return t<0||r<=t?o?"":void 0:(n=Ms(e,t))<55296||56319<n||t+1===r||(r=Ms(e,t+1))<56320||57343<r?o?Ds(e,t):n:o?Us(e,t,t+2):r-56320+(n-55296<<10)+65536}}function za(){}function Ga(e){if(!cc(e))return!1;try{return fc(za,dc,e),!0}catch(e){return!1}}function Wa(e){if(!cc(e))return!1;switch(uc(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return gc||!!pc(hc,lc(e))}catch(e){return!0}}function Va(e){var t,n,r,o;if("number"==typeof e){for(t=[],n=0;n<4;n++)xu(t,e%256),e=fu(e/256);return mu(t,".")}if("object"!=typeof e)return e;for(t="",r=function(e){for(var t=null,n=1,r=null,o=0,a=0;a<8;a++)0!==e[a]?(n<o&&(t=r,n=o),r=null,o=0):(null===r&&(r=a),++o);return n<o&&(t=r,n=o),t}(e),n=0;n<8;n++)o&&0===e[n]||(o=o&&!1,r===n?(t+=n?":":"::",o=!0):(t+=yu(e[n],16),n<7&&(t+=":")));return"["+t+"]"}function Ja(e,t){var n=nu(e,0);return 32<n&&n<127&&!Kc(t,e)?e:encodeURIComponent(e)}function Xa(e,t){return 2===e.length&&gu(Ou,pu(e,0))&&(":"===(e=pu(e,1))||!t&&"|"===e)}function $a(e){return 1<e.length&&Xa(Su(e,0,2))&&(2===e.length||"/"===(e=pu(e,2))||"\\"===e||"?"===e||"#"===e)}function Za(e,t,n){var r,o,e=ou(e);if(t){if(o=this.parse(e))throw new lu(o);this.searchParams=null}else{if(void 0!==n&&(r=new Za(n,!0)),o=this.parse(e,null,r))throw new lu(o);(t=uu(new cu)).bindURL(this),this.searchParams=t}}function Ya(e,t){return{get:function(){return su(this)[e]()},set:t&&function(e){return su(this)[t](e)},configurable:!0,enumerable:!0}}function Ka(e,t){var n={};n[e]=zl(e,t,Vl),Hl({global:!0,constructor:!0,arity:1,forced:Vl},n)}function ei(e,t){var n;Wl&&Wl[e]&&((n={})[e]=zl(Gl+"."+e,t,Vl),Hl({target:Gl,stat:!0,constructor:!0,arity:1,forced:Vl},n))}function ti(u){return function(e,t,n,r){var o=Xl(e),a=$l(o),i=Zl(o),s=(Jl(t),u?i-1:0),c=u?-1:1;if(n<2)for(;;){if(s in a){r=a[s],s+=c;break}if(s+=c,u?s<0:i<=s)throw new Yl("Reduce of empty array with no initial value")}for(;u?0<=s:s<i;s+=c)s in a&&(r=t(r,a[s],s,o));return r}}var ni,ri,oi,ai,ii=U(function(n,r){var t,e,o,a,i=!1,s=(r=r||{}).debug||!1;try{var c=ka(),u=document.createRange(),l=document.getSelection();if((e=document.createElement("span")).textContent=n,e.ariaHidden="true",e.style.all="unset",e.style.position="fixed",e.style.top=0,e.style.clip="rect(0, 0, 0, 0)",e.style.whiteSpace="pre",e.style.webkitUserSelect="text",e.style.MozUserSelect="text",e.style.msUserSelect="text",e.style.userSelect="text",e.addEventListener("copy",function(e){var t;e.stopPropagation(),r.format&&(e.preventDefault(),void 0===e.clipboardData?(s&&console.warn("unable to use e.clipboardData"),s&&console.warn("trying IE specific stuff"),window.clipboardData.clearData(),t=xa[r.format]||xa.default,window.clipboardData.setData(t,n)):(e.clipboardData.clearData(),e.clipboardData.setData(r.format,n))),r.onCopy&&(e.preventDefault(),r.onCopy(e.clipboardData))}),document.body.appendChild(e),u.selectNodeContents(e),l.addRange(u),!document.execCommand("copy"))throw new Error("copy command was unsuccessful");i=!0}catch(e){s&&console.error("unable to copy using execCommand: ",e),s&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(r.format||"text",n),r.onCopy&&r.onCopy(window.clipboardData),i=!0}catch(e){s&&console.error("unable to copy using clipboardData: ",e),s&&console.error("falling back to prompt"),o="message"in r?r.message:"Copy to clipboard: #{key}, Enter",a=(/mac os x/i.test(navigator.userAgent)?"⌘":"Ctrl")+"+C",t=o.replace(/#{\s*key\s*}/g,a),window.prompt(t,n)}}finally{l&&("function"==typeof l.removeRange?l.removeRange(u):l.removeAllRanges()),e&&document.body.removeChild(e),c()}return i}),A=n,si=i,ci=r("iterator"),w=!A(function(){var e=new URL("b?a=1&b=2&c=3","http://a"),n=e.searchParams,t=new URLSearchParams("a=1&a=2&b=3"),r="";return e.pathname="c%20d",n.forEach(function(e,t){n.delete("b"),r+=t+e}),t.delete("a",2),t.delete("b",void 0),!n.size&&!si||!n.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==n.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!n[ci]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://тест").host||"#%D0%B1"!==new URL("http://a#б").hash||"a1c3"!==r||"x"!==new URL("http://x",void 0).host}),ui=x,li=b,di=ee,fi=Be,hi=TypeError,pi=_,gi=d,mi=W,yi=s,vi=Ra(Ra.bind),Ai=fr,bi=V,wi=Q,Ei=k,Si=r("iterator"),ki=c,xi=W,Ti=o,Pi=G,Ri=Ca,Oi=TypeError,Ci=TypeError,Bi=Z,Li=b,Ii=N,ji=ne,Di=oe,Mi=Ia,Ui=Array,qi=Math.max,Ni=ja,_i=Math.floor,T=ue,Qi=e,Hi=c,S=d,Fi=i,O=w,y=ee,P=Ta,Co=function(e,t,n){for(var r in t)di(e,r,t[r],n);return e},Eo=ko,A=To,x=E,zi=Pa,s=h,Gi=g,Wi=Oa,Vi=fr,Ji=o,Xi=f,C=hr,$i=p,Zi=N,Yi=Ba,Ki=Ca,es=Oo,ts=La,ns=Da,B=r("iterator"),rs="URLSearchParams",os=rs+"Iterator",as=x.set,is=x.getterFor(rs),ss=x.getterFor(os),cs=Object.getOwnPropertyDescriptor,us=Ma("fetch"),ls=Ma("Request"),ds=Ma("Headers"),fs=ls&&ls.prototype,x=ds&&ds.prototype,hs=Qi.RegExp,ps=Qi.TypeError,gs=Qi.decodeURIComponent,ms=Qi.encodeURIComponent,ys=S("".charAt),vs=S([].join),As=S([].push),bs=S("".replace),ws=S([].shift),Es=S([].splice),Ss=S("".split),ks=S("".slice),xs=/\+/g,Ts=Array(4),Ps=/[!'()~]|%20/g,Rs={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},Os=A(function(e,t){as(this,{type:os,target:is(e).entries,index:0,kind:t})},rs,function(){var e=ss(this),t=e.target,n=e.index++;if(!t||n>=t.length)return e.target=void 0,es(void 0,!0);var r=t[n];switch(e.kind){case"keys":return es(r.key,!1);case"values":return es(r.value,!1)}return es([r.key,r.value],!1)},!0),Cs=(Qa.prototype={type:rs,bindURL:function(e){this.url=e,this.update()},parseObject:function(e){var t,n,r,o,a,i,s=this.entries,c=Ki(e);if(c)for(n=(t=Yi(e,c)).next;!(r=Hi(n,t)).done;){if(o=(r=Yi(Ji(r.value))).next,(a=Hi(o,r)).done||(i=Hi(o,r)).done||!Hi(o,r).done)throw new ps("Expected sequence with length 2");As(s,{key:C(a.value),value:C(i.value)})}else for(var u in e)Gi(e,u)&&As(s,{key:u,value:C(e[u])})},parseQuery:function(e){if(e)for(var t,n=this.entries,r=Ss(e,"&"),o=0;o<r.length;)(t=r[o++]).length&&(t=Ss(t,"="),As(n,{key:qa(ws(t)),value:qa(vs(t,"="))}))},serialize:function(){for(var e,t=this.entries,n=[],r=0;r<t.length;)e=t[r++],As(n,_a(e.key)+"="+_a(e.value));return vs(n,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}},Ha.prototype),Co=(Co(Cs,{append:function(e,t){var n=is(this);ts(arguments.length,2),As(n.entries,{key:C(e),value:C(t)}),Fi||this.length++,n.updateURL()},delete:function(e){for(var t=is(this),n=ts(arguments.length,1),r=t.entries,o=C(e),e=n<2?void 0:arguments[1],a=void 0===e?e:C(e),i=0;i<r.length;){var s=r[i];if(s.key!==o||void 0!==a&&s.value!==a)i++;else if(Es(r,i,1),void 0!==a)break}Fi||(this.size=r.length),t.updateURL()},get:function(e){for(var t=is(this).entries,n=(ts(arguments.length,1),C(e)),r=0;r<t.length;r++)if(t[r].key===n)return t[r].value;return null},getAll:function(e){for(var t=is(this).entries,n=(ts(arguments.length,1),C(e)),r=[],o=0;o<t.length;o++)t[o].key===n&&As(r,t[o].value);return r},has:function(e){for(var t=is(this).entries,n=ts(arguments.length,1),r=C(e),e=n<2?void 0:arguments[1],o=void 0===e?e:C(e),a=0;a<t.length;){var i=t[a++];if(i.key===r&&(void 0===o||i.value===o))return!0}return!1},set:function(e,t){for(var n,r=is(this),o=(ts(arguments.length,1),r.entries),a=!1,i=C(e),s=C(t),c=0;c<o.length;c++)(n=o[c]).key===i&&(a?Es(o,c--,1):(a=!0,n.value=s));a||As(o,{key:i,value:s}),Fi||(this.size=o.length),r.updateURL()},sort:function(){var e=is(this);ns(e.entries,function(e,t){return e.key>t.key?1:-1}),e.updateURL()},forEach:function(e){for(var t,n=is(this).entries,r=Wi(e,1<arguments.length?arguments[1]:void 0),o=0;o<n.length;)r((t=n[o++]).value,t.key,this)},keys:function(){return new Os(this,"keys")},values:function(){return new Os(this,"values")},entries:function(){return new Os(this,"entries")}},{enumerable:!0}),y(Cs,B,Cs.entries,{name:"entries"}),y(Cs,"toString",function(){return is(this).serialize()},{enumerable:!0}),Fi&&P(Cs,"size",{get:function(){return is(this).entries.length},configurable:!0,enumerable:!0}),Eo(Ha,rs),T({global:!0,constructor:!0,forced:!O},{URLSearchParams:Ha}),!O&&s(ds)&&(ni=S(x.has),ri=S(x.set),oi=function(e){if(Xi(e)){var t,n=e.body;if(Vi(n)===rs)return t=e.headers?new ds(e.headers):new ds,ni(t,"content-type")||ri(t,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),$i(e,{body:Zi(0,C(n)),headers:Zi(0,t)})}return e},s(us)&&T({global:!0,enumerable:!0,dontCallGetSet:!0,forced:!0},{fetch:function(e){return us(e,1<arguments.length?oi(arguments[1]):{})}}),s(ls))&&((fs.constructor=A=function(e){return zi(this,fs),new ls(e,1<arguments.length?oi(arguments[1]):{})}).prototype=fs,T({global:!0,constructor:!0,dontCallGetSet:!0,forced:!0},{Request:A})),{URLSearchParams:Ha,getState:is}),B=i,y=d,P=Ta,Eo=URLSearchParams.prototype,Bs=y(Eo.forEach),O=(!B||"size"in Eo||P(Eo,"size",{get:function(){var e=0;return Bs(this,function(){e++}),e},configurable:!0,enumerable:!0}),d),Ls=te,Is=hr,js=H,Ds=O("".charAt),Ms=O("".charCodeAt),Us=O("".slice),S={codeAt:Fa(!1),charAt:Fa(!0)},qs=S.charAt,Ns=hr,x=E,s=Ro,_s=Oo,Qs="String Iterator",Hs=x.set,Fs=x.getterFor(Qs),zs=(s(String,"String",function(e){Hs(this,{type:Qs,string:Ns(e),index:0})},function(){var e=Fs(this),t=e.string,n=e.index;return n>=t.length?_s(void 0,!0):(t=qs(t,n),e.index+=t.length,_s(t,!1))}),i),T=d,Gs=c,A=n,Ws=R,Vs=tn,Js=u,Xs=X,$s=l,Zs=Object.assign,Ys=Object.defineProperty,Ks=T([].concat),y=!Zs||A(function(){var e,t,n,r;return zs&&1!==Zs({b:1},Zs(Ys({},"a",{enumerable:!0,get:function(){Ys(this,"b",{value:3,enumerable:!1})}}),{b:2})).b||(t={},r="abcdefghijklmnopqrst",(e={})[n=Symbol("assign detection")]=7,r.split("").forEach(function(e){t[e]=e}),7!==Zs({},e)[n])||Ws(Zs({},t)).join("")!==r})?function(e,t){for(var n=Xs(e),r=arguments.length,o=1,a=Vs.f,i=Js.f;o<r;)for(var s,c=$s(arguments[o++]),u=a?Ks(Ws(c),a(c)):Ws(c),l=u.length,d=0;d<l;)s=u[d++],zs&&!Gs(i,c,s)||(n[s]=c[s]);return n}:Zs,ec=c,tc=o,nc=V,rc=o,oc=function(e,t,n){var r,o;tc(e);try{if(!(r=nc(e,"return"))){if("throw"===t)throw n;return n}r=ec(r,e)}catch(e){o=!0,r=e}if("throw"===t)throw n;if(o)throw r;return tc(r),n},ac=k,ic=r("iterator"),sc=Array.prototype,B=d,P=n,cc=h,uc=fr,lc=Gt,dc=[],fc=z("Reflect","construct"),hc=/^\s*(?:class|function)\b/,pc=B(hc.exec),gc=!hc.test(za),Eo=(Wa.sham=!0,!fc||P(function(){var e;return Ga(Ga.call)||!Ga(Object)||!Ga(function(){e=!0})||e})?Wa:Ga),mc=Oa,yc=c,vc=X,Ac=function(t,e,n,r){try{return r?e(rc(n)[0],n[1]):e(n)}catch(e){oc(t,"throw",e)}},bc=function(e){return void 0!==e&&(ac.Array===e||sc[ic]===e)},wc=Eo,Ec=oe,Sc=Ia,kc=Ba,xc=Ca,Tc=Array,O=d,Pc=2147483647,Rc=36,Oc=1,Cc=26,Bc=72,Lc=128,Ic="-",jc=/[^\0-\u007E]/,Dc=/[.\u3002\uFF0E\uFF61]/g,Mc="Overflow: input needs wider integers to process",Uc=Rc-Oc,qc=RangeError,Nc=O(Dc.exec),_c=Math.floor,Qc=String.fromCharCode,Hc=O("".charCodeAt),Fc=O([].join),zc=O([].push),Gc=O("".replace),Wc=O("".split),Vc=O("".toLowerCase),Jc=function(e){for(var t=[],n=0,r=e.length;n<r;){var o,a=Hc(e,n++);55296<=a&&a<=56319&&n<r?56320==(64512&(o=Hc(e,n++)))?zc(t,((1023&a)<<10)+(1023&o)+65536):(zc(t,a),n--):zc(t,a)}return t},Xc=function(e){return e+22+75*(e<26)},$c=function(e,t,n){var r=0;for(e=n?_c(e/700):e>>1,e+=_c(e/t);Uc*Cc>>1<e;)e=_c(e/Uc),r+=Rc;return _c(r+(1+Uc)*e/(e+38))},x=ue,Zc=i,s=w,R=e,tn=Oa,u=d,T=ee,A=Ta,Yc=Pa,Kc=g,k=y,eu=function(e){var t,n,r,o,a,i,s=vc(e),e=wc(this),c=arguments.length,u=1<c?arguments[1]:void 0,l=void 0!==u,c=(l&&(u=mc(u,2<c?arguments[2]:void 0)),xc(s)),d=0;if(!c||this===Tc&&bc(c))for(t=Ec(s),n=e?new this(t):Tc(t);d<t;d++)i=l?u(s[d],d):s[d],Sc(n,d,i);else for(a=(o=kc(s,c)).next,n=e?new this:[];!(r=yc(a,o)).done;d++)i=l?Ac(o,u,[r.value,d],!0):r.value,Sc(n,d,i);return n.length=d,n},tu=ja,nu=S.codeAt,ru=function(e){for(var t,n=[],r=Wc(Gc(Vc(e),Dc,"."),"."),o=0;o<r.length;o++)t=r[o],zc(n,Nc(jc,t)?"xn--"+function(e){var t,n=[],r=(e=Jc(e)).length,o=Lc,a=0,i=Bc;for(l=0;l<e.length;l++)(t=e[l])<128&&zc(n,Qc(t));var s=n.length,c=s;for(s&&zc(n,Ic);c<r;){for(var u=Pc,l=0;l<e.length;l++)o<=(t=e[l])&&t<u&&(u=t);var d=c+1;if(u-o>_c((Pc-a)/d))throw new qc(Mc);for(a+=(u-o)*d,o=u,l=0;l<e.length;l++){if((t=e[l])<o&&++a>Pc)throw new qc(Mc);if(t===o){for(var f=a,h=Rc;;){var p=h<=i?Oc:i+Cc<=h?Cc:h-i;if(f<p)break;var g=f-p,m=Rc-p;zc(n,Qc(Xc(p+g%m))),f=_c(g/m),h+=Rc}zc(n,Qc(Xc(f))),i=$c(a,d,c===s),a=0,c++}}a++,o++}return Fc(n,"")}(t):t);return Fc(n,".")},ou=hr,fr=ko,au=La,Gt=Co,B=E,iu=B.set,su=B.getterFor("URL"),cu=Gt.URLSearchParams,uu=Gt.getState,P=R.URL,lu=R.TypeError,du=R.parseInt,fu=Math.floor,hu=Math.pow,pu=u("".charAt),gu=u(/./.exec),mu=u([].join),yu=u(1..toString),vu=u([].pop),Au=u([].push),bu=u("".replace),wu=u([].shift),Eu=u("".split),Su=u("".slice),ku=u("".toLowerCase),xu=u([].unshift),Tu="Invalid scheme",Pu="Invalid host",Ru="Invalid port",Ou=/[a-z]/i,Cu=/[\d+-.a-z]/i,Bu=/\d/,Lu=/^0x/i,Iu=/^[0-7]+$/,ju=/^\d+$/,Du=/^[\da-f]+$/i,Mu=/[\0\t\n\r #%/:<>?@[\\\]^|]/,Uu=/[\0\t\n\r #/:<>?@[\\\]^|]/,qu=/^[\u0000-\u0020]+/,Nu=/(^|[^\u0000-\u0020])[\u0000-\u0020]+$/,_u=/[\t\n\r]/g,Qu={},Hu=k({},Qu,{" ":1,'"':1,"<":1,">":1,"`":1}),Fu=k({},Hu,{"#":1,"?":1,"{":1,"}":1}),zu=k({},Fu,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),Gu={ftp:21,file:null,http:80,https:443,ws:80,wss:443},Wu={},Vu={},Ju={},Xu={},$u={},Zu={},Yu={},Ku={},el={},tl={},nl={},rl={},ol={},al={},il={},sl={},cl={},ul={},ll={},dl={},fl={},hl=(Za.prototype={type:"URL",parse:function(e,t,n){var r,o,a,i,s=this,c=t||Wu,u=0,l="",d=!1,f=!1,h=!1;for(e=ou(e),t||(s.scheme="",s.username="",s.password="",s.host=null,s.port=null,s.path=[],s.query=null,s.fragment=null,s.cannotBeABaseURL=!1,e=bu(e,qu,""),e=bu(e,Nu,"$1")),e=bu(e,_u,""),r=eu(e);u<=r.length;){switch(o=r[u],c){case Wu:if(!o||!gu(Ou,o)){if(t)return Tu;c=Ju;continue}l+=ku(o),c=Vu;break;case Vu:if(o&&(gu(Cu,o)||"+"===o||"-"===o||"."===o))l+=ku(o);else{if(":"!==o){if(t)return Tu;l="",c=Ju,u=0;continue}if(t&&(s.isSpecial()!==Kc(Gu,l)||"file"===l&&(s.includesCredentials()||null!==s.port)||"file"===s.scheme&&!s.host))return;if(s.scheme=l,t)return void(s.isSpecial()&&Gu[s.scheme]===s.port&&(s.port=null));l="","file"===s.scheme?c=al:s.isSpecial()&&n&&n.scheme===s.scheme?c=Xu:s.isSpecial()?c=Ku:"/"===r[u+1]?(c=$u,u++):(s.cannotBeABaseURL=!0,Au(s.path,""),c=ll)}break;case Ju:if(!n||n.cannotBeABaseURL&&"#"!==o)return Tu;if(n.cannotBeABaseURL&&"#"===o){s.scheme=n.scheme,s.path=tu(n.path),s.query=n.query,s.fragment="",s.cannotBeABaseURL=!0,c=fl;break}c="file"===n.scheme?al:Zu;continue;case Xu:if("/"!==o||"/"!==r[u+1]){c=Zu;continue}c=el,u++;break;case $u:if("/"===o){c=tl;break}c=ul;continue;case Zu:if(s.scheme=n.scheme,o===ai)s.username=n.username,s.password=n.password,s.host=n.host,s.port=n.port,s.path=tu(n.path),s.query=n.query;else if("/"===o||"\\"===o&&s.isSpecial())c=Yu;else if("?"===o)s.username=n.username,s.password=n.password,s.host=n.host,s.port=n.port,s.path=tu(n.path),s.query="",c=dl;else{if("#"!==o){s.username=n.username,s.password=n.password,s.host=n.host,s.port=n.port,s.path=tu(n.path),s.path.length--,c=ul;continue}s.username=n.username,s.password=n.password,s.host=n.host,s.port=n.port,s.path=tu(n.path),s.query=n.query,s.fragment="",c=fl}break;case Yu:if(!s.isSpecial()||"/"!==o&&"\\"!==o){if("/"!==o){s.username=n.username,s.password=n.password,s.host=n.host,s.port=n.port,c=ul;continue}c=tl}else c=el;break;case Ku:if(c=el,"/"!==o||"/"!==pu(l,u+1))continue;u++;break;case el:if("/"===o||"\\"===o)break;c=tl;continue;case tl:if("@"===o){d&&(l="%40"+l);for(var d=!0,p=eu(l),g=0;g<p.length;g++){var m=p[g];":"!==m||h?(m=Ja(m,zu),h?s.password+=m:s.username+=m):h=!0}l=""}else if(o===ai||"/"===o||"?"===o||"#"===o||"\\"===o&&s.isSpecial()){if(d&&""===l)return"Invalid authority";u-=eu(l).length+1,l="",c=nl}else l+=o;break;case nl:case rl:if(t&&"file"===s.scheme){c=sl;continue}if(":"!==o||f){if(o===ai||"/"===o||"?"===o||"#"===o||"\\"===o&&s.isSpecial()){if(s.isSpecial()&&""===l)return Pu;if(t&&""===l&&(s.includesCredentials()||null!==s.port))return;if(a=s.parseHost(l))return a;if(l="",c=cl,t)return;continue}"["===o?f=!0:"]"===o&&(f=!1),l+=o}else{if(""===l)return Pu;if(a=s.parseHost(l))return a;if(l="",c=ol,t===rl)return}break;case ol:if(!gu(Bu,o)){if(o===ai||"/"===o||"?"===o||"#"===o||"\\"===o&&s.isSpecial()||t){if(""!==l){var y=du(l,10);if(65535<y)return Ru;s.port=s.isSpecial()&&y===Gu[s.scheme]?null:y,l=""}if(t)return;c=cl;continue}return Ru}l+=o;break;case al:if(s.scheme="file","/"===o||"\\"===o)c=il;else{if(!n||"file"!==n.scheme){c=ul;continue}switch(o){case ai:s.host=n.host,s.path=tu(n.path),s.query=n.query;break;case"?":s.host=n.host,s.path=tu(n.path),s.query="",c=dl;break;case"#":s.host=n.host,s.path=tu(n.path),s.query=n.query,s.fragment="",c=fl;break;default:$a(mu(tu(r,u),""))||(s.host=n.host,s.path=tu(n.path),s.shortenPath()),c=ul;continue}}break;case il:if("/"===o||"\\"===o){c=sl;break}n&&"file"===n.scheme&&!$a(mu(tu(r,u),""))&&(Xa(n.path[0],!0)?Au(s.path,n.path[0]):s.host=n.host),c=ul;continue;case sl:if(o===ai||"/"===o||"\\"===o||"?"===o||"#"===o){if(!t&&Xa(l))c=ul;else{if(""===l){if(s.host="",t)return}else{if(a=s.parseHost(l))return a;if("localhost"===s.host&&(s.host=""),t)return;l=""}c=cl}continue}l+=o;break;case cl:if(s.isSpecial()){if(c=ul,"/"!==o&&"\\"!==o)continue}else if(t||"?"!==o)if(t||"#"!==o){if(o!==ai&&(c=ul,"/"!==o))continue}else s.fragment="",c=fl;else s.query="",c=dl;break;case ul:if(o===ai||"/"===o||"\\"===o&&s.isSpecial()||!t&&("?"===o||"#"===o)){if(".."===(y=ku(y=l))||"%2e."===y||".%2e"===y||"%2e%2e"===y?(s.shortenPath(),"/"===o||"\\"===o&&s.isSpecial()||Au(s.path,"")):"."===(i=l)||"%2e"===ku(i)?"/"===o||"\\"===o&&s.isSpecial()||Au(s.path,""):("file"===s.scheme&&!s.path.length&&Xa(l)&&(s.host&&(s.host=""),l=pu(l,0)+":"),Au(s.path,l)),l="","file"===s.scheme&&(o===ai||"?"===o||"#"===o))for(;1<s.path.length&&""===s.path[0];)wu(s.path);"?"===o?(s.query="",c=dl):"#"===o&&(s.fragment="",c=fl)}else l+=Ja(o,Fu);break;case ll:"?"===o?(s.query="",c=dl):"#"===o?(s.fragment="",c=fl):o!==ai&&(s.path[0]+=Ja(o,Qu));break;case dl:t||"#"!==o?o!==ai&&("'"===o&&s.isSpecial()?s.query+="%27":s.query+="#"===o?"%23":Ja(o,Qu)):(s.fragment="",c=fl);break;case fl:o!==ai&&(s.fragment+=Ja(o,Hu))}u++}},parseHost:function(e){var t,n,r;if("["===pu(e,0))return"]"===pu(e,e.length-1)&&(t=function(e){function t(){return pu(e,f)}var n,r,o,a,i,s,c,u=[0,0,0,0,0,0,0,0],l=0,d=null,f=0;if(":"===t()){if(":"!==pu(e,1))return;f+=2,d=++l}for(;t();){if(8===l)return;if(":"===t()){if(null!==d)return;f++,d=++l}else{for(n=r=0;r<4&&gu(Du,t());)n=16*n+du(t(),16),f++,r++;if("."===t()){if(0===r)return;if(f-=r,6<l)return;for(o=0;t();){if(a=null,0<o){if(!("."===t()&&o<4))return;f++}if(!gu(Bu,t()))return;for(;gu(Bu,t());){if(i=du(t(),10),null===a)a=i;else{if(0===a)return;a=10*a+i}if(255<a)return;f++}u[l]=256*u[l]+a,2!==++o&&4!==o||l++}if(4!==o)return;break}if(":"===t()){if(f++,!t())return}else if(t())return;u[l++]=n}}if(null!==d)for(s=l-d,l=7;0!==l&&0<s;)c=u[l],u[l--]=u[d+s-1],u[d+--s]=c;else if(8!==l)return;return u}(Su(e,1,-1)))?void(this.host=t):Pu;if(this.isSpecial())return e=ru(e),gu(Mu,e)||null===(t=function(e){var t,n,r,o,a,i,s,c=Eu(e,".");if(c.length&&""===c[c.length-1]&&c.length--,4<(t=c.length))return e;for(n=[],r=0;r<t;r++){if(""===(o=c[r]))return e;if(a=10,1<o.length&&"0"===pu(o,0)&&(a=gu(Lu,o)?16:8,o=Su(o,8===a?1:2)),""===o)i=0;else{if(!gu(10===a?ju:8===a?Iu:Du,o))return e;i=du(o,a)}Au(n,i)}for(r=0;r<t;r++)if(i=n[r],r===t-1){if(i>=hu(256,5-t))return null}else if(255<i)return null;for(s=vu(n),r=0;r<n.length;r++)s+=n[r]*hu(256,3-r);return s}(e))?Pu:void(this.host=t);if(gu(Uu,e))return Pu;for(t="",n=eu(e),r=0;r<n.length;r++)t+=Ja(n[r],Qu);this.host=t},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||"file"===this.scheme},includesCredentials:function(){return""!==this.username||""!==this.password},isSpecial:function(){return Kc(Gu,this.scheme)},shortenPath:function(){var e=this.path,t=e.length;!t||"file"===this.scheme&&1===t&&Xa(e[0],!0)||e.length--},serialize:function(){var e=this,t=e.scheme,n=e.username,r=e.password,o=e.host,a=e.port,i=e.path,s=e.query,c=e.fragment,u=t+":";return null!==o?(u+="//",e.includesCredentials()&&(u+=n+(r?":"+r:"")+"@"),u+=Va(o),null!==a&&(u+=":"+a)):"file"===t&&(u+="//"),u+=e.cannotBeABaseURL?i[0]:i.length?"/"+mu(i,"/"):"",null!==s&&(u+="?"+s),null!==c&&(u+="#"+c),u},setHref:function(e){e=this.parse(e);if(e)throw new lu(e);this.searchParams.update()},getOrigin:function(){var e=this.scheme,t=this.port;if("blob"===e)try{return new hl(e.path[0]).origin}catch(e){return"null"}return"file"!==e&&this.isSpecial()?e+"://"+Va(this.host)+(null!==t?":"+t:""):"null"},getProtocol:function(){return this.scheme+":"},setProtocol:function(e){this.parse(ou(e)+":",Wu)},getUsername:function(){return this.username},setUsername:function(e){var t=eu(ou(e));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var n=0;n<t.length;n++)this.username+=Ja(t[n],zu)}},getPassword:function(){return this.password},setPassword:function(e){var t=eu(ou(e));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var n=0;n<t.length;n++)this.password+=Ja(t[n],zu)}},getHost:function(){var e=this.host,t=this.port;return null===e?"":null===t?Va(e):Va(e)+":"+t},setHost:function(e){this.cannotBeABaseURL||this.parse(e,nl)},getHostname:function(){var e=this.host;return null===e?"":Va(e)},setHostname:function(e){this.cannotBeABaseURL||this.parse(e,rl)},getPort:function(){var e=this.port;return null===e?"":ou(e)},setPort:function(e){this.cannotHaveUsernamePasswordPort()||(""===(e=ou(e))?this.port=null:this.parse(e,ol))},getPathname:function(){var e=this.path;return this.cannotBeABaseURL?e[0]:e.length?"/"+mu(e,"/"):""},setPathname:function(e){this.cannotBeABaseURL||(this.path=[],this.parse(e,cl))},getSearch:function(){var e=this.query;return e?"?"+e:""},setSearch:function(e){""===(e=ou(e))?this.query=null:("?"===pu(e,0)&&(e=Su(e,1)),this.query="",this.parse(e,dl)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var e=this.fragment;return e?"#"+e:""},setHash:function(e){""===(e=ou(e))?this.fragment=null:("#"===pu(e,0)&&(e=Su(e,1)),this.fragment="",this.parse(e,fl))},update:function(){this.query=this.searchParams.serialize()||null}},function(e){var t=Yc(this,L),n=1<au(arguments.length,1)?arguments[1]:void 0,e=iu(t,new Za(e,!1,n));Zc||(t.href=e.serialize(),t.origin=e.getOrigin(),t.protocol=e.getProtocol(),t.username=e.getUsername(),t.password=e.getPassword(),t.host=e.getHost(),t.hostname=e.getHostname(),t.port=e.getPort(),t.pathname=e.getPathname(),t.search=e.getSearch(),t.searchParams=e.getSearchParams(),t.hash=e.getHash())}),L=hl.prototype,pl=(Zc&&(A(L,"href",Ya("serialize","setHref")),A(L,"origin",Ya("getOrigin")),A(L,"protocol",Ya("getProtocol","setProtocol")),A(L,"username",Ya("getUsername","setUsername")),A(L,"password",Ya("getPassword","setPassword")),A(L,"host",Ya("getHost","setHost")),A(L,"hostname",Ya("getHostname","setHostname")),A(L,"port",Ya("getPort","setPort")),A(L,"pathname",Ya("getPathname","setPathname")),A(L,"search",Ya("getSearch","setSearch")),A(L,"searchParams",Ya("getSearchParams")),A(L,"hash",Ya("getHash","setHash"))),T(L,"toJSON",function(){return su(this).serialize()},{enumerable:!0}),T(L,"toString",function(){return su(this).serialize()},{enumerable:!0}),P&&(O=P.createObjectURL,w=P.revokeObjectURL,O&&T(hl,"createObjectURL",tn(O,P)),w)&&T(hl,"revokeObjectURL",tn(w,P)),fr(hl,"URL"),x({global:!0,constructor:!0,forced:!s,sham:!Zc},{URL:hl}),b.f),gl=h,ml=f,yl=a,vl=hr,Al=f,bl=m,wl=Error,El=d("".replace),y=String(new wl("zxcasd").stack),Sl=/\n\s*at [^:]*:[^\n]*/,kl=Sl.test(y),xl=N,Co=!n(function(){var e=new Error("a");return!("stack"in e)||(Object.defineProperty(e,"stack",xl(1,7)),7!==e.stack)}),Tl=m,Pl=function(e,t){if(kl&&"string"==typeof e&&!wl.prepareStackTrace)for(;t--;)e=El(e,Sl,"");return e},Rl=Co,Ol=Error.captureStackTrace,Cl=z,Bl=g,Ll=m,Il=Be,jl=a,Dl=se,Ml=function(e,t,n){n in e||pl(e,n,{configurable:!0,get:function(){return t[n]},set:function(e){t[n]=e}})},Ul=function(e,t,n){return yl&&gl(t=t.constructor)&&t!==n&&ml(t=t.prototype)&&t!==n.prototype&&yl(e,t),e},ql=function(e,t){return void 0===e?arguments.length<2?"":t:vl(e)},Nl=function(e,t){Al(t)&&"cause"in t&&bl(e,"cause",t.cause)},_l=function(e,t,n,r){Rl&&(Ol?Ol(e,t):Tl(e,"stack",Pl(n,r)))},Ql=i,Hl=ue,Fl=v,zl=function(e,t,n,r){var o="stackTraceLimit",a=r?2:1,e=e.split("."),i=e[e.length-1],s=Cl.apply(null,e);if(s){var c=s.prototype;if(Bl(c,"cause")&&delete c.cause,!n)return s;var e=Cl("Error"),u=t(function(e,t){t=ql(r?t:e,void 0),e=r?new s(e):new s;return void 0!==t&&Ll(e,"message",t),_l(e,u,e.stack,2),this&&Il(c,this)&&Ul(e,this,u),a<arguments.length&&Nl(e,arguments[a]),e});u.prototype=c,"Error"!==i?jl?jl(u,e):Dl(u,e,{name:!0}):Ql&&o in s&&(Ml(u,s,o),Ml(u,s,"prepareStackTrace")),Dl(u,s);try{c.name!==i&&Ll(c,"name",i),c.constructor=u}catch(e){}return u}},Gl="WebAssembly",Wl=e[Gl],Vl=7!==new Error("e",{cause:7}).cause,Jl=(Ka("Error",function(t){return function(e){return Fl(t,this,arguments)}}),Ka("EvalError",function(t){return function(e){return Fl(t,this,arguments)}}),Ka("RangeError",function(t){return function(e){return Fl(t,this,arguments)}}),Ka("ReferenceError",function(t){return function(e){return Fl(t,this,arguments)}}),Ka("SyntaxError",function(t){return function(e){return Fl(t,this,arguments)}}),Ka("TypeError",function(t){return function(e){return Fl(t,this,arguments)}}),Ka("URIError",function(t){return function(e){return Fl(t,this,arguments)}}),ei("CompileError",function(t){return function(e){return Fl(t,this,arguments)}}),ei("LinkError",function(t){return function(e){return Fl(t,this,arguments)}}),ei("RuntimeError",function(t){return function(e){return Fl(t,this,arguments)}}),W),Xl=X,$l=l,Zl=oe,Yl=TypeError,B={left:ti(!1),right:ti(!0)},Kl=n,Gt="process"===_(e.process),R=ue,ed=B.left;function td(){return"object"==typeof window&&"object"==typeof document&&"[object HTMLDocument]"===Object.prototype.toString.call(document)}function nd(){return Math.random().toString(36).slice(2)}function rd(e){return Object.keys(e)}function od(e){return Object.prototype.toString.call(e)}function ad(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function id(e){return"string"==typeof e}function sd(e){return"[object BigInt]"===od(e)}function cd(e){return e instanceof Array}function ud(e){return"object"==typeof e&&null!==e}function ld(e){return e instanceof Blob}function dd(e){return e instanceof URLSearchParams}function fd(e){return e instanceof FormData}function hd(e){return e instanceof Document}R({target:"Array",proto:!0,forced:!Gt&&79<Le&&Le<83||!function(e,t){var n=[][e];return!!n&&Kl(function(){n.call(null,t||function(){return 1},1)})}("reduce")},{reduce:function(e){var t=arguments.length;return ed(this,e,t,1<t?arguments[1]:void 0)}});const pd=e=>"".concat(e),gd=e=>({ok:!0,value:e});function md(e){return void 0===e?gd(pd(e)):null===e?gd(e):"number"!=typeof e||e!==-1/0&&e!==1/0&&!Number.isNaN(e)?sd(e)?gd("".concat(e,"n")):"symbol"==typeof e||"function"==typeof e?gd(pd(e.toString())):e instanceof Error?gd(pd(e.stack)):e===Object.prototype?{value:null,ok:!1}:e instanceof Object||"object"==typeof e?{value:e,ok:!1}:gd(e):gd(pd(e))}function yd(e){var{ok:t,value:n}=md(e);return t?n:JSON.stringify(e,(e,t)=>md(t).value,2)}const I=["log","info","error","warn"].reduce((e,t)=>(e[t]=e=>{console[t]("[PageSpy] [".concat(t.toLocaleUpperCase(),"]: ").concat(e.toString()))},e),{}),vd="page-spy-room";class Ad{constructor(){var{className:e="",el:t="div"}=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=document.createElement(t);t.dataset.testid="modal",t.className=["page-spy-modal",e].join(" "),t.style.display="none",t.onclick=e=>{e.stopPropagation(),e.preventDefault(),this.close()},this.el=t}show(){this.el.style.display="flex",setTimeout(()=>{this.el.classList.add("show")},50)}close(){this.el.classList.remove("show"),setTimeout(()=>{this.el.style.display="none"},300)}appendNode(e){this.el.insertAdjacentElement("beforeend",e)}}class bd{constructor(e){this.options={...e};var t=document.createElement("div");t.dataset.testid="content",t.className=["page-spy-content",e.className].join(" "),t.onclick=e=>{e.stopPropagation()},this.el=t,this.render()}render(){const{content:e="",onOk:t}=this.options;var n=document.createElement("div"),r=(n.className="page-spy-content__info",n.innerHTML=e,document.createElement("div")),o=(r.dataset.testid="copy-button",r.className="page-spy-content__ok",navigator.language);r.textContent="zh-CN"===o?"拷贝":"Copy",r.onclick=e=>{e.stopPropagation(),t&&t()},this.el.insertAdjacentElement("beforeend",n),this.el.insertAdjacentElement("beforeend",r)}}const wd="message",Ed="broadcast";var Sd=Object.freeze({__proto__:null,BROADCAST:Ed,CLOSE:"close",CONNECT:"connect",ERROR:"error",JOIN:"join",LEAVE:"leave",MESSAGE:wd,PING:"ping",PONG:"pong"});const kd="console",xd="refresh";function Td(e,t,n){return{role:"client",type:e,data:{...(!(2<arguments.length&&void 0!==n)||n)&&{id:nd()},...t}}}var Pd=Yt,Rd=TypeError,Od=Object.getOwnPropertyDescriptor,u=i&&!function(){if(void 0!==this)return 1;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(e){return e instanceof TypeError}}(),Cd=TypeError,Bd=X,Ld=oe,Id=u?function(e,t){if(Pd(e)&&!Od(e,"length").writable)throw new Rd("Cannot set read only .length");return e.length=t}:function(e,t){return e.length=t},jd=function(e){if(9007199254740991<e)throw Cd("Maximum allowed index exceeded");return e};ue({target:"Array",proto:!0,arity:1,forced:n(function(){return 4294967297!==[].push.call({length:4294967296},1)})||!function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(e){return e instanceof TypeError}}()},{push:function(e){var t=Bd(this),n=Ld(t),r=arguments.length;jd(n+r);for(var o=0;o<r;o++)t[n]=arguments[o],n++;return Id(t,n),n}});class Dd{constructor(){t(this,"store",{}),t(this,"instanceStore",{})}getStore(){return this.store}resetStore(){this.store={}}getInstanceStore(){return this.instanceStore}resetInstanceStore(){this.instanceStore={}}transformToAtom(e){var{value:t,ok:n}=md(e);return n?{id:nd(),type:void 0===(n=e)?"undefined":null===n?"null":sd(n)?"bigint":n instanceof Object?n instanceof Error?"error":n instanceof Function?"function":"object":typeof n,value:t}:this.add(e)}get(e){var t=this.store[e];const n=this.instanceStore[e];if(!t)return null;const r={},o=Object.getOwnPropertyDescriptors(t);Object.keys(o).forEach(e=>{var t=o[e];ad(t,"value")&&(t.value=this.transformToAtom(t.value)),r[e]=Dd.getAtomOverview({atomId:nd(),instanceId:n,value:t})});t=this.addExtraProperty(e);return{...r,...t}}getOrigin(e){e=this.store[e];return e||null}add(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",n=nd();let r=n;ud(o=e)&&ad(o,"constructor")&&"function"==typeof o.constructor&&(r=t),this.store[n]=e,this.instanceStore[n]=r;var o=Dd.getSemanticValue(e);return Dd.getAtomOverview({atomId:n,value:o,instanceId:r})}static getAtomOverview(e){var{instanceId:e="",atomId:t,value:n}=e;return{id:nd(),type:"atom",__atomId:t,instanceId:e,value:n}}static getSemanticValue(e){var t;return ud(t=e)&&"[object Object]"===od(t)?"Object {...}":cd(e)?"Array (".concat(e.length,")"):e.constructor.name}addExtraProperty(e){var t,n=this.store[e],e=this.instanceStore[e],r={};if((n instanceof String||n instanceof Number||n instanceof Boolean)&&(r["[[PrimitiveValue]]"]=this.transformToAtom(n.valueOf())),n instanceof Set){var o={};let e=0;for(const c of n)o[e++]=c;o.size=n.size,r["[[Entries]]"]=this.transformToAtom(o)}if(n instanceof Map){var a,i,s={};let e=0;for([a,i]of n.entries())s[e++]={key:a,value:i};s.size=n.size,r["[[Entries]]"]=this.transformToAtom(s)}return(cd(n)||(t=n,"function"==typeof NodeList&&"NodeList"===NodeList.name&&t instanceof NodeList)||"function"==typeof HTMLCollection&&"HTMLCollection"===HTMLCollection.name&&t instanceof HTMLCollection)&&(r.length=this.transformToAtom(n.length)),null!==Object.getPrototypeOf(n)?r["[[Prototype]]"]=this.add(Object.getPrototypeOf(n),e):r.___proto___=this.transformToAtom(null),r}}var Md,Ud=new Dd;(k=Md=Md||{})[k.CONNECTING=0]="CONNECTING",k[k.OPEN=1]="OPEN",k[k.CLOSING=2]="CLOSING",k[k.CLOSED=3]="CLOSED";class qd{constructor(){t(this,"socketUrl",""),t(this,"socketConnection",null),t(this,"pingTimer",null),t(this,"pongTimer",null),t(this,"retryTimer",null),t(this,"messages",[]),t(this,"events",{refresh:[],debug:[],"atom-detail":[],"atom-getter":[],"debugger-online":[],"database-pagination":[]}),t(this,"reconnectable",!0),t(this,"reconnectTimes",3),t(this,"connectionStatus",!1),this.addListener("debug",qd.handleDebugger),this.addListener("atom-detail",qd.handleResolveAtom),this.addListener("atom-getter",qd.handleAtomPropertyGetter),this.addListener("debugger-online",this.handleFlushBuffer)}init(e){try{var t,n,r,o;if(!e)throw Error("WebSocket url cannot be empty");this.socket.getState()!==Md.OPEN&&this.socket.getState()!==Md.CONNECTING||this.socket.destroy(),null!=(t=this.socket)&&t.onOpen(()=>{var e;this.connectOnline(),null!=(e=this.socket)&&e.onMessage(e=>{this.handleMessage(e)})}),null!=(n=this.socket)&&n.onClose(()=>{this.connectOffline()}),null!=(r=this.socket)&&r.onError(()=>{this.connectOffline()}),this.socketUrl=e,null!=(o=this.socket)&&o.init(e)}catch(e){I.error(e.message)}}addListener(e,t){this.events[e]||(this.events[e]=[]),this.events[e].push(t)}broadcastMessage(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],e=(e=e,{type:Ed,content:{data:e}});this.send(e,t)}close(){var e;this.clearPing(),this.reconnectTimes=0,this.reconnectable=!1,null!=(e=this.socket)&&e.close()}connectOnline(){this.connectionStatus=!0,this.reconnectTimes=3,this.ping()}connectOffline(){this.socket.destroy(),this.connectionStatus=!1,this.socketConnection=null,this.clearPing(),!this.reconnectable||this.reconnectTimes<=0?this.onOffline():(this.retryTimer&&clearTimeout(this.retryTimer),this.retryTimer=window.setTimeout(()=>{this.retryTimer=null,this.tryReconnect()},2e3))}tryReconnect(){--this.reconnectTimes,this.reconnectTimes<=0&&(this.reconnectable=!1),this.init(this.socketUrl)}ping(){this.pingTimer&&clearTimeout(this.pingTimer),this.pingTimer=setTimeout(()=>{this.send({type:"ping",content:null}),this.pingTimer=null,this.pongTimer=setTimeout(()=>{this.connectOffline(),this.pongTimer=null},5e3)},5e3)}clearPing(){this.pingTimer&&(clearTimeout(this.pingTimer),this.pingTimer=null),this.pongTimer&&(clearTimeout(this.pongTimer),this.pongTimer=null)}handlePong(){clearTimeout(this.pongTimer),this.pongTimer=null,this.pingTimer&&(clearTimeout(this.pingTimer),this.pingTimer=null),this.ping()}handleMessage(e){var t,{CONNECT:n,MESSAGE:r,ERROR:o}=Sd,a=JSON.parse(e.data),e=a["type"];switch(e){case n:var i=a.content["selfConnection"];this.socketConnection=i;break;case r:var{data:i,from:s,to:c}=a.content;c.address===(null==(t=this.socketConnection)?void 0:t.address)&&this.dispatchEvent(i.type,{source:i,from:s,to:c});break;case o:this.reconnectable=!1,this.connectOffline()}this.handlePong()}dispatchEvent(e,t){this.events[e].forEach(e=>{e.call(this,t,e=>{this.unicastMessage(e,t.from)})})}unicastMessage(e,t){e=e,n=this.socketConnection,t=t;var n,e={type:wd,content:{data:e,from:n,to:t}};this.send(e)}handleFlushBuffer(t){const n=t.source.data["latestId"];var e=this.messages.findIndex(e=>e.content.data.data.id===n);this.messages.slice(e+1).forEach(e=>{e={type:wd,content:{data:e.content.data,from:this.socketConnection,to:t.from}};this.send(e,!0)})}static handleDebugger(e,t){var e=e["source"],{type:e,data:n}=e;if("debug"===e){t(Td(kd,{logType:"debug-origin",logs:[{id:nd(),type:"debug-origin",value:n}]}));try{var r=new Function("return ".concat(n))();t(Td(kd,{logType:"debug-eval",logs:[Ud.transformToAtom(r)]}))}catch(e){t(Td(kd,{logType:"error",logs:[{type:"error",value:e.stack}]}))}}}static handleResolveAtom(e,t){var e=e["source"],{type:e,data:n}=e;"atom-detail"===e&&(e=Ud.get(n)||{},t(Td("atom-detail-".concat(n),e,!1)))}static handleAtomPropertyGetter(t,n){var t=t["source"],{type:t,data:r}=t;if("atom-getter"===t){var{id:t,parentId:r,key:o,instanceId:a}=r,a=Ud.getOrigin(a),r=Ud.getOrigin(r);let e={};e=a&&r?null==(r=Object.getOwnPropertyDescriptor(r,o))||null==(r=r.get)?void 0:r.call(a):new Error("Getter computed failed"),n(Td("atom-getter-".concat(t),Ud.transformToAtom(e)))}}send(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1];if(this.connectionStatus)try{var n,r=e;r.createdAt=Date.now(),r.requestId=nd(),null!=(n=this.socket)&&n.send(yd(e))}catch(e){throw Error("Incompatible: ".concat(e.message))}t||-1<[wd,"ping"].indexOf(e.type)||this.messages.push(e)}}class Nd extends class{constructor(){t(this,"events",{open:[],close:[],error:[],message:[]})}emit(e,t){this.events[e].forEach(e=>{e(t)}),"close"!==e&&"error"!==e||this.clearListeners()}onOpen(e){this.events.open.push(e)}onClose(e){this.events.close.push(e)}onError(e){this.events.error.push(e)}onMessage(e){this.events.message.push(e)}clearListeners(){Object.entries(this.events).forEach(e=>{var[,e]=e;e.splice(0)})}}{constructor(){super(...arguments),t(this,"socket",null)}init(e){this.socket=new WebSocket(e);["open","close","error","message"].forEach(e=>{this.socket.addEventListener(e,t=>{this.events[e].forEach(e=>{e(t)})})})}send(e){var t;null!=(t=this.socket)&&t.send(yd(e))}close(){var e;null!=(e=this.socket)&&e.close()}destroy(){this.close(),this.socket=null}getState(){var e;return null==(e=this.socket)?void 0:e.readyState}}qd;var j=new class extends qd{getSocket(){return this.socket}onOffline(){window.dispatchEvent(new CustomEvent("sdk-inactive")),sessionStorage.setItem(vd,JSON.stringify({usable:!1}))}constructor(){super(),t(this,"socket",new Nd)}};class _d{constructor(){t(this,"name","ConsolePlugin"),t(this,"console",{})}async onCreated(){var o=this;_d.hasInitd||(_d.hasInitd=!0,["log","info","error","warn","debug"].forEach(r=>{this.console[r]=window.console[r]||window.console.log||(()=>{}),window.console[r]=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];o.printLog({logType:r,logs:t,url:window.location.href})}}))}printLog(e){e.logs&&e.logs.length&&(this.console[e.logType](...e.logs),e.logs=e.logs.map(e=>Ud.transformToAtom(e)),e=Td(kd,{time:Date.now(),...e}),j.broadcastMessage(e))}}t(_d,"hasInitd",!1);const Qd=e=>{var t,n;return"object"!=typeof e||({name:e,message:t,stack:n}=Object(e),!1===[e,t,n].every(Boolean))?null:{name:e,message:t,stack:n}};class Hd{constructor(){t(this,"name","ErrorPlugin")}onCreated(){Hd.hasInitd||(Hd.hasInitd=!0,this.onUncaughtError(),this.onResourceLoadError(),this.onUnhandledRejectionError())}onUncaughtError(){window.addEventListener("error",e=>{var t,n;e.error?({message:t,stack:n}=e.error,e=Qd(e.error),Hd.sendMessage(n||t,e)):Hd.sendMessage("[PageSpy] An unknown error occurred and no stack trace available",null)})}onResourceLoadError(){window.addEventListener("error",e=>{e instanceof ErrorEvent||(e=e["target"],Hd.sendMessage("[PageSpy] Resource Load Error: Cannot load resource of (".concat(e.src||e.href,")"),null))},!0)}onUnhandledRejectionError(){window.addEventListener("unhandledrejection",e=>{var t=Qd(e.reason);Hd.sendMessage(e.reason,t)})}static sendMessage(e,t){e={logType:"error",logs:[Ud.transformToAtom(e)],time:Date.now(),url:window.location.href,errorDetail:t},t=Td(kd,e);j.broadcastMessage(t)}}t(Hd,"hasInitd",!1);const Fd=r=>new Promise((t,e)=>{var n=new FileReader;n.onload=e=>{t(null==(e=e.target)?void 0:e.result)},n.onerror=()=>{e(new Error("blob2base64Async: can not convert"))},n.readAsDataURL(r)});function zd(){var e=Vd(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.unicodeSets&&(t+="v"),e.sticky&&(t+="y"),t}function Gd(a,i,s,c,u,e){var l=s+a.length,d=c.length,t=Rf;return void 0!==u&&(u=Ef(u),t=Pf),xf(e,t,function(e,t){var n;switch(kf(t,0)){case"$":return"$";case"&":return a;case"`":return Tf(i,0,s);case"'":return Tf(i,l);case"<":n=u[Tf(t,1,-1)];break;default:var r,o=+t;if(0==o)return e;if(d<o)return 0!==(r=Sf(o/10))&&r<=d?void 0===c[r-1]?kf(t,1):c[r-1]+kf(t,1):e;n=c[o-1]}return void 0===n?"":n})}var Wd,Vd=o,A=n,Jd=e.RegExp,O=A(function(){var e=Jd("a","y");return e.lastIndex=2,null!==e.exec("abcd")}),T=O||A(function(){return!Jd("a","y").sticky}),tn={BROKEN_CARET:O||A(function(){var e=Jd("^r","gy");return e.lastIndex=2,null!==e.exec("str")}),MISSED_STICKY:T,UNSUPPORTED_Y:O},w=n,Xd=e.RegExp,P=w(function(){var e=Xd(".","s");return!(e.dotAll&&e.test("\n")&&"s"===e.flags)}),fr=n,$d=e.RegExp,x=fr(function(){var e=$d("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")}),Zd=c,s=d,Yd=hr,Kd=zd,b=tn,y=Ze,ef=p,tf=E.get,Co=P,a=x,nf=y("native-string-replace",String.prototype.replace),rf=RegExp.prototype.exec,of=rf,af=s("".charAt),sf=s("".indexOf),cf=s("".replace),uf=s("".slice),lf=(l=/b*/g,Zd(rf,B=/a/,"a"),Zd(rf,l,"a"),0!==B.lastIndex||0!==l.lastIndex),df=b.BROKEN_CARET,ff=void 0!==/()??/.exec("")[1],R=of=lf||ff||df||Co||a?function(e){var t,n,r,o,a,i,s=this,c=tf(s),e=Yd(e),u=c.raw;if(u)return u.lastIndex=s.lastIndex,d=Zd(of,u,e),s.lastIndex=u.lastIndex,d;var l=c.groups,u=df&&s.sticky,d=Zd(Kd,s),c=s.source,f=0,h=e;if(u&&(d=cf(d,"y",""),-1===sf(d,"g")&&(d+="g"),h=uf(e,s.lastIndex),0<s.lastIndex&&(!s.multiline||s.multiline&&"\n"!==af(e,s.lastIndex-1))&&(c="(?: "+c+")",h=" "+h,f++),t=new RegExp("^(?:"+c+")",d)),ff&&(t=new RegExp("^"+c+"$(?!\\s)",d)),lf&&(n=s.lastIndex),r=Zd(rf,u?t:s,h),u?r?(r.input=uf(r.input,f),r[0]=uf(r[0],f),r.index=s.lastIndex,s.lastIndex+=r[0].length):s.lastIndex=0:lf&&r&&(s.lastIndex=s.global?r.index+r[0].length:n),ff&&r&&1<r.length&&Zd(nf,r[0],t,function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(r[o]=void 0)}),r&&l)for(r.groups=a=ef(null),o=0;o<l.length;o++)a[(i=l[o])[0]]=r[i[1]];return r}:of,hf=(ue({target:"RegExp",proto:!0,forced:/./.exec!==R},{exec:R}),Ra),pf=ee,gf=R,mf=n,yf=r,vf=m,Af=yf("species"),bf=RegExp.prototype,wf=S.charAt,Gt=d,Ef=X,Sf=Math.floor,kf=Gt("".charAt),xf=Gt("".replace),Tf=Gt("".slice),Pf=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,Rf=/\$([$&'`]|\d{1,2})/g,Of=c,Cf=o,Bf=h,Lf=_,If=R,jf=TypeError,Df=v,Mf=c,Le=d,Yt=function(n,e,t,r){var i,o=yf(n),s=!mf(function(){var e={};return e[o]=function(){return 7},7!==""[n](e)}),a=s&&!mf(function(){var e=!1,t=/a/;return"split"===n&&((t={constructor:{}}).constructor[Af]=function(){return t},t.flags="",t[o]=/./[o]),t.exec=function(){return e=!0,null},t[o](""),!e});s&&a&&!t||(i=hf(/./[o]),a=e(o,""[n],function(e,t,n,r,o){var e=hf(e),a=t.exec;return a===gf||a===bf.exec?s&&!o?{done:!0,value:i(t,n,r)}:{done:!0,value:e(n,t,r)}:{done:!1}}),pf(String.prototype,n,a[0]),pf(bf,o,a[1])),r&&vf(bf[o],"sham",!0)},i=n,Uf=o,qf=h,Nf=Q,_f=te,Qf=re,Hf=hr,Ff=H,zf=function(e,t,n){return t+(n?wf(e,t).length:1)},Gf=V,Wf=Gd,Vf=function(e,t){var n=e.exec;if(Bf(n))return null!==(n=Of(n,e,t))&&Cf(n),n;if("RegExp"===Lf(e))return Of(If,e,t);throw new jf("RegExp#exec called on incompatible receiver")},Jf=r("replace"),Xf=Math.max,$f=Math.min,Zf=Le([].concat),Yf=Le([].push),Kf=Le("".indexOf),eh=Le("".slice),u="$0"==="a".replace(/./,"$0"),th=!!/./[Jf]&&""===/./[Jf]("a","$0");Yt("replace",function(e,A,b){var w=th?"$":"$0";return[function(e,t){var n=Ff(this),r=Nf(e)?void 0:Gf(e,Jf);return r?Mf(r,e,n,t):Mf(A,Hf(n),e,t)},function(e,t){var n=Uf(this),r=Hf(e);if("string"==typeof t&&-1===Kf(t,w)&&-1===Kf(t,"$<")){e=b(A,n,r,t);if(e.done)return e.value}for(var o,a=qf(t),i=(a||(t=Hf(t)),n.global),s=(i&&(o=n.unicode,n.lastIndex=0),[]);null!==(f=Vf(n,r))&&(Yf(s,f),i);)""===Hf(f[0])&&(n.lastIndex=zf(r,Qf(n.lastIndex),o));for(var c,u="",l=0,d=0;d<s.length;d++){for(var f,h=Hf((f=s[d])[0]),p=Xf($f(_f(f.index),r.length),0),g=[],m=1;m<f.length;m++)Yf(g,void 0===(c=f[m])?c:String(c));var y=f.groups,v=a?(v=Zf([h],g,p,r),void 0!==y&&Yf(v,y),Hf(Df(t,void 0,v))):Wf(h,r,p,g,y,t);l<=p&&(u+=eh(r,l,p)+v,l=p+h.length)}return u+eh(r,l)}]},!!i(function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})||!u||th);const nh={EXCEED_SIZE:"Exceed maximum limit"},rh=((k=Wd=Wd||{})[k.UNSENT=0]="UNSENT",k[k.OPENED=1]="OPENED",k[k.HEADERS_RECEIVED=2]="HEADERS_RECEIVED",k[k.LOADING=3]="LOADING",k[k.DONE=4]="DONE","(file)");function oh(t){var n=[];let r=t.next();for(;!r.done;){var[o,a]=r.value;let e;e=a instanceof File?rh:String(a),n.push([o,e]),r=t.next()}return n}function ah(n,r){try{let e,t;t=td()?({searchParams:o,href:a}=new URL(n,r),e=a,[...o.entries()]):function(e){for(var t=/[?&]([^=#]+)=([^&#]*)/g,n=[];null!==(o=t.exec(e));){var r=decodeURIComponent(o[1]),o=decodeURIComponent(o[2]);n.push([r,o])}return n}(e=n.toString());var o,a,i=e.replace(/^.*?([^/]+)(\/)*(\?.*?)?$/,"$1$2$3")||"";return{url:e,name:i,query:t}}catch(e){return{url:"Unknown",name:"Unknown",query:null}}}const ih="Content-Type";function sh(t,e){if(!e)return t;e=(e=e)?fd(e)?"multipart/form-data":dd(e)?"application/x-www-form-urlencoded;charset=UTF-8":hd(e)?"application/xml":ld(e)?e.type:"text/plain;charset=UTF-8":null;if(!e)return t;e=[ih,e];if(!t)return[e];for(let e=0;e<t.length;e++){var[n]=t[e];if(n.toUpperCase()===ih.toUpperCase())return t}return[...t,e]}async function ch(e){return e?dd(e)||fd(e)?oh(e.entries()):ld(e)?"[object Blob]":ArrayBuffer.isView(e)?"[object TypedArray]":hd(e)?(new XMLSerializer).serializeToString(e):id(e)?e:od(e):null}function uh(e){return 200<=e&&e<400}class lh{constructor(e){t(this,"id",""),t(this,"name",""),t(this,"method",""),t(this,"url",""),t(this,"requestType","xhr"),t(this,"requestHeader",null),t(this,"status",0),t(this,"statusText",""),t(this,"readyState",0),t(this,"responseReason",null),t(this,"responseType",""),t(this,"responseHeader",null),t(this,"startTime",0),t(this,"endTime",0),t(this,"costTime",0),t(this,"getData",null),t(this,"postData",null),t(this,"requestPayload",null),t(this,"withCredentials",!1),this.id=e}}class dh extends class{constructor(e){t(this,"reqMap",Object.create(null)),this.socketStore=e}getRequestMap(){return this.reqMap}getRequest(e){return this.reqMap[e]}createRequest(e){return e?this.reqMap[e]?(I.warn("The request object has been in store, disallow duplicate create"),!1):(this.reqMap[e]=new lh(e),!0):(I.error('The "id" is required when init request object'),!1)}setRequest(e,t){return!(!e||!t||(this.reqMap[e]=t,0))}sendRequestItem(e,t){this.reqMap[e]||(this.reqMap[e]=t);var n=Td("network",{...t},!1);this.socketStore.broadcastMessage(n,t.readyState!==Wd.DONE),this.deferDeleteRequest(e)}deferDeleteRequest(e){var t=this.getRequest(e);t&&t.readyState===Wd.DONE&&setTimeout(()=>{delete this.reqMap[e]},3e3)}}{constructor(){super(j)}}class fh extends dh{constructor(){super(),t(this,"xhrOpen",null),t(this,"xhrSend",null),t(this,"xhrSetRequestHeader",null),this.initProxyHandler()}initProxyHandler(){const s=this;if(window.XMLHttpRequest){const{open:c,send:i,setRequestHeader:r}=window.XMLHttpRequest.prototype;this.xhrOpen=c,this.xhrSend=i,this.xhrSetRequestHeader=r,window.XMLHttpRequest.prototype.open=function(){const r=this;for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var o=t[0],a=t[1];const i=nd();return s.createRequest(i),this.pageSpyRequestId=i,this.pageSpyRequestMethod=o,this.pageSpyRequestUrl=a,r.addEventListener("readystatechange",async()=>{const t=s.getRequest(i);if(t){switch(t.readyState=r.readyState,r.readyState){case r.UNSENT:case r.OPENED:t.status=r.status,t.statusText="Pending",t.startTime||(t.startTime=Date.now());break;case r.HEADERS_RECEIVED:t.status=r.status,t.statusText="Loading";var e=(r.getAllResponseHeaders()||"").trim().split(/[\r\n]+/);t.responseHeader=e.reduce((e,t)=>{var[t,...n]=t.split(": ");return e.push([t,n.join(": ")]),e},[]);break;case r.LOADING:t.status=r.status,t.statusText="Loading";break;case r.DONE:t.status=r.status,t.statusText="Done",t.endTime=Date.now(),t.costTime=t.endTime-(t.startTime||t.endTime);const n=await s.formatResponse(r);rd(n).forEach(e=>{t[e]=n[e]});break;default:t.status=r.status,t.statusText="Unknown"}s.sendRequestItem(r.pageSpyRequestId,t)}else I.warn("The request object is not found on XMLHttpRequest's readystatechange event")}),c.apply(r,t)},window.XMLHttpRequest.prototype.setRequestHeader=function(e,t){var n=s.getRequest(this.pageSpyRequestId);return n?(n.requestHeader||(n.requestHeader=[]),n.requestHeader.push([e,t])):I.warn("The request object is not found on XMLHttpRequest's setRequestHeader event"),r.apply(this,[e,t])},window.XMLHttpRequest.prototype.send=function(e){const t=this;var{pageSpyRequestId:n,pageSpyRequestMethod:r="GET",pageSpyRequestUrl:o=""}=t;const a=s.getRequest(n);return a?(n=ah(o,window.location.href),a.url=n.url,a.name=n.name,a.getData=n.query,a.method=r.toUpperCase(),a.requestType="xhr",a.responseType=t.responseType,a.withCredentials=t.withCredentials,"GET"!==a.method&&(a.requestHeader=sh(a.requestHeader,e),ch(e).then(e=>{a.requestPayload=e,s.sendRequestItem(t.pageSpyRequestId,a)}))):I.warn("The request object is not found on XMLHttpRequest's send event"),i.apply(t,[e])}}}async formatResponse(n){var e,r={response:"",responseReason:null};if(uh(n.status))switch(n.responseType){case"":case"text":if(id(n.response))try{r.response=JSON.parse(n.response)}catch(e){r.response=n.response}else void 0!==n.response&&(r.response=od(n.response));break;case"json":void 0!==n.response&&(r.response=n.response);break;case"blob":case"arraybuffer":if(n.response){let t=n.response;if(ld(t=t instanceof ArrayBuffer&&(e=n.getResponseHeader("content-type"))?new Blob([t],{type:e}):t))if(t.size<=2097152)try{r.response=await Fd(t)}catch(e){r.response=await t.text(),I.error(e.message)}else r.response="[object Blob]",r.responseReason=nh.EXCEED_SIZE}break;default:void 0!==n.response&&(r.response=Object.prototype.toString.call(n.response))}return r}}function hh(e){var n,r;this.promise=new e(function(e,t){if(void 0!==n||void 0!==r)throw new Eh("Bad Promise constructor");n=e,r=t}),this.resolve=wh(n),this.reject=wh(r)}var A=e.Promise,ph=Eo,gh=G,mh=TypeError,yh=o,vh=function(e){if(ph(e))return e;throw new mh(gh(e)+" is not a constructor")},Ah=Q,bh=r("species"),T={},wh=W,Eh=TypeError,Sh=(T.f=function(e){return new hh(e)},o),kh=f,xh=T,O=ue,w=A,fr=n,Th=z,Ph=h,Rh=function(e,t){var e=yh(e).constructor;return void 0===e||Ah(e=yh(e)[bh])?t:vh(e)},Oh=function(e,t){return Sh(e),kh(t)&&t.constructor===e?t:((0,(e=xh.f(e)).resolve)(t),e.promise)},tn=ee,Ch=w&&w.prototype;O({target:"Promise",proto:!0,real:!0,forced:!!w&&fr(function(){Ch.finally.call({then:function(){}},function(){})})},{finally:function(t){var n=Rh(this,Th("Promise")),e=Ph(t);return this.then(e?function(e){return Oh(n,t()).then(function(){return e})}:t,e?function(e){return Oh(n,t()).then(function(){throw e})}:t)}}),Ph(w)&&(Ze=Th("Promise").prototype.finally,Ch.finally!==Ze)&&tn(Ch,"finally",Ze,{unsafe:!0});class Bh extends dh{constructor(){super(),t(this,"fetch",null),this.initProxyHandler()}initProxyHandler(){const c=this,e=window.fetch;e&&(this.fetch=e,window.fetch=function(r){var o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},a=e(r,o);const i=nd(),s=(c.createRequest(i),c.getRequest(i));if(s){let e="GET",t,n=null;n=id(r)||r instanceof URL?(e=o.method||"GET",t=r,o.headers||null):(e=r.method,t=r.url,r.headers);r=ah(t,window.location.href);s.url=r.url,s.name=r.name,s.getData=r.query,s.method=e.toUpperCase(),s.requestType="fetch",s.status=0,s.statusText="Pending",s.startTime=Date.now(),s.readyState=XMLHttpRequest.UNSENT,o.credentials&&"omit"!==o.credentials&&(s.withCredentials=!0),n instanceof Headers?s.requestHeader=[...n.entries()]:ud(n)?s.requestHeader=Object.entries(n):s.requestHeader=n,"GET"!==s.method&&(s.requestHeader=sh(s.requestHeader,o.body),ch(o.body).then(e=>{s.requestPayload=e,c.sendRequestItem(i,s)})),c.sendRequestItem(i,s),a.then(e=>{if(s.endTime=Date.now(),s.costTime=s.endTime-(s.startTime||s.endTime),s.status=e.status||200,s.statusText=e.statusText||"Done",s.responseHeader=[...e.headers.entries()],s.readyState=XMLHttpRequest.HEADERS_RECEIVED,c.sendRequestItem(i,s),!uh(e.status))return"";var t=e.headers.get("content-type");if(t){if(t.includes("application/json"))return s.responseType="json",e.clone().text();if(t.includes("text/html")||t.includes("text/plain"))return s.responseType="text",e.clone().text()}return s.responseType="blob",e.clone().blob()}).then(async t=>{switch(s.responseType){case"text":case"json":try{s.response=JSON.parse(t)}catch(e){s.response=t,s.responseType="text"}break;case"blob":var n=t;if(n.size<=2097152)try{s.response=await Fd(n)}catch(e){s.response=await n.text(),I.error(e.message)}else s.response="[object Blob]",s.responseReason=nh.EXCEED_SIZE}}).finally(()=>{s.readyState=XMLHttpRequest.DONE,c.sendRequestItem(i,s)})}else I.warn("The request object is not found on window.fetch event");return a})}}class Lh extends dh{constructor(){super(),t(this,"sendBeacon",null),this.initProxyHandler()}initProxyHandler(){const a=window.navigator.sendBeacon;if(a){const i=this;this.sendBeacon=a,window.navigator.sendBeacon=function(e,t){var n=a.call(window.navigator,e,t);const r=nd(),o=(i.createRequest(r),i.getRequest(r));return o?(e=ah(e,window.location.href),o.url=e.url,o.name=e.name,o.getData=e.query,o.method="POST",o.status=0,o.statusText="Pending",o.requestType="ping",o.requestHeader=sh(o.requestHeader,t),o.startTime=Date.now(),ch(t).then(e=>{o.requestPayload=e,i.sendRequestItem(r,o)}),o.response="",n?(o.status=200,o.statusText="Sent",o.endTime=Date.now(),o.costTime=o.endTime-(o.startTime||o.endTime)):(o.status=500,o.statusText="Unknown"),o.readyState=XMLHttpRequest.DONE,i.sendRequestItem(r,o)):I.warn("The request object is not on navigator.sendBeacon event"),n}}}}class Ih{constructor(){t(this,"name","NetworkPlugin"),t(this,"xhrProxy",null),t(this,"fetchProxy",null),t(this,"beaconProxy",null)}onCreated(){Ih.hasInitd||(Ih.hasInitd=!0,this.xhrProxy=new fh,this.fetchProxy=new Bh,this.beaconProxy=new Lh)}}t(Ih,"hasInitd",!1);function jh(e,t,n){return n>e.length?-1:""===t?n:ep(e,t,n)}var p=e,E=ko,Dh=(ue({global:!0},{Reflect:{}}),E(p.Reflect,"Reflect",!0),f),Mh=_,Uh=r("match"),qh=c,Nh=g,_h=Be,Qh=zd,Hh=RegExp.prototype,P=ue,Fh=c,x=d,zh=H,Gh=h,Wh=Q,Vh=function(e){var t;return Dh(e)&&(void 0!==(t=e[Uh])?!!t:"RegExp"===Mh(e))},Jh=hr,Xh=V,$h=function(e){var t=e.flags;return void 0!==t||"flags"in Hh||Nh(e,"flags")||!_h(Hh,e)?t:qh(Qh,e)},Zh=Gd,Yh=r("replace"),Kh=TypeError,ep=x("".indexOf),tp=(x("".replace),x("".slice)),np=Math.max;P({target:"String",proto:!0},{replaceAll:function(e,t){var n,r,o,a,i,s,c,u=zh(this),l=0,d=0,f="";if(!Wh(e)){if(Vh(e)&&(n=Jh(zh($h(e))),!~ep(n,"g")))throw new Kh("`.replaceAll` does not allow non-global regexes");if(n=Xh(e,Yh))return Fh(n,e,u,t)}for(r=Jh(u),o=Jh(e),(a=Gh(t))||(t=Jh(t)),i=o.length,s=np(1,i),l=jh(r,o,0);-1!==l;)c=a?Jh(t(o,l,r)):Zh(o,r,l,[],void 0,t),f+=tp(r,d,l)+c,d=l+i,l=jh(r,o,l+s);return d<r.length&&(f+=tp(r,d)),f}});const rp={WeChat:/MicroMessenger\/([\d.]+)/,QQ:/(?:QQBrowser|MQQBrowser|QQ)\/([\d.]+)/,UC:/(?:UCBrowser|UCBS)\/([\d.]+)/,Baidu:/(?:BIDUBrowser|baiduboxapp)[/]?([\d.]*)/,Edge:/Edg(?:e|A|iOS)?\/([\d.]+)/,Chrome:/(?:Chrome|CriOS)\/([\d.]+)/,Firefox:/(?:Firefox|FxiOS)\/([\d.]+)/,Safari:/Version\/([\d.]+).*Safari/},op={Windows:/Windows NT ([\d_.]+)/,iPhone:/iPhone OS ([\d_.]+)/,iPad:/iPad.*OS ([\d_.]+)/,Mac:/Mac OS X ([\d_.]+)/,Android:/Android ([\d_.]+)/,Linux:/Linux/};function ap(e){var t=0<arguments.length&&void 0!==e?e:window.navigator.userAgent;let n="Unknown",r="Unknown",o="Unknown",a="Unknown";for(const c in op)if(Object.prototype.hasOwnProperty.call(op,c)){var i=op[c],i=t.match(i);if(i){n=c,r=null==(i=i[1])?void 0:i.replaceAll("_",".");break}}for(const u in rp)if(Object.prototype.hasOwnProperty.call(rp,u)){var s=t.match(rp[u]);if(s){o=u,a=s[1];break}}return{osName:n,osVersion:r,browserName:o,browserVersion:a}}var ip,sp;ip={exports:{}},function(M,f,l,h){function p(e,t){return typeof e===t}function U(e){var t,n=A.className,r=v._config.classPrefix||"";b&&(n=n.baseVal),v._config.enableJSClass&&(t=new RegExp("(^|\\s)"+r+"no-js(\\s|$)"),n=n.replace(t,"$1"+r+"js$2")),v._config.enableClasses&&(0<e.length&&(n+=" "+r+e.join(" "+r)),b?A.className.baseVal=n:A.className=n)}function d(e,t){if("object"==typeof e)for(var n in e)F(e,n)&&d(n,e[n]);else{var r=(e=e.toLowerCase()).split("."),o=v[r[0]];if(void 0!==(o=2===r.length?o[r[1]]:o))return v;t="function"==typeof t?t():t,1===r.length?v[r[0]]=t:(!v[r[0]]||v[r[0]]instanceof Boolean||(v[r[0]]=new Boolean(v[r[0]])),v[r[0]][r[1]]=t),U([(t&&!1!==t?"":"no-")+r.join("-")]),v._trigger(e,t)}return v}function g(e){return"function"!=typeof l.createElement?l.createElement(e):b?l.createElementNS.call(l,"http://www.w3.org/2000/svg",e):l.createElement.apply(l,arguments)}function m(e,t,n,r){var o,a,i,s,c="modernizr",u=g("div");(s=l.body)||((s=g(b?"svg":"body")).fake=!0);if(parseInt(n,10))for(;n--;)(a=g("div")).id=r?r[n]:c+(n+1),u.appendChild(a);return(o=g("style")).type="text/css",o.id="s"+c,(s.fake?s:u).appendChild(o),s.appendChild(u),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(l.createTextNode(e)),u.id=c,s.fake&&(s.style.background="",s.style.overflow="hidden",i=A.style.overflow,A.style.overflow="hidden",A.appendChild(s)),o=t(u,e),s.fake&&s.parentNode?(s.parentNode.removeChild(s),A.style.overflow=i,A.offsetHeight):u.parentNode.removeChild(u),!!o}function q(e,t,n){var r,o;return"getComputedStyle"in f?(r=getComputedStyle.call(f,e,t),o=f.console,null!==r?n&&(r=r.getPropertyValue(n)):o&&o[o.error?"error":"log"].call(o,"getComputedStyle returning null, its possible modernizr test results are inaccurate")):r=!t&&e.currentStyle&&e.currentStyle[n],r}function y(e){return e.replace(/([A-Z])/g,function(e,t){return"-"+t.toLowerCase()}).replace(/^ms-/,"-ms-")}function N(e){return e.replace(/([a-z])-([a-z])/g,function(e,t,n){return t+n.toUpperCase()}).replace(/^-/,"")}function _(e,t,n,r){function o(){i&&(delete P.style,delete P.modElem)}if(r=!(void 0===r)&&r,void 0!==n){var a=function(e,t){var n=e.length;if("CSS"in f&&"supports"in f.CSS){for(;n--;)if(f.CSS.supports(y(e[n]),t))return!0;return!1}if("CSSSupportsRule"in f){for(var r=[];n--;)r.push("("+y(e[n])+":"+t+")");return m("@supports ("+(r=r.join(" or "))+") { #modernizr { position: absolute; } }",function(e){return"absolute"===q(e,null,"position")})}return h}(e,n);if(void 0!==a)return a}for(var i,s,c,u,l,d=["modernizr","tspan","samp"];!P.style&&d.length;)i=!0,P.modElem=g(d.shift()),P.style=P.modElem.style;for(c=e.length,s=0;s<c;s++)if(u=e[s],l=P.style[u],~(""+u).indexOf("-")&&(u=N(u)),P.style[u]!==h){if(r||void 0===n)return o(),"pfx"!==t||u;try{P.style[u]=n}catch(e){}if(P.style[u]!==l)return o(),"pfx"!==t||u}return o(),!1}function r(e,t,n,r,o){var a,i,s=e.charAt(0).toUpperCase()+e.slice(1),c=(e+" "+W.join(s+" ")+s).split(" ");if(p(t,"string")||void 0===t)return _(c,t,r,o);var u=(e+" "+w.join(s+" ")+s).split(" "),l=t,d=n;for(i in u)if(u[i]in l)if(!1===d)return u[i];else{a=l[u[i]];if(p(a,"function")){var f=a;var h=d||l;return function(){return f.apply(h,arguments)};return}else return a}return!1}function Q(e,t){e=e.deleteDatabase(t);e.onsuccess=function(){d("indexeddb.deletedatabase",!0)},e.onerror=function(){d("indexeddb.deletedatabase",!1)}}function H(e){var t,n=le.length,r=f.CSSRule;if(void 0===r)return h;if(e){if((t=(e=e.replace(/^@/,"")).replace(/-/g,"_").toUpperCase()+"_RULE")in r)return"@"+e;for(var o=0;o<n;o++){var a=le[o];if(a.toUpperCase()+"_"+t in r)return"@-"+a.toLowerCase()+"-"+e}}return!1}var F,n,z,o=[],e={_version:"4.0.0-alpha",_config:{classPrefix:"",enableClasses:!1,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(e,t){var n=this;setTimeout(function(){t(n[e])},0)},addTest:function(e,t,n){o.push({name:e,fn:t,options:n})},addAsyncTest:function(e){o.push({name:null,fn:e})}},v=function(){},G=(v.prototype=e,v=new v,[]),A=l.documentElement,b="svg"===A.nodeName.toLowerCase(),t=(F=void 0===(n={}.hasOwnProperty)||void 0===n.call?function(e,t){return t in e&&void 0===e.constructor.prototype[t]}:function(e,t){return n.call(e,t)},e._l={},e.on=function(e,t){this._l[e]||(this._l[e]=[]),this._l[e].push(t),v.hasOwnProperty(e)&&setTimeout(function(){v._trigger(e,v[e])},0)},e._trigger=function(e,t){var n;this._l[e]&&(n=this._l[e],setTimeout(function(){for(var e=0;e<n.length;e++)(0,n[e])(t)},0),delete this._l[e])},v._q.push(function(){e.addTest=d}),"Moz O ms Webkit"),W=e._config.usePrefixes?t.split(" "):[],w=(e._cssomPrefixes=W,e.atRule=H,e._config.usePrefixes?t.toLowerCase().split(" "):[]),a=(e._domPrefixes=w,z=!("onblur"in A),function(e,t){var n;return!!e&&(!(n=(e="on"+e)in(t=t&&"string"!=typeof t?t:g(t||"div")))&&z&&((t=t.setAttribute?t:g("div")).setAttribute(e,""),n="function"==typeof t[e],t[e]!==h&&(t[e]=h),t.removeAttribute(e)),n)});if(e.hasEvent=a,!b){var i=l;function V(e,t){var n=e.createElement("p"),e=e.getElementsByTagName("head")[0]||e.documentElement;return n.innerHTML="x<style>"+t+"</style>",e.insertBefore(n.lastChild,e.firstChild)}function E(){var e=x.elements;return"string"==typeof e?e.split(" "):e}function S(e){var t=re[e[te]];return t||(t={},ne++,e[te]=ne,re[ne]=t),t}function J(e,t,n){return t=t||i,s?t.createElement(e):!(t=(n=n||S(t)).cache[e]?n.cache[e].cloneNode():ee.test(e)?(n.cache[e]=n.createElem(e)).cloneNode():n.createElem(e)).canHaveChildren||K.test(e)||t.tagUrn?t:n.frag.appendChild(t)}function X(e){var t,n,r=S(e=e||i);return!x.shivCSS||Y||r.hasCSS||(r.hasCSS=!!V(e,"article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}")),s||(t=e,(n=r).cache||(n.cache={},n.createElem=t.createElement,n.createFrag=t.createDocumentFragment,n.frag=n.createFrag()),t.createElement=function(e){return x.shivMethods?J(e,t,n):n.createElem(e)},t.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+E().join().replace(/[\w\-:]+/g,function(e){return n.createElem(e),n.frag.createElement(e),'c("'+e+'")'})+");return n}")(x,n.frag)),e}function $(e){for(var t,n=e.getElementsByTagName("*"),r=n.length,o=RegExp("^(?:"+E().join("|")+")$","i"),a=[];r--;)t=n[r],o.test(t.nodeName)&&a.push(t.applyElement(function(e){for(var t,n=e.attributes,r=n.length,o=e.ownerDocument.createElement(T+":"+e.nodeName);r--;)(t=n[r]).specified&&o.setAttribute(t.nodeName,t.nodeValue);return o.style.cssText=e.style.cssText,o}(t)));return a}function Z(s){function c(){clearTimeout(n._removeSheetTimer),u&&u.removeNode(!0),u=null}var u,l,n=S(s),e=s.namespaces,t=s.parentWindow;return!ae||s.printShived||(void 0===e[T]&&e.add(T),t.attachEvent("onbeforeprint",function(){c();for(var e,t,n,r=s.styleSheets,o=[],a=r.length,i=Array(a);a--;)i[a]=r[a];for(;n=i.pop();)if(!n.disabled&&oe.test(n.media)){try{t=(e=n.imports).length}catch(e){t=0}for(a=0;a<t;a++)i.push(e[a]);try{o.push(n.cssText)}catch(e){}}o=function(e){for(var t,n=e.split("{"),r=n.length,o=RegExp("(^|[\\s,>+~])("+E().join("|")+")(?=[[\\s,>+~#.:]|$)","gi"),a="$1"+T+"\\:$2";r--;)(t=n[r]=n[r].split("}"))[t.length-1]=t[t.length-1].replace(o,a),n[r]=t.join("}");return n.join("{")}(o.reverse().join("")),l=$(s),u=V(s,o)}),t.attachEvent("onafterprint",function(){for(var e=l,t=e.length;t--;)e[t].removeNode();clearTimeout(n._removeSheetTimer),n._removeSheetTimer=setTimeout(c,500)}),s.printShived=!0),s}var Y,s,c=(t=void 0!==f?f:this).html5||{},K=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,ee=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,te="_html5shiv",ne=0,re={};try{var u=i.createElement("a");u.innerHTML="<xyz></xyz>",Y="hidden"in u,s=1==u.childNodes.length||(i.createElement("a"),void 0===(k=i.createDocumentFragment()).cloneNode)||void 0===k.createDocumentFragment||void 0===k.createElement}catch(u){s=Y=!0}var k,x={elements:c.elements||"abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output picture progress section summary template time video",version:"3.7.3",shivCSS:!1!==c.shivCSS,supportsUnknownElements:s,shivMethods:!1!==c.shivMethods,type:"default",shivDocument:X,createElement:J,createDocumentFragment:function(e,t){if(e=e||i,s)return e.createDocumentFragment();for(var n=(t=t||S(e)).frag.cloneNode(),r=0,o=E(),a=o.length;r<a;r++)n.createElement(o[r]);return n},addElements:function(e,t){var n=x.elements;"string"!=typeof n&&(n=n.join(" ")),"string"!=typeof e&&(e=e.join(" ")),x.elements=n+" "+e,X(t)}},oe=(t.html5=x,X(i),/^$|\b(?:all|print)\b/),T="html5shiv",ae=!(s||(k=i.documentElement,void 0===i.namespaces)||void 0===i.parentWindow||void 0===k.applyElement||void 0===k.removeNode||void 0===t.attachEvent);x.type+=" print",(x.shivPrint=Z)(i),ip.exports&&(ip.exports=x)}var ie,se=function(){},ce=function(){},c=(f.console&&(se=function(){var e=console.error?"error":"log";f.console[e].apply(f.console,Array.prototype.slice.call(arguments))},ce=function(){var e=console.warn?"warn":"log";f.console[e].apply(f.console,Array.prototype.slice.call(arguments))}),e.load=function(){"yepnope"in f?(ce("yepnope.js (aka Modernizr.load) is no longer included as part of Modernizr. yepnope appears to be available on the page, so we’ll use it to handle this call to Modernizr.load, but please update your code to use yepnope directly.\n See http://github.com/Modernizr/Modernizr/issues/1182 for more information."),f.yepnope.apply(f,[].slice.call(arguments,0))):se("yepnope.js (aka Modernizr.load) is no longer included as part of Modernizr. Get it from http://yepnopejs.com. See http://github.com/Modernizr/Modernizr/issues/1182 for more information.")},(ie=f.matchMedia||f.msMatchMedia)?function(e){e=ie(e);return e&&e.matches||!1}:function(e){var t=!1;return m("@media "+e+" { #modernizr { position: absolute; } }",function(e){t="absolute"===q(e,null,"position")}),t}),ue=(e.mq=c,{elem:g("modernizr")}),P=(v._q.push(function(){delete ue.elem}),{style:ue.elem.style}),R=(v._q.unshift(function(){delete P.style}),e.testAllProps=r,e.prefixed=function(e,t,n){return 0===e.indexOf("@")?H(e):(-1!==e.indexOf("-")&&(e=N(e)),t?r(e,t,n):r(e,"pfx"))}),le=e._config.usePrefixes?" -webkit- -moz- -o- -ms- ".split(" "):["",""],O=(e._prefixes=le,e.prefixedCSS=function(e){e=R(e);return e&&y(e)},e.testAllProps=function(e,t,n){return r(e,h,h,t,n)},e.testProp=function(e,t,n){return _([e],h,t,n)},e.testStyles=m,v.addAsyncTest(function(){var e,t=["read","readText","write","writeText"];if(navigator.clipboard){d("clipboard",!0);for(var n=0;n<t.length;n++)e=!!navigator.clipboard[t[n]],d("clipboard."+t[n].toLowerCase(),e)}else d("clipboard",!1)}),v.addTest("contextmenu","contextMenu"in A&&"HTMLMenuItemElement"in f),v.addTest("cors","XMLHttpRequest"in f&&"withCredentials"in new XMLHttpRequest),v.addTest("es6array",!!(Array.prototype&&Array.prototype.copyWithin&&Array.prototype.fill&&Array.prototype.find&&Array.prototype.findIndex&&Array.prototype.keys&&Array.prototype.entries&&Array.prototype.values&&Array.from&&Array.of)),v.addTest("arrow",function(){try{(0,eval)("()=>{}")}catch(e){return!1}return!0}),v.addTest("es6class",function(){try{(0,eval)("class A{}")}catch(e){return!1}return!0}),v.addTest("es6collections",!!(f.Map&&f.Set&&f.WeakMap&&f.WeakSet)),v.addTest("generators",function(){try{new Function("function* test() {}")()}catch(e){return!1}return!0}),v.addTest("es6math",!!(Math&&Math.clz32&&Math.cbrt&&Math.imul&&Math.sign&&Math.log10&&Math.log2&&Math.log1p&&Math.expm1&&Math.cosh&&Math.sinh&&Math.tanh&&Math.acosh&&Math.asinh&&Math.atanh&&Math.hypot&&Math.trunc&&Math.fround)),v.addTest("es6number",!!(Number.isFinite&&Number.isInteger&&Number.isSafeInteger&&Number.isNaN&&Number.parseInt&&Number.parseFloat&&Number.isInteger(Number.MAX_SAFE_INTEGER)&&Number.isInteger(Number.MIN_SAFE_INTEGER)&&Number.isFinite(Number.EPSILON))),v.addTest("es6object",!!(Object.assign&&Object.is&&Object.setPrototypeOf)),v.addTest("promises",function(){return"Promise"in f&&"resolve"in f.Promise&&"reject"in f.Promise&&"all"in f.Promise&&"race"in f.Promise&&(new f.Promise(function(e){t=e}),"function"==typeof t);var t}),v.addTest("restparameters",function(){try{(0,eval)("function f(...rest) {}")}catch(e){return!1}return!0}),v.addTest("spreadarray",function(){try{(0,eval)("(function f(){})(...[1])")}catch(e){return!1}return!0}),v.addTest("stringtemplate",function(){try{return"-1-"===(0,eval)("(function(){var a=1; return `-${a}-`;})()")}catch(e){return!1}}),v.addTest("es6string",!!(String.fromCodePoint&&String.raw&&String.prototype.codePointAt&&String.prototype.repeat&&String.prototype.startsWith&&String.prototype.endsWith&&String.prototype.includes)),v.addTest("es6symbol",!!("function"==typeof Symbol&&Symbol.for&&Symbol.hasInstance&&Symbol.isConcatSpreadable&&Symbol.iterator&&Symbol.keyFor&&Symbol.match&&Symbol.prototype&&Symbol.replace&&Symbol.search&&Symbol.species&&Symbol.split&&Symbol.toPrimitive&&Symbol.toStringTag&&Symbol.unscopables)),v.addTest("es7array",!(!Array.prototype||!Array.prototype.includes)),v.addTest("restdestructuringarray",function(){try{(0,eval)("var [...rest]=[1]")}catch(e){return!1}return!0}),v.addTest("restdestructuringobject",function(){try{(0,eval)("var {...rest}={a:1}")}catch(e){return!1}return!0}),v.addTest("spreadobject",function(){try{(0,eval)("var a={...{b:1}}")}catch(e){return!1}return!0}),v.addTest("es8object",!(!Object.entries||!Object.values)),v.addTest("customevent","CustomEvent"in f&&"function"==typeof f.CustomEvent),v.addTest("eventlistener","addEventListener"in f),v.addTest("forcetouch",function(){return!!a(R("mouseforcewillbegin",f,!1),f)&&MouseEvent.WEBKIT_FORCE_AT_MOUSE_DOWN&&MouseEvent.WEBKIT_FORCE_AT_FORCE_MOUSE_DOWN}),v.addTest("hashchange",function(){return!1!==a("hashchange",f)&&(l.documentMode===h||7<l.documentMode)}),v.addTest("oninput",function(){var e=g("input");if(e.setAttribute("oninput","return"),e.style.cssText="position:fixed;top:0;",a("oninput",A)||"function"==typeof e.oninput)return!0;try{var t=l.createEvent("KeyboardEvent"),n=!1,r=function(e){n=!0,e.preventDefault(),e.stopPropagation()};t.initKeyEvent("keypress",!0,!0,f,!1,!1,!1,!1,0,"e".charCodeAt(0)),A.appendChild(e),e.addEventListener("input",r,!1),e.focus(),e.dispatchEvent(t),e.removeEventListener("input",r,!1),A.removeChild(e)}catch(e){n=!1}return n}),[""].concat(w)),de=(e._domPrefixesAll=O,v.addTest("pointerevents",function(){for(var e=0,t=O.length;e<t;e++)if(a(O[e]+"pointerdown"))return!0;return!1}),v.addTest("history",function(){var e=navigator.userAgent;return!!e&&(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone")||"file:"===location.protocol)&&f.history&&"pushState"in f.history}),v.addTest("sandbox","sandbox"in g("iframe")),v.addTest("seamless","seamless"in g("iframe")),v.addTest("srcdoc","srcdoc"in g("iframe")),v.addTest("canvas",function(){var e=g("canvas");return!(!e.getContext||!e.getContext("2d"))}),v.addAsyncTest(function(){if(!v.canvas)return!1;var e=new Image,t=g("canvas"),n=t.getContext("2d");e.onload=function(){d("apng",function(){return void 0!==t.getContext&&(n.drawImage(e,0,0),0===n.getImageData(0,0,1,1).data[3])})},e.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAACGFjVEwAAAABAAAAAcMq2TYAAAANSURBVAiZY2BgYPgPAAEEAQB9ssjfAAAAGmZjVEwAAAAAAAAAAQAAAAEAAAAAAAAAAAD6A+gBAbNU+2sAAAARZmRBVAAAAAEImWNgYGBgAAAABQAB6MzFdgAAAABJRU5ErkJggg=="}),v.addAsyncTest(function(){var e=new Image;e.onload=e.onerror=function(){d("avif",1===e.width)},e.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAAEcbWV0YQAAAAAAAABIaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGNhdmlmIC0gaHR0cHM6Ly9naXRodWIuY29tL2xpbmstdS9jYXZpZgAAAAAeaWxvYwAAAAAEQAABAAEAAAAAAUQAAQAAABcAAAAqaWluZgEAAAAAAAABAAAAGmluZmUCAAAAAAEAAGF2MDFJbWFnZQAAAAAOcGl0bQAAAAAAAQAAAHJpcHJwAAAAUmlwY28AAAAQcGFzcAAAAAEAAAABAAAAFGlzcGUAAAAAAAAAAQAAAAEAAAAQcGl4aQAAAAADCAgIAAAAFmF2MUOBAAwACggYAAYICGgIIAAAABhpcG1hAAAAAAAAAAEAAQUBAoMDhAAAAB9tZGF0CggYAAYICGgIIBoFHiAAAEQiBACwDoA="}),v.addTest("imgcrossorigin","crossOrigin"in g("img")),v.addAsyncTest(function(){var e=new Image;e.onerror=function(){d("exiforientation",!1)},e.onload=function(){d("exiforientation",2!==e.width)},e.src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEAYABgAAD/4QAiRXhpZgAASUkqAAgAAAABABIBAwABAAAABgASAAAAAAD/2wBDAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/2wBDAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/wAARCAABAAIDASIAAhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQAAAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSExBhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwD+/iiiigD/2Q=="}),v.addAsyncTest(function(){var e=new Image;e.onload=e.onerror=function(){d("jpeg2000",1===e.width)},e.src="data:image/jp2;base64,/0//UQAyAAAAAAABAAAAAgAAAAAAAAAAAAAABAAAAAQAAAAAAAAAAAAEBwEBBwEBBwEBBwEB/1IADAAAAAEAAAQEAAH/XAAEQED/ZAAlAAFDcmVhdGVkIGJ5IE9wZW5KUEVHIHZlcnNpb24gMi4wLjD/kAAKAAAAAABYAAH/UwAJAQAABAQAAf9dAAUBQED/UwAJAgAABAQAAf9dAAUCQED/UwAJAwAABAQAAf9dAAUDQED/k8+kEAGvz6QQAa/PpBABr994EAk//9k="}),v.addTest("lazyloading","loading"in HTMLImageElement.prototype),v.addAsyncTest(function(){function n(n,e,r){function t(e){var t=!(!e||"load"!==e.type)&&1===o.width;d(n,"webp"===n&&t?new Boolean(t):t),r&&r(e)}var o=new Image;o.onerror=t,o.onload=t,o.src=e}var r=[{uri:"data:image/webp;base64,UklGRiQAAABXRUJQVlA4IBgAAAAwAQCdASoBAAEAAwA0JaQAA3AA/vuUAAA=",name:"webp"},{uri:"data:image/webp;base64,UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAABBxAR/Q9ERP8DAABWUDggGAAAADABAJ0BKgEAAQADADQlpAADcAD++/1QAA==",name:"webp.alpha"},{uri:"data:image/webp;base64,UklGRlIAAABXRUJQVlA4WAoAAAASAAAAAAAAAAAAQU5JTQYAAAD/////AABBTk1GJgAAAAAAAAAAAAAAAAAAAGQAAABWUDhMDQAAAC8AAAAQBxAREYiI/gcA",name:"webp.animation"},{uri:"data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA=",name:"webp.lossless"}],e=r.shift();n(e.name,e.uri,function(e){if(e&&"load"===e.type)for(var t=0;t<r.length;t++)n(r[t].name,r[t].uri)})}),v.addTest("messagechannel","MessageChannel"in f),v.addTest("beacon","sendBeacon"in navigator),v.addTest("fetch","fetch"in f),v.addTest("performance",!!R("performance",f)),!0);try{f.postMessage({toString:function(){de=!1}},"*")}catch(e){}v.addTest("postmessage",new Boolean("postMessage"in f)),v.addTest("postmessage.structuredclones",de),v.addTest("proxy","Proxy"in f),v.addTest("queryselector","querySelector"in l&&"querySelectorAll"in l),v.addTest("prefetch",function(){var e;return 11===l.documentMode||!(!(e=g("link").relList)||!e.supports)&&e.supports("prefetch")}),v.addTest("requestanimationframe",!!R("requestAnimationFrame",f),{aliases:["raf"]}),v.addTest("scriptasync","async"in g("script")),v.addTest("scriptdefer","defer"in g("script")),v.addTest("serviceworker","serviceWorker"in navigator),v.addTest("cookies",function(){try{l.cookie="cookietest=1";var e=-1!==l.cookie.indexOf("cookietest=");return l.cookie="cookietest=1; expires=Thu, 01-Jan-1970 00:00:01 GMT",e}catch(e){return!1}}),v.addAsyncTest(function(){var t;try{t=R("indexedDB",f)}catch(t){}if(t){var n,r="modernizr-"+Math.random();try{n=t.open(r)}catch(t){return void d("indexeddb",!1)}n.onerror=function(e){!n.error||"InvalidStateError"!==n.error.name&&"UnknownError"!==n.error.name?(d("indexeddb",!0),Q(t,r)):(d("indexeddb",!1),e.preventDefault())},n.onsuccess=function(){d("indexeddb",!0),Q(t,r)}}else d("indexeddb",!1)}),v.addTest("localstorage",function(){var e="modernizr";try{return localStorage.setItem(e,e),localStorage.removeItem(e),!0}catch(e){return!1}}),v.addTest("sessionstorage",function(){var e="modernizr";try{return sessionStorage.setItem(e,e),sessionStorage.removeItem(e),!0}catch(e){return!1}}),v.addTest("websqldatabase","openDatabase"in f),v.addTest("webanimations","animate"in g("div")),v.addTest("webgl",function(){return"WebGLRenderingContext"in f}),v.addTest("peerconnection",!!R("RTCPeerConnection",f)),v.addTest("datachannel",function(){if(v.peerconnection)for(var e=0,t=O.length;e<t;e++){var n=f[O[e]+"RTCPeerConnection"];if(n)try{return"createDataChannel"in new n({})}catch(e){}}return!1}),v.addTest("getUserMedia","mediaDevices"in navigator&&"getUserMedia"in navigator.mediaDevices),v.addTest("resizeobserver","ResizeObserver"in f),v.addAsyncTest(function(){function e(){d("blobworkers",!1),t()}function t(){s&&r.revokeObjectURL(s),i&&i.terminate(),c&&clearTimeout(c)}try{var n=f.BlobBuilder,r=f.URL;v._config.usePrefix&&(n=n||f.MozBlobBuilder||f.WebKitBlobBuilder||f.MSBlobBuilder||f.OBlobBuilder,r=r||f.MozURL||f.webkitURL||f.MSURL||f.OURL);var o,a,i,s,c,u="this.onmessage=function(e){postMessage(e.data)}";try{o=new Blob([u],{type:"text/javascript"})}catch(e){}o||((a=new n).append(u),o=a.getBlob()),s=r.createObjectURL(o),(i=new Worker(s)).onmessage=function(e){d("blobworkers","Modernizr"===e.data),t()},i.onerror=e,c=setTimeout(e,200),i.postMessage("Modernizr")}catch(t){e()}}),v.addAsyncTest(function(){try{var t=new Worker("data:text/javascript;base64,dGhpcy5vbm1lc3NhZ2U9ZnVuY3Rpb24oZSl7cG9zdE1lc3NhZ2UoZS5kYXRhKX0=");t.onmessage=function(e){t.terminate(),d("dataworkers","Modernizr"===e.data),t=null},t.onerror=function(){d("dataworkers",!1),t=null},setTimeout(function(){d("dataworkers",!1)},200),t.postMessage("Modernizr")}catch(t){setTimeout(function(){d("dataworkers",!1)},0)}}),v.addTest("sharedworkers","SharedWorker"in f),v.addTest("blobconstructor",function(){try{return!!new Blob}catch(e){return!1}},{aliases:["blob-constructor"]});var C,B,L,I,j,D,fe,t=(t=R("URL",f,!1))&&f[t];for(fe in v.addTest("bloburls",t&&"revokeObjectURL"in t&&"createObjectURL"in t),v.addTest("webworkers","Worker"in f),v.addTest("typedarrays","ArrayBuffer"in f),v.addAsyncTest(function(){function e(){d("transferables",!1),t()}function t(){a&&URL.revokeObjectURL(a),i&&i.terminate(),r&&clearTimeout(r)}if(!(v.blobconstructor&&v.bloburls&&v.webworkers&&v.typedarrays))return d("transferables",!1);try{var n,r,o=new Blob(['var hello = "world"'],{type:"text/javascript"}),a=URL.createObjectURL(o),i=new Worker(a);i.onerror=e,r=setTimeout(e,200),n=new ArrayBuffer(1),i.postMessage(n,[n]),d("transferables",0===n.byteLength),t()}catch(t){e()}}),o)if(o.hasOwnProperty(fe)){if(C=[],(B=o[fe]).name&&(C.push(B.name.toLowerCase()),B.options)&&B.options.aliases&&B.options.aliases.length)for(L=0;L<B.options.aliases.length;L++)C.push(B.options.aliases[L].toLowerCase());for(I=p(B.fn,"function")?B.fn():B.fn,j=0;j<C.length;j++)1===(D=C[j].split(".")).length?v[D[0]]=I:(v[D[0]]&&(!v[D[0]]||v[D[0]]instanceof Boolean)||(v[D[0]]=new Boolean(v[D[0]])),v[D[0]][D[1]]=I),G.push((I?"":"no-")+D.join("-"))}U(G),delete e.addTest,delete e.addAsyncTest;for(var he=0;he<v._q.length;he++)v._q[he]();M.Modernizr=v}(window,window,document);const cp={Element:{sandbox:{title:"iframe/sandbox",keyPath:"iframe/sandbox"},srcdoc:{title:"iframe/srcdoc",keyPath:"iframe/srcdoc"},apng:{title:"img/apng",keyPath:"img/apng"},avif:{title:"img/avif",keyPath:"img/avif"},imgcrossorigin:{title:"img/crossorigin",keyPath:"img/crossorigin"},exiforientation:{title:"img/exif-orientation",keyPath:"img/exif-orientation"},lazyloading:{title:"img/lazyloading",keyPath:"img/lazyloading"},webp:{title:"img/webp",keyPath:"img/webp"},prefetch:{title:"link/prefetch",keyPath:"link/prefetch"},scriptasync:{title:"script/async",keyPath:"script/async"},scriptdefer:{title:"script/defer",keyPath:"script/defer"}},Feature:{clipboard:{title:"Clipboard",keyPath:"clipboard"},customevent:{title:"Custom Event",keyPath:"event/customevent"},eventlistener:{title:"Eventlistener",keyPath:"event/eventlistener"},forcetouch:{title:"Force Touch",keyPath:"event/forcetouch"},hashchange:{title:"Hash Change",keyPath:"event/hashchange"},oninput:{title:"Input Event",keyPath:"event/oninput"},pointerevents:{title:"Pointer Event",keyPath:"event/forcetouch"},history:{title:"History",keyPath:"history"},messagechannel:{title:"Message Channel",keyPath:"messagechannel"},postmessage:{title:"Postmessage",keyPath:"postmessage"},performance:{title:"Performance API",keyPath:"performance"},queryselector:{title:"queryselector",keyPath:"queryselector"},requestanimationframe:{title:"requestanimationframe",keyPath:"requestanimationframe"},serviceworker:{title:"Service Worker",keyPath:"serviceworker"},webanimations:{title:"Web Animation",keyPath:"webanimations"},webgl:{title:"WebGL",keyPath:"webgl/webgl"},datachannel:{title:"WebRTC/datachannel",keyPath:"webrtc/datachannel"},getusermedia:{title:"WebRTC/getusermedia",keyPath:"webrtc/getusermedia"},peerconnection:{title:"WebRTC/peerconnection",keyPath:"webrtc/peerconnection"},resizeobserver:{title:"Resizeobserver",keyPath:"window/resizeobserver"},sharedworkers:{title:"Shared Worker",keyPath:"workers/sharedworkers"},webworkers:{title:"Web Worker",keyPath:"workers/webworkers"}},Network:{cors:{title:"Cors",keyPath:"cors"},beacon:{title:"Beacon",keyPath:"network/beacon"},fetch:{title:"Fetch",keyPath:"network/fetch"}},Javascript:{es6array:{title:"ES6 Array",keyPath:"es6/array"},arrow:{title:"ES6 Arrow Function",keyPath:"es6/arrow"},es6class:{title:"ES6 Class",keyPath:"es6/class"},es6collections:{title:"ES6 Collections",keyPath:"es6/collections"},generators:{title:"ES6 Generators",keyPath:"es6/generators"},es6math:{title:"ES6 Math",keyPath:"es6/math"},es6number:{title:"ES6 Number",keyPath:"es6/number"},es6object:{title:"ES6 Object",keyPath:"es6/object"},promises:{title:"ES6 Promise",keyPath:"es6/promises"},restparameters:{title:"ES6 Rest Parameters",keyPath:"es6/rest-parameters"},spreadarray:{title:"ES6 Array Spread",keyPath:"es6/spread-array"},stringtemplate:{title:"ES6 String Template",keyPath:"es6/string-template"},es6string:{title:"ES6 String",keyPath:"es6/string"},es6symbol:{title:"ES6 Symbol",keyPath:"es6/symbol"},proxy:{title:"ES6 Proxy",keyPath:"proxy"},reflect:{title:"ES6 Reflect",customTest:"\"Reflect\" in window &&\n      typeof window.Reflect === 'object' &&\n      typeof Reflect.has === 'function' &&\n      [\n        'apply',\n        'construct',\n        'defineProperty',\n        'deleteProperty',\n        'getOwnPropertyDescriptor',\n        'getPrototypeOf',\n        'has',\n        'isExtensible',\n        'ownKeys',\n        'preventExtensions',\n        'setPrototypeOf',\n      ].every((i) => Reflect.has(Reflect, i))"},es7array:{title:"ES7 Array",keyPath:"es7/array"},restdestructuringarray:{title:"ES7 Rest Destructuring",keyPath:"es7/rest-destructuring"},spreadobject:{title:"ES7 Object Spread",keyPath:"es7/spread-object"},es8object:{title:"ES8 Object",keyPath:"es8/object"},finally:{title:"ES9 Promise Finally",customTest:"<ES6 Promise> && !!Promise.prototype.finally"}},Storage:{cookies:{title:"Cookies",keyPath:"storage/cookies"},indexeddb:{title:"IndexedDB",keyPath:"storage/indexeddb"},localstorage:{title:"LocalStorage",keyPath:"storage/localstorage"},sessionstorage:{title:"SessionStorage",keyPath:"storage/sessionstorage"},websqldatabase:{title:"Web SQL Database",keyPath:"storage/websqldatabase"}}},up=["indexeddb","apng","avif","exiforientation","webp"];async function lp(){const n={Element:[],Feature:[],Network:[],Javascript:[],Storage:[]};rd(cp).forEach(e=>{const r=cp[e];var t=rd(r).map(async e=>{var n,t=r[e];return t.keyPath&&(t.keyPath="".concat("https://github.com/Modernizr/Modernizr/tree/master/feature-detects","/").concat(t.keyPath,".js")),-1<up.indexOf(e)?t.supported=(n=e,await new Promise(t=>{Modernizr.on(n,e=>{t(e)})})):t.supported=Modernizr[e],t});n[e]=t});for(const e in n)ad(n,e)&&(n[e]=await Promise.all(n[e]));return n}window.Modernizr.addTest("finally",Modernizr.promises&&!!Promise.prototype.finally),window.Modernizr.addTest("reflect","Reflect"in window&&"object"==typeof window.Reflect&&"function"==typeof Reflect.has&&["apply","construct","defineProperty","deleteProperty","getOwnPropertyDescriptor","getPrototypeOf","has","isExtensible","ownKeys","preventExtensions","setPrototypeOf"].every(e=>Reflect.has(Reflect,e)));class dp{constructor(){t(this,"name","SystemPlugin")}async onCreated(){var e,t;dp.hasInitd||(dp.hasInitd=!0,e=nd(),t=await lp(),j.broadcastMessage(Td("system",{id:e,system:{ua:navigator.userAgent,...ap()},features:t}),!1))}}t(dp,"hasInitd",!1);class fp{constructor(){t(this,"name","PagePlugin")}onCreated(){fp.hasInitd||(fp.hasInitd=!0,j.addListener(xd,(e,t)=>{e=e.source,e=e.data;"page"===e&&t(fp.collectHtml())}))}static collectHtml(){return Td("page",{html:document.documentElement.outerHTML,location:window.location})}}t(fp,"hasInitd",!1);class D{constructor(){t(this,"name","StoragePlugin")}onCreated(){D.hasInitd||(D.hasInitd=!0,D.listenRefreshEvent(),D.initStorageProxy())}static async sendRefresh(e){let t=null;switch(e){case"localStorage":case"sessionStorage":t=D.takeStorage(e);break;case"cookie":t=await D.takeCookie()}t&&D.sendStorageItem(t)}static listenRefreshEvent(){j.addListener(xd,async e=>{e=e.source,e=e.data;D.sendRefresh(e)})}static takeStorage(e){var t={type:e,action:"get",data:[]},n=window[e],r=n.length;if(r)for(let e=0;e<=r-1;e++){var o,a=n.key(e);a&&(o=n.getItem(a)||"",t.data.push({name:a,value:o}))}return t}static async takeCookie(){var e={type:"cookie",action:"get",data:[]};return window.cookieStore?e.data=await window.cookieStore.getAll():e.data=document.cookie.split("; ").map(e=>{var[e,t]=e.split("=");return{name:e,value:t}}),e}static initStorageProxy(){const{getStorageType:n,sendStorageItem:r}=D,{clear:t,removeItem:o,setItem:a}=Storage.prototype;Storage.prototype.clear=function(){t.call(this);var e={type:n(this),action:"clear"};r(e)},Storage.prototype.removeItem=function(e){o.call(this,e);e={type:n(this),action:"remove",name:String(e)};r(e)},Storage.prototype.setItem=function(e,t){a.call(this,e,t);e={type:n(this),action:"set",name:String(e),value:String(t)};r(e)},window.cookieStore&&window.cookieStore.addEventListener("change",e=>{var{changed:e,deleted:t}=e;0<e.length&&e.forEach(e=>{e={type:"cookie",action:"set",...e};D.sendStorageItem(e)}),0<t.length&&t.forEach(e=>{e={type:"cookie",action:"remove",name:e.name};D.sendStorageItem(e)})})}static getStorageType(e){return e===localStorage?"localStorage":e===sessionStorage?"sessionStorage":e.constructor.name}static sendStorageItem(e){e=Td("storage",e);j.broadcastMessage(e,!0)}}t(D,"hasInitd",!1);class hp{static get(){return hp.value}}t(sp=hp,"scriptLink",td()?null==(y=document.currentScript)?void 0:y.src:""),t(hp,"resolveConfig",()=>{var e,t,n={api:"",clientOrigin:"",project:"default",autoRender:!0,title:"",enableSSL:null};return sp.scriptLink?({host:e,origin:t}=new URL(sp.scriptLink),{...n,api:e,clientOrigin:t}):n}),t(hp,"mergeConfig",e=>(sp.value={...sp.resolveConfig(),...e},sp.value));const pp=e=>{if("boolean"==typeof e)return e?["https://","wss://"]:["http://","ws://"];try{var t=new URL(hp.scriptLink)["protocol"];if(t.startsWith("https"))return["https://","wss://"]}catch(e){I.error("Failed to resolve the protocol and fallback to [http://, ws://]")}return["http://","ws://"]},gp=e=>{const n=new URLSearchParams;return Object.entries(e).forEach(e=>{var[e,t]=e;n.append(e,String(t))}),n.toString()};class mp{constructor(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"";if(!(this.base=e))throw Error("The api base url cannot be empty")}createRoom(){var e=hp.get(),t=pp(e.enableSSL),n=(e=>{var{osName:e,osVersion:t,browserName:n,browserVersion:r}=e;return"".concat(e,"/").concat(t," ").concat(n,"/").concat(r)})(ap()),n=gp({name:n,group:e.project,title:e.title});return fetch("".concat(t[0]).concat(this.base,"/api/v1/room/create?").concat(n),{method:"POST"}).then(e=>e.json()).catch(e=>{throw Error("Request create room failed: ".concat(e.message))})}getRoomUrl(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=hp.get(),t=pp(t.enableSSL);return"".concat(t[1]).concat(this.base,"/api/v1/ws/room/join?").concat(gp(e))}}function yp(e){return window.TouchEvent&&e instanceof TouchEvent?e.touches[0]:e}var vp;s="#__pageSpy {\n  font-size: 14px;\n}\n#__pageSpy .page-spy-logo {\n  position: fixed;\n  left: 1.42857143em;\n  bottom: 5.71428571em;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 5.71428571em;\n  height: 5.71428571em;\n  font-size: 1em;\n  border-radius: 5.71428571em;\n  background-color: #fff;\n  box-shadow: 0px 4px 8px 2px rgba(0, 0, 0, 0.2);\n  cursor: pointer;\n  z-index: 13000;\n  transition: all ease-in-out 0.3s;\n}\n#__pageSpy .page-spy-logo.inactive {\n  background-color: #a2a2a2;\n  filter: grayscale(1);\n}\n#__pageSpy .page-spy-modal {\n  position: fixed;\n  left: 0;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-color: rgba(0, 0, 0, 0.5);\n  opacity: 0;\n  transition: all ease-out 0.3s;\n  z-index: 13000;\n}\n#__pageSpy .page-spy-modal.show {\n  opacity: 1;\n}\n#__pageSpy .page-spy-content {\n  width: 75%;\n  max-width: 25em;\n  background-color: #fafafa;\n  border-radius: 0.28571429em;\n  text-align: center;\n}\n#__pageSpy .page-spy-content__info {\n  padding: 1.71428571em 1.14285714em;\n  font-size: 1.14285714em;\n  line-height: 1.5;\n  text-align: left;\n  color: #202124;\n  letter-spacing: 2px;\n}\n#__pageSpy .page-spy-content__info > p {\n  margin: 0;\n  padding: 0;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n#__pageSpy .page-spy-content__info > p b {\n  display: inline-block;\n  width: 6.57142857em;\n  text-align: right;\n  margin-right: 10px;\n}\n#__pageSpy .page-spy-content__ok {\n  padding: 0.57142857em 0;\n  border-top: 1px solid #eee;\n  font-size: 1.14285714em;\n  line-height: 1.5;\n  color: transparent;\n  -webkit-background-clip: text;\n          background-clip: text;\n  background-image: linear-gradient(45deg, #efdfff, #4e00b1 52%, #3d0c7c);\n  cursor: pointer;\n}\n.page-spy-toast {\n  position: fixed;\n  left: 50%;\n  top: 10%;\n  transform: translateX(-50%);\n  max-width: 50vw;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  padding: 6px 12px;\n  color: #9a62e4;\n  font-size: 14px;\n  background-color: #fafafa;\n  border-radius: 4px;\n  box-shadow: 0px 4px 8px 2px rgba(0, 0, 0, 0.2);\n  z-index: 99999;\n}\n",vp=(vp=void 0===vp?{}:vp).insertAt,s&&"undefined"!=typeof document&&(B=document.head||document.getElementsByTagName("head")[0],(l=document.createElement("style")).type="text/css","top"===vp&&B.firstChild?B.insertBefore(l,B.firstChild):B.appendChild(l),l.styleSheet?l.styleSheet.cssText=s:l.appendChild(document.createTextNode(s)));function Ap(n){return new Promise((e,t)=>{n.addEventListener("success",()=>{e(n.result)}),n.addEventListener("error",()=>{t()})})}class bp{constructor(){t(this,"name","DatabasePlugin")}static get isSupport(){return!!(IDBFactory&&IDBObjectStore&&window.indexedDB&&window.indexedDB.databases)}onCreated(){!bp.isSupport||bp.hasInitd||(bp.hasInitd=!0,bp.listenEvents(),bp.initIndexedDBProxy())}static listenEvents(){j.addListener(xd,async e=>{var e=e["source"];"indexedDB"===e.data&&(e={action:"basic",result:await this.takeBasicInfo()},bp.sendData(e))}),j.addListener("database-pagination",async e=>{var e=e["source"],{db:e,store:t,page:n}=e.data,e=await bp.getStoreDataWithPagination({db:e,store:t,page:n});bp.sendData(e)})}static initIndexedDBProxy(){var{put:e,add:t,delete:n,clear:r}=IDBObjectStore.prototype;const s=bp["sendData"],o=([{origin:e,method:"put"},{origin:t,method:"add"},{origin:n,method:"delete"},{origin:r,method:"clear"}].forEach(e=>{let{origin:a,method:i}=e;IDBObjectStore.prototype[i]=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=a.apply(this,t);const o={action:"clear"===i?"clear":"update",database:this.transaction.db.name,store:this.name};return r.addEventListener("success",()=>{s(o)}),r}}),IDBFactory.prototype.deleteDatabase);IDBFactory.prototype.deleteDatabase=function(e){var t=o.call(this,e);const n={action:"drop",database:e};return t.addEventListener("success",()=>{s(n)}),t}}static async takeBasicInfo(){var e=await window.indexedDB.databases();return e.length&&(e=e.filter(e=>e.name&&e.version)).length?(await Promise.all(e.map(e=>bp.getDBData(e)))).filter(Boolean):null}static async getDBData(e){try{var t,n={name:e.name,version:e.version,stores:[]};const r=await Ap(window.indexedDB.open(e.name,e.version));return r.objectStoreNames.length&&(t=[...r.objectStoreNames].map(e=>r.transaction(e,"readonly").objectStore(e)),n.stores=t.map(e=>{var{name:e,keyPath:t,autoIncrement:n,indexNames:r}=e;return{name:e,keyPath:t,autoIncrement:n,indexes:[...r]}})),n}catch(e){return I.error("Failed to get indexedDB data, more info: ".concat(e.message)),null}}static async getStoreDataWithPagination(e){var{db:e,store:t,page:n}=e;const r={action:"get",database:null,store:null,page:{current:n,prev:null,next:null},total:0,data:[]};if(n<1)return r;e=await Ap(window.indexedDB.open(e)),t=e.transaction(t,"readonly").objectStore(t);r.database={name:e.name,version:e.version},r.store={name:t.name,keyPath:t.keyPath,autoIncrement:t.autoIncrement,indexes:[...t.indexNames]},r.total=await Ap(t.count());const o=50*(n-1),a=50*n;r.page.prev=1<n?n-1:null,r.page.next=50+o<r.total?n+1:null;let i=0;const s=t.openCursor();return new Promise((t,e)=>{s.addEventListener("success",()=>{var e=s.result;e?(i>=o&&i<a&&r.data.push({key:e.key,value:e.value}),i++,e.continue()):t(r)}),s.addEventListener("error",e)})}static sendData(e){e=Td("database",e);j.broadcastMessage(e,!0)}}t(bp,"hasInitd",!1);class wp{static message(e){const t=document.createElement("div"),n=(t.classList.add("page-spy-toast"),t.innerText=String(e),document.documentElement.appendChild(t),setTimeout(()=>{document.contains(t)&&document.documentElement.removeChild(t),wp.timer===n&&(wp.timer=null)},1500));wp.timer=n}static destroy(){var e=document.querySelectorAll(".page-spy-toast");e.length&&([...e].forEach(e=>{document.contains(e)&&document.documentElement.removeChild(e)}),wp.timer)&&clearTimeout(wp.timer),wp.timer=null}}t(wp,"timer",null);const Ep="__pageSpy";class Sp{constructor(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(t(this,"root",null),t(this,"version","1.5.6"),t(this,"plugins",{}),t(this,"request",null),t(this,"name",""),t(this,"address",""),t(this,"roomUrl",""),t(this,"socketStore",j),Sp.instance)return I.warn("Cannot initialize PageSpy multiple times"),Sp.instance;Sp.instance=this;e=hp.mergeConfig(e).api;this.request=new mp(e),this.loadPlugins(new _d,new Hd,new Ih,new dp,new fp,new D,new bp),this.init()}loadPlugins(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t.forEach(e=>{(this.plugins[e.name]=e).onCreated&&e.onCreated()})}async init(){var e,t,n,r,o=hp.get(),a=sessionStorage.getItem(vd);null!==a&&({name:a,address:e,roomUrl:t,usable:n,project:r}=JSON.parse(a),n)&&o.project===r?(this.name=a,this.address=e,this.roomUrl=t,this.useOldConnection()):await this.createNewConnection(),document.addEventListener("visibilitychange",()=>{document.hidden||j.connectionStatus||this.useOldConnection()}),I.log("Plugins inited"),o.autoRender&&this.render()}async createNewConnection(){var e,t;this.request?(e=(await this.request.createRoom()).data,t=this.request.getRoomUrl({address:e.address,name:"client:".concat(nd()),userId:"Client"}),this.name=e.name,this.address=e.address,this.roomUrl=t,this.refreshRoomInfo(),j.init(t)):I.error("Cannot get the Request")}useOldConnection(){this.refreshRoomInfo(),j.init(this.roomUrl)}render(){if(document.querySelector("#".concat(Ep)))I.warn("Cannot render the widget because it has been in the DOM");else if(void 0!==document)"loading"===document.readyState?window.addEventListener("DOMContentLoaded",this.render.bind(this)):this.startRender();else{let e;const t=()=>{document&&"complete"===document.readyState?(e&&clearTimeout(e),this.startRender()):e=setTimeout(t,1)};e=setTimeout(t,1)}}refreshRoomInfo(){this.saveSession();const t=setInterval(()=>{var e=sessionStorage.getItem(vd);if(null!==e){e=JSON.parse(e)["usable"];if(!1===e)return void clearInterval(t)}this.saveSession()},15e3)}saveSession(){var{name:e,address:t,roomUrl:n}=this,e=JSON.stringify({name:e,address:t,roomUrl:n,usable:!0,project:hp.get().project});sessionStorage.setItem(vd,e)}startRender(){const{project:e,clientOrigin:o}=hp.get();var t=document.createElement("div");t.id=Ep,this.root=t;const n=document.createElement("div");n.className="page-spy-logo";var r=document.createElement("img");r.alt="PageSpy Logo",r.src="data:image/svg+xml,%3csvg width='255' height='255' viewBox='0 0 255 255' fill='none' xmlns='http://www.w3.org/2000/svg'%3e %3cpath d='M183 24L81 126V141.5L90 150.5H105L145 110.5H160.5L169.5 119.5V133.5L72 231' stroke='url(%23paint0_linear_106_8)' stroke-width='25' stroke-linecap='round' /%3e %3cdefs%3e %3clinearGradient id='paint0_linear_106_8' x1='127.5' y1='24' x2='127.5' y2='231' gradientUnits='userSpaceOnUse'%3e %3cstop stop-color='%233D0C7C' /%3e %3cstop offset='0.519204' stop-color='%234E00B1' /%3e %3cstop offset='1' stop-color='%23EFDFFF' /%3e %3c/linearGradient%3e %3c/defs%3e%3c/svg%3e",r.width=50,r.height=50,n.insertAdjacentElement("beforeend",r),t.insertAdjacentElement("beforeend",n),window.addEventListener("sdk-inactive",()=>{n.classList.add("inactive")});const a=new Ad;var[r,i]=this.name.split(" "),r=new bd({content:"\n      <p><b>Device ID:</b> <span style=\"font-family: 'Monaco'\">".concat(this.address.slice(0,4),"</span></p>\n      <p><b>System:</b> ").concat(r,"</p>\n      <p><b>Browser:</b> ").concat(i,"</p>\n      <p><b>Project:</b> ").concat(e,"</p>\n      "),onOk:()=>{var e="".concat(o,"/#/devtools?version=").concat(encodeURIComponent(this.name),"&address=").concat(encodeURIComponent(this.address)),e=ii(e);let t="";const n=navigator.languages;var r=["zh-CN","zh-HK","zh-TW","zh"].some(e=>n.includes(e));t=r?e?"拷贝成功!":"拷贝失败!":e?"Copy successfully!":"Copy failed!",wp.message(t),a.close()}});function s(e){var t=n["isMoveEvent"];t||(e.stopPropagation(),a.show())}a.appendNode(r.el),t.insertAdjacentElement("beforeend",a.el),n.addEventListener("click",s,!1),n.addEventListener("touchend",s,!1),document.documentElement.insertAdjacentElement("beforeend",t);{var c=n;let o;const f={xAxis:0,yAxis:0},h={x:0,y:0};function u(e){e.preventDefault(),c.isMoveEvent=!0;var{clientX:e,clientY:t}=yp(e),e=e-h.x,t=t-h.y;let n=o.x+e,r=(n<0?n=0:n>f.xAxis&&(n=f.xAxis),o.y+t);r<0?r=0:r>f.yAxis&&(r=f.yAxis),c.style.left="".concat(n,"px"),c.style.top="".concat(r,"px")}function l(){h.x=0,h.y=0,document.removeEventListener("mousemove",u),document.removeEventListener("mouseup",l),document.removeEventListener("touchmove",u),document.removeEventListener("touchend",l)}function d(e){e.preventDefault(),c.isMoveEvent=!1,o=c.getBoundingClientRect(),f.xAxis=window.innerWidth-o.width,f.yAxis=window.innerHeight-o.height;var{clientX:e,clientY:t}=yp(e);h.x=e,h.y=t,document.addEventListener("mousemove",u,!1),document.addEventListener("mouseup",l,!1),document.addEventListener("touchmove",u,{capture:!1,passive:!1}),document.addEventListener("touchend",l,!1)}c.addEventListener("mousedown",d,!1),c.addEventListener("touchstart",d,{capture:!1,passive:!1})}this.handleDeviceDPR(),I.log("Render success")}handleDeviceDPR(){var e=window.devicePixelRatio||1,t=document.querySelector('[name="viewport"]');t&&((t=(t.getAttribute("content")||"").match(/initial-scale=\d+(\.\d+)?/))?parseFloat(t[0].split("=")[1]):1)<1&&(this.root.style.fontSize="".concat(14*e,"px"))}}return t(Sp,"instance",null),Sp}();

  return PageSpy;
};
