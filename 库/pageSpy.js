/**
 * @desc 初始化PageSpy
 * @version 1.4.11
 * @latestTime 2024.1.3
 * @link https://fastly.jsdelivr.net/npm/@huolala-tech/page-spy
 */
/* prettier-ignore */
let initPageSpy = function () {
  var PageSpy=function(){"use strict";function D(e){e=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=typeof(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"==typeof e?e:String(e)}function t(e,t,n){(t=D(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function U(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function q(e){return e&&e.Math===Math&&e}function n(e){try{return!!e()}catch(e){return!0}}function _(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}function N(e){return Ae(ve(e),8,-1)}function Q(e){return null==e}function H(e){if(Ee(e))throw new ke("Can't call method on "+e);return e}function F(e){return xe(Pe(e))}function z(e,t){return arguments.length<2?(n=Be[e],Ce(n)?n:void 0):Be[e]&&Be[e][t];var n}function G(e){try{return Ne(e)}catch(e){return"Object"}}function W(e){if(Qe(e))return e;throw new Fe(He(e)+" is not a function")}function V(e,t){return e=e[t],Ge(e)?void 0:ze(e)}function J(t,n){try{Ze($e,t,{value:n,configurable:!0,writable:!0})}catch(e){$e[t]=n}return n}function X(e){return tt(et(e))}function $(e){return"Symbol("+(void 0===e?"":e)+")_"+it(++ot+at,36)}function r(e){return st(lt,e)||(lt[e]=ct&&st(ut,e)?ut[e]:dt("Symbol."+e)),lt[e]}function Z(e){return e=At(e,"string"),bt(e)?e:e+""}function Y(e){return St?wt.createElement(e):{}}function o(e){if(Lt(e))return e;throw new jt(It(e)+" is not an object")}function K(e){return Xt[e]||(Xt[e]=Jt(e))}function ee(e,t,n,r){var o=(r=r||{}).enumerable,a=void 0!==r.name?r.name:t;if(An(n)&&wn(n,a,r),r.global)o?e[t]=n:Sn(t,n);else{try{r.unsafe?e[t]&&(o=!0):delete e[t]}catch(e){}o?e[t]=n:bn.f(e,t,{value:n,enumerable:!1,configurable:!r.nonConfigurable,writable:!r.nonWritable})}return e}function te(e){return(e=+e)!=e||0==e?0:xn(e)}function ne(e,t){return(e=Pn(e))<0?Tn(e+t,0):Rn(e,t)}function re(e){return 0<e?Bn(On(e),9007199254740991):0}function oe(e){return Cn(e.length)}function ae(s){return function(e,t,n){var r,o=Ln(e),a=jn(o),i=In(n,a);if(s&&t!=t){for(;i<a;)if((r=o[i++])!=r)return!0}else for(;i<a;i++)if((s||i in o)&&o[i]===t)return s||i||0;return!s&&-1}}function ie(e,t){var n,r=Dn(e),o=0,a=[];for(n in r)!Mn(qn,n)&&Mn(r,n)&&_n(a,n);for(;t.length>o;)!Mn(r,n=t[o++])||~Un(a,n)||_n(a,n);return a}function se(e,t,n){for(var r=Vn(t),o=Xn.f,a=Jn.f,i=0;i<r.length;i++){var s=r[i];Wn(e,s)||n&&Wn(n,s)||o(e,s,a(t,s))}}function ce(e,t){return(e=er[Kn(e)])===nr||e!==tr&&(Zn(t)?$n(t):!!t)}function ue(e,t){var n,r,o,a=e.target,i=e.global,s=e.stat,c=i?rr:s?rr[a]||sr(a,{}):(rr[a]||{}).prototype;if(c)for(n in t){if(r=t[n],o=e.dontCallGetSet?(o=or(c,n))&&o.value:c[n],!ur(i?n:a+(s?".":"#")+n,e.forced)&&void 0!==o){if(typeof r==typeof o)continue;cr(r,o)}(e.sham||o&&o.sham)&&ar(r,"sham",!0),ir(c,n,r,e)}}var le,de,fe,he,e=q("object"==typeof globalThis&&globalThis)||q("object"==typeof window&&window)||q("object"==typeof self&&self)||q("object"==typeof e&&e)||q("object"==typeof e&&e)||function(){return this}()||Function("return this")(),a={},i=!n(function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]}),pe=!n(function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}),ge=Function.prototype.call,s=pe?ge.bind(ge):function(){return ge.apply(ge,arguments)},c={},u={}.propertyIsEnumerable,me=Object.getOwnPropertyDescriptor,l=me&&!u.call({1:2},1),l=(c.f=l?function(e){e=me(this,e);return!!e&&e.enumerable}:u,pe),u=Function.prototype,ye=u.call,u=l&&u.bind.bind(ye,ye),l=l?u:function(e){return function(){return ye.apply(e,arguments)}},u=l,ve=u({}.toString),Ae=u("".slice),u=n,be=N,we=Object,Se=l("".split),u=u(function(){return!we("z").propertyIsEnumerable(0)})?function(e){return"String"===be(e)?Se(e,""):we(e)}:we,Ee=Q,ke=TypeError,xe=u,Pe=H,d="object"==typeof document&&document.all,d={all:d,IS_HTMLDDA:void 0===d&&void 0!==d},Te=d.all,f=d.IS_HTMLDDA?function(e){return"function"==typeof e||e===Te}:function(e){return"function"==typeof e},Re=f,Oe=d.all,d=d.IS_HTMLDDA?function(e){return"object"==typeof e?null!==e:Re(e)||e===Oe}:function(e){return"object"==typeof e?null!==e:Re(e)},Be=e,Ce=f,Le=l({}.isPrototypeOf),h="undefined"!=typeof navigator&&String(navigator.userAgent)||"",Ie=e.process,p=e.Deno,Ie=Ie&&Ie.versions||p&&p.version,p=Ie&&Ie.v8,Ie=m=!(m=p?0<(g=p.split("."))[0]&&g[0]<4?1:+(g[0]+g[1]):m)&&h&&(!(g=h.match(/Edge\/(\d+)/))||74<=g[1])&&(g=h.match(/Chrome\/(\d+)/))?+g[1]:m,je=Ie,p=n,Me=e.String,h=!!Object.getOwnPropertySymbols&&!p(function(){var e=Symbol("symbol detection");return!Me(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&je&&je<41}),g=h&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,De=z,Ue=f,qe=Le,_e=Object,m=g?function(e){return"symbol"==typeof e}:function(e){var t=De("Symbol");return Ue(t)&&qe(t.prototype,_e(e))},Ne=String,Qe=f,He=G,Fe=TypeError,ze=W,Ge=Q,We=s,Ve=f,Je=d,Xe=TypeError,p={exports:{}},$e=e,Ze=Object.defineProperty,y=J,Ye="__core-js_shared__",y=e[Ye]||y(Ye,{}),Ke=y,Ye=((p.exports=function(e,t){return Ke[e]||(Ke[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.34.0",mode:"global",copyright:"© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.34.0/LICENSE",source:"https://github.com/zloirock/core-js"}),p.exports),et=H,tt=Object,nt=X,rt=l({}.hasOwnProperty),p=Object.hasOwn||function(e,t){return rt(nt(e),t)},v=l,ot=0,at=Math.random(),it=v(1..toString),v=Ye,st=p,A=$,ct=h,ut=e.Symbol,lt=v("wks"),dt=g?ut.for||ut:ut&&ut.withoutSetter||A,ft=s,ht=d,pt=m,gt=V,mt=function(e,t){var n,r;if("string"===t&&Ve(n=e.toString)&&!Je(r=We(n,e)))return r;if(Ve(n=e.valueOf)&&!Je(r=We(n,e)))return r;if("string"!==t&&Ve(n=e.toString)&&!Je(r=We(n,e)))return r;throw new Xe("Can't convert object to primitive value")},yt=TypeError,vt=r("toPrimitive"),At=function(e,t){if(!ht(e)||pt(e))return e;var n=gt(e,vt);if(n){if(n=ft(n,e,t=void 0===t?"default":t),!ht(n)||pt(n))return n;throw new yt("Can't convert object to primitive value")}return mt(e,t=void 0===t?"number":t)},bt=m,v=d,wt=e.document,St=v(wt)&&v(wt.createElement),Et=Y,g=!i&&!n(function(){return 7!==Object.defineProperty(Et("div"),"a",{get:function(){return 7}}).a}),kt=s,xt=c,Pt=_,Tt=F,Rt=Z,Ot=p,Bt=g,Ct=Object.getOwnPropertyDescriptor,A=(a.f=i?Ct:function(e,t){if(e=Tt(e),t=Rt(t),Bt)try{return Ct(e,t)}catch(e){}if(Ot(e,t))return Pt(!kt(xt.f,e,t),e[t])},{}),v=i&&n(function(){return 42!==Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype}),Lt=d,It=String,jt=TypeError,Mt=g,Dt=o,Ut=Z,qt=TypeError,_t=Object.defineProperty,Nt=Object.getOwnPropertyDescriptor,Qt="enumerable",Ht="configurable",Ft="writable",g=(A.f=i?v?function(e,t,n){var r;return Dt(e),t=Ut(t),Dt(n),"function"==typeof e&&"prototype"===t&&"value"in n&&Ft in n&&!n[Ft]&&(r=Nt(e,t))&&r[Ft]&&(e[t]=n.value,n={configurable:(Ht in n?n:r)[Ht],enumerable:(Qt in n?n:r)[Qt],writable:!1}),_t(e,t,n)}:_t:function(e,t,n){if(Dt(e),t=Ut(t),Dt(n),Mt)try{return _t(e,t,n)}catch(e){}if("get"in n||"set"in n)throw new qt("Accessors not supported");return"value"in n&&(e[t]=n.value),e},i),zt=A,Gt=_,g=g?function(e,t,n){return zt.f(e,t,Gt(1,n))}:function(e,t,n){return e[t]=n,e},b={exports:{}},w=i,S=p,Wt=Function.prototype,E=w&&Object.getOwnPropertyDescriptor,S=S(Wt,"name"),S={EXISTS:S,PROPER:S&&"something"===function(){}.name,CONFIGURABLE:S&&(!w||E(Wt,"name").configurable)},w=f,E=y,Vt=l(Function.toString),Wt=(w(E.inspectSource)||(E.inspectSource=function(e){return Vt(e)}),E.inspectSource),w=f,E=e.WeakMap,w=w(E)&&/native code/.test(String(E)),Jt=$,Xt=Ye("keys"),E={},$t=d,Zt=g,Yt=p,k=K,Kt=E,en="Object already initialized",tn=e.TypeError,nn=e.WeakMap,rn=w||y.state?((fe=y.state||(y.state=new nn)).get=fe.get,fe.has=fe.has,fe.set=fe.set,le=function(e,t){if(fe.has(e))throw new tn(en);return t.facade=e,fe.set(e,t),t},de=function(e){return fe.get(e)||{}},function(e){return fe.has(e)}):(Kt[he=k("state")]=!0,le=function(e,t){if(Yt(e,he))throw new tn(en);return t.facade=e,Zt(e,he,t),t},de=function(e){return Yt(e,he)?e[he]:{}},function(e){return Yt(e,he)}),w={set:le,get:de,has:rn,enforce:function(e){return rn(e)?de(e):le(e,{})},getterFor:function(t){return function(e){if($t(e)&&(e=de(e)).type===t)return e;throw new tn("Incompatible receiver, "+t+" required")}}},y=l,nn=n,on=f,an=p,sn=i,cn=S.CONFIGURABLE,un=Wt,ln=w.enforce,dn=w.get,fn=String,hn=Object.defineProperty,pn=y("".slice),gn=y("".replace),mn=y([].join),yn=sn&&!nn(function(){return 8!==hn(function(){},"length",{value:8}).length}),vn=String(String).split("String"),Kt=b.exports=function(e,t,n){"Symbol("===pn(fn(t),0,7)&&(t="["+gn(fn(t),/^Symbol\(([^)]*)\)/,"$1")+"]"),n&&n.getter&&(t="get "+t),n&&n.setter&&(t="set "+t),(!an(e,"name")||cn&&e.name!==t)&&(sn?hn(e,"name",{value:t,configurable:!0}):e.name=t),yn&&n&&an(n,"arity")&&e.length!==n.arity&&hn(e,"length",{value:n.arity});try{n&&an(n,"constructor")&&n.constructor?sn&&hn(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(e){}n=ln(e);return an(n,"source")||(n.source=mn(vn,"string"==typeof t?t:"")),e},k=(Function.prototype.toString=Kt(function(){return on(this)&&dn(this).source||un(this)},"toString"),b.exports),An=f,bn=A,wn=k,Sn=J,y={},En=Math.ceil,kn=Math.floor,xn=Math.trunc||function(e){e=+e;return(0<e?kn:En)(e)},Pn=te,Tn=Math.max,Rn=Math.min,On=te,Bn=Math.min,Cn=re,Ln=F,In=ne,jn=oe,nn={includes:ae(!0),indexOf:ae(!1)},Kt=l,Mn=p,Dn=F,Un=nn.indexOf,qn=E,_n=Kt([].push),b=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Nn=ie,Qn=b.concat("length","prototype"),nn=(y.f=Object.getOwnPropertyNames||function(e){return Nn(e,Qn)},{}),Kt=(nn.f=Object.getOwnPropertySymbols,z),Hn=y,Fn=nn,zn=o,Gn=l([].concat),y=Kt("Reflect","ownKeys")||function(e){var t=Hn.f(zn(e)),n=Fn.f;return n?Gn(t,n(e)):t},Wn=p,Vn=y,Jn=a,Xn=A,$n=n,Zn=f,Yn=/#|\.prototype\./,Kn=ce.normalize=function(e){return String(e).replace(Yn,".").toLowerCase()},er=ce.data={},tr=ce.NATIVE="N",nr=ce.POLYFILL="P",rr=e,or=a.f,ar=g,ir=ee,sr=J,cr=se,ur=ce,Kt=Function.prototype,lr=Kt.apply,dr=Kt.call,y="object"==typeof Reflect&&Reflect.apply||(pe?dr.bind(lr):function(){return dr.apply(lr,arguments)}),a=l([].slice),fr=N,Kt=Array.isArray||function(e){return"Array"===fr(e)},hr={};hr[r("toStringTag")]="z";function pr(e){if("Symbol"===Sr(e))throw new TypeError("Cannot convert a Symbol value to a string");return Er(e)}function gr(e,t){var n=Mr(arguments),r=Dr(t);if(Ir(r)||void 0!==e&&!jr(e))return n[1]=function(e,t){if(Ir(r)&&(t=Cr(r,this,Ur(e),t)),!jr(t))return t},Br(qr,null,n)}function mr(e,t,n){var r=Nr(n,t-1),n=Nr(n,t+1);return _r(Gr,e)&&!_r(Wr,n)||_r(Wr,e)&&!_r(Gr,r)?"\\u"+Fr(Qr(e,0),16):e}var hr="[object z]"===String(hr),yr=f,vr=N,Ar=r("toStringTag"),br=Object,wr="Arguments"===vr(function(){return arguments}()),hr=hr?vr:function(e){var t;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(t=function(e,t){try{return e[t]}catch(e){}}(e=br(e),Ar))?t:wr?vr(e):"Object"===(t=vr(e))&&yr(e.callee)?"Arguments":t},Sr=hr,Er=String,kr=Kt,xr=f,Pr=N,Tr=pr,Rr=l([].push),x=ue,Or=z,Br=y,Cr=s,P=l,Lr=n,Ir=f,jr=m,Mr=a,Dr=function(e){if(xr(e))return e;if(kr(e)){for(var t=e.length,r=[],n=0;n<t;n++){var o=e[n];"string"==typeof o?Rr(r,o):"number"!=typeof o&&"Number"!==Pr(o)&&"String"!==Pr(o)||Rr(r,Tr(o))}var a=r.length,i=!0;return function(e,t){if(i)return i=!1,t;if(kr(this))return t;for(var n=0;n<a;n++)if(r[n]===e)return t}}},m=h,Ur=String,qr=Or("JSON","stringify"),_r=P(/./.exec),Nr=P("".charAt),Qr=P("".charCodeAt),Hr=P("".replace),Fr=P(1..toString),zr=/[\uD800-\uDFFF]/g,Gr=/^[\uD800-\uDBFF]$/,Wr=/^[\uDC00-\uDFFF]$/,Vr=!m||Lr(function(){var e=Or("Symbol")("stringify detection");return"[null]"!==qr([e])||"{}"!==qr({a:e})||"{}"!==qr(Object(e))}),Jr=Lr(function(){return'"\\udf06\\ud834"'!==qr("\udf06\ud834")||'"\\udead"'!==qr("\udead")}),a=(qr&&x({target:"JSON",stat:!0,arity:3,forced:Vr||Jr},{stringify:function(e,t,n){var r=Mr(arguments),r=Br(Vr?gr:qr,null,r);return Jr&&"string"==typeof r?Hr(r,zr,mr):r}}),Y("span").classList),h=a&&a.constructor&&a.constructor.prototype,P=h===Object.prototype?void 0:h,m={},Xr=ie,$r=b,Lr=Object.keys||function(e){return Xr(e,$r)},Zr=A,Yr=o,Kr=F,eo=Lr;m.f=i&&!v?Object.defineProperties:function(e,t){Yr(e);for(var n,r=Kr(t),o=eo(t),a=o.length,i=0;i<a;)Zr.f(e,n=o[i++],r[n]);return e};function to(){}function no(e){e.write(po("")),e.close();var t=e.parentWindow.Object;return e=null,t}var ro,oo,x=z("document","documentElement"),ao=o,io=m,so=b,a=E,co=x,uo=Y,lo="prototype",fo="script",ho=K("IE_PROTO"),po=function(e){return"<"+fo+">"+e+"</"+fo+">"},go=function(){try{ro=new ActiveXObject("htmlfile")}catch(e){}go="undefined"==typeof document||document.domain&&ro?no(ro):(e=uo("iframe"),t="java"+fo+":",e.style.display="none",co.appendChild(e),e.src=String(t),(t=e.contentWindow.document).open(),t.write(po("document.F=Object")),t.close(),t.F);for(var e,t,n=so.length;n--;)delete go[lo][so[n]];return go()},h=(a[ho]=!0,Object.create||function(e,t){var n;return null!==e?(to[lo]=ao(e),n=new to,to[lo]=null,n[ho]=e):n=go(),void 0===t?n:io.f(n,t)}),v=r,m=h,b=A.f,mo=v("unscopables"),yo=Array.prototype,E=(void 0===yo[mo]&&b(yo,mo,{configurable:!0,value:m(null)}),{}),x=!n(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),vo=p,Ao=f,bo=X,a=x,wo=K("IE_PROTO"),So=Object,Eo=So.prototype,v=a?So.getPrototypeOf:function(e){var t,e=bo(e);return vo(e,wo)?e[wo]:(t=e.constructor,Ao(t)&&e instanceof t?t.prototype:e instanceof So?Eo:null)},b=n,m=f,x=d,a=v,ko=ee,xo=r("iterator"),T=!1;[].keys&&("next"in(Lo=[].keys())?(a=a(a(Lo)))!==Object.prototype&&(oo=a):T=!0);function Po(e,t,n){(e=e&&!n?e.prototype:e)&&!jo(e,Mo)&&Io(e,Mo,{configurable:!0,value:t})}function To(){return this}function Ro(e,t,n,r){return t+=" Iterator",e.prototype=Uo(Do,{next:qo(+!r,n)}),_o(e,t,!1),No[t]=To,e}function Oo(){return this}function Bo(e,t,n,r,o,a,i){function s(e){if(e===o&&h)return h;if(!ca&&e&&e in d)return d[e];switch(e){case"keys":case la:case da:return function(){return new n(this,e)}}return function(){return new n(this)}}Yo(n,t,r);var c,u,r=t+" Iterator",l=!1,d=e.prototype,f=d[ua]||d["@@iterator"]||o&&d[o],h=!ca&&f||s(o),p="Array"===t&&d.entries||f;if(p&&(p=Ko(p.call(new e)))!==Object.prototype&&p.next&&(Ko(p)!==sa&&(ea?ea(p,sa):Zo(p[ua])||ra(p,ua,Oo)),ta(p,r,!0)),aa&&o===la&&f&&f.name!==la&&(ia?na(d,"name",la):(l=!0,h=function(){return $o(f,this)})),o)if(c={values:s(la),keys:a?h:s("keys"),entries:s(da)},i)for(u in c)!ca&&!l&&u in d||ra(d,u,c[u]);else Xo({target:t,proto:!0,forced:ca||l},c);return d[ua]!==h&&ra(d,ua,h,{name:o}),oa[t]=h,c}function Co(e,t){return{value:e,done:t}}m((oo=!x(oo)||b(function(){var e={};return oo[xo].call(e)!==e})?{}:oo)[xo])||ko(oo,xo,function(){return this});var Lo={IteratorPrototype:oo,BUGGY_SAFARI_ITERATORS:T},Io=A.f,jo=p,Mo=r("toStringTag"),Do=Lo.IteratorPrototype,Uo=h,qo=_,_o=Po,No=E,Qo=l,Ho=W,Fo=f,zo=String,Go=TypeError,Wo=function(e,t,n){try{return Qo(Ho(Object.getOwnPropertyDescriptor(e,t)[n]))}catch(e){}},Vo=o,Jo=function(e){if("object"==typeof e||Fo(e))return e;throw new Go("Can't set "+zo(e)+" as a prototype")},a=Object.setPrototypeOf||("__proto__"in{}?function(){var n,r=!1,e={};try{(n=Wo(Object.prototype,"__proto__","set"))(e,[]),r=e instanceof Array}catch(e){}return function(e,t){return Vo(e),Jo(t),r?n(e,t):e.__proto__=t,e}}():void 0),Xo=ue,$o=s,Zo=f,Yo=Ro,Ko=v,ea=a,ta=Po,na=g,ra=ee,m=r,oa=E,aa=S.PROPER,ia=S.CONFIGURABLE,sa=Lo.IteratorPrototype,ca=Lo.BUGGY_SAFARI_ITERATORS,ua=m("iterator"),la="values",da="entries",fa=F,x=function(e){yo[mo][e]=!0},b=E,ko=w,T=A.f,v=Bo,ha=Co,S=i,pa="Array Iterator",ga=ko.set,ma=ko.getterFor(pa),Lo=v(Array,"Array",function(e,t){ga(this,{type:pa,target:fa(e),index:0,kind:t})},function(){var e=ma(this),t=e.target,n=e.index++;if(!t||n>=t.length)return e.target=void 0,ha(void 0,!0);switch(e.kind){case"keys":return ha(n,!1);case"values":return ha(t[n],!1)}return ha([n,t[n]],!1)},"values"),m=b.Arguments=b.Array;if(x("keys"),x("values"),x("entries"),S&&"values"!==m.name)try{T(m,"name",{value:"values"})}catch(e){}function ya(t,e){if(t){if(t[ka]!==xa)try{Sa(t,ka,xa)}catch(e){t[ka]=xa}if(Ea(t,e,!0),ba[e])for(var n in wa)if(t[n]!==wa[n])try{Sa(t,n,wa[n])}catch(e){t[n]=wa[n]}}}var va,Aa=e,ba={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},ko=P,wa=Lo,Sa=g,Ea=Po,ka=r("iterator"),xa=wa.values;for(va in ba)ya(Aa[va]&&Aa[va].prototype,va);ya(ko,"DOMTokenList");var Pa=function(){var t=document.getSelection();if(!t.rangeCount)return function(){};for(var e=document.activeElement,n=[],r=0;r<t.rangeCount;r++)n.push(t.getRangeAt(r));switch(e.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":e.blur();break;default:e=null}return t.removeAllRanges(),function(){"Caret"===t.type&&t.removeAllRanges(),t.rangeCount||n.forEach(function(e){t.addRange(e)}),e&&e.focus()}},Ta={"text/plain":"Text","text/html":"Url",default:"Text"};var Ra=U(function(n,r){var t,e,o,a,i=!1,s=(r=r||{}).debug||!1;try{var c=Pa(),u=document.createRange(),l=document.getSelection();if((e=document.createElement("span")).textContent=n,e.ariaHidden="true",e.style.all="unset",e.style.position="fixed",e.style.top=0,e.style.clip="rect(0, 0, 0, 0)",e.style.whiteSpace="pre",e.style.webkitUserSelect="text",e.style.MozUserSelect="text",e.style.msUserSelect="text",e.style.userSelect="text",e.addEventListener("copy",function(e){var t;e.stopPropagation(),r.format&&(e.preventDefault(),void 0===e.clipboardData?(s&&console.warn("unable to use e.clipboardData"),s&&console.warn("trying IE specific stuff"),window.clipboardData.clearData(),t=Ta[r.format]||Ta.default,window.clipboardData.setData(t,n)):(e.clipboardData.clearData(),e.clipboardData.setData(r.format,n))),r.onCopy&&(e.preventDefault(),r.onCopy(e.clipboardData))}),document.body.appendChild(e),u.selectNodeContents(e),l.addRange(u),!document.execCommand("copy"))throw new Error("copy command was unsuccessful");i=!0}catch(e){s&&console.error("unable to copy using execCommand: ",e),s&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(r.format||"text",n),r.onCopy&&r.onCopy(window.clipboardData),i=!0}catch(e){s&&console.error("unable to copy using clipboardData: ",e),s&&console.error("falling back to prompt"),o="message"in r?r.message:"Copy to clipboard: #{key}, Enter",a=(/mac os x/i.test(navigator.userAgent)?"⌘":"Ctrl")+"+C",t=o.replace(/#{\s*key\s*}/g,a),window.prompt(t,n)}}finally{l&&("function"==typeof l.removeRange?l.removeRange(u):l.removeAllRanges()),e&&document.body.removeChild(e),c()}return i});class Oa{constructor(){var{className:e="",el:t="div"}=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=document.createElement(t);t.dataset.testid="modal",t.className=["page-spy-modal",e].join(" "),t.style.display="none",t.onclick=e=>{e.stopPropagation(),e.preventDefault(),this.close()},this.el=t}show(){this.el.style.display="flex",setTimeout(()=>{this.el.classList.add("show")},50)}close(){this.el.classList.remove("show"),setTimeout(()=>{this.el.style.display="none"},300)}appendNode(e){this.el.insertAdjacentElement("beforeend",e)}}class Ba{constructor(e){this.options={...e};var t=document.createElement("div");t.dataset.testid="content",t.className=["page-spy-content",e.className].join(" "),t.onclick=e=>{e.stopPropagation()},this.el=t,this.render()}render(){const{content:e="",onOk:t}=this.options;var n=document.createElement("div"),r=(n.className="page-spy-content__info",n.innerHTML=e,document.createElement("div")),o=(r.dataset.testid="copy-button",r.className="page-spy-content__ok",navigator.language);r.textContent="zh-CN"===o?"拷贝":"Copy",r.onclick=e=>{e.stopPropagation(),t&&t()},this.el.insertAdjacentElement("beforeend",n),this.el.insertAdjacentElement("beforeend",r)}}function Ca(e,t,n){return n.get&&di(n.get,t,{getter:!0}),n.set&&di(n.set,t,{setter:!0}),fi.f(e,t,n)}function La(e,t){if(pi(t,e))return e;throw new gi("Incorrect invocation")}function Ia(e){if("Function"===mi(e))return yi(e)}function ja(e,t){return vi(e),void 0===t?e:Ai?bi(e,t):function(){return e.apply(t,arguments)}}function Ma(e){if(!Ei(e))return Si(e,xi)||Si(e,"@@iterator")||ki[wi(e)]}function Da(e,t){if(t=arguments.length<2?Bi(e):t,Ti(t))return Ri(Pi(t,e));throw new Ci(Oi(e)+" is not iterable")}function Ua(e,t){if(e<t)throw new Li("Not enough arguments");return e}function qa(e,t,n){(t=Ii(t))in e?ji.f(e,t,Mi(0,n)):e[t]=n}function _a(e,t,n){for(var r=Ui(e),o=Di(t,r),a=Di(void 0===n?r:n,r),i=_i(Ni(a-o,0)),s=0;o<a;o++,s++)qi(i,s,e[o]);return i.length=s,i}function Na(e,t){var n=e.length,r=Hi(n/2);if(n<8){for(var o,a,i=e,s=t,c=i.length,u=1;u<c;){for(o=i[a=u];a&&0<s(i[a-1],o);)i[a]=i[--a];a!==u++&&(i[a]=o)}return i}for(var l=e,d=Na(Qi(e,0,r),t),f=Na(Qi(e,r),t),h=t,p=d.length,g=f.length,m=0,y=0;m<p||y<g;)l[m+y]=m<p&&y<g?h(d[m],f[y])<=0?d[m++]:f[y++]:m<p?d[m++]:f[y++];return l}function Qa(e){var t;return Gi?(t=ls(Fi,e))&&t.value:Fi[e]}function Ha(t){try{return ys(t)}catch(e){return t}}function Fa(e){var t,n=Ss(e,Ts," "),r=4;try{return ys(n)}catch(e){for(;r;)n=Ss(n,(t=r--,Rs[t-1]||(Rs[t-1]=gs("((?:%[\\da-f]{2}){"+t+"})","gi"))),Ha);return n}}function za(e){return Bs[e]}function Ga(e){return Ss(vs(e),Os,za)}function Wa(e){this.entries=[],this.url=null,void 0!==e&&(Zi(e)?this.parseObject(e):this.parseQuery("string"==typeof e?"?"===As(e,0)?Ps(e,1):e:B(e)))}function Va(){Wi(this,Ls);var e=cs(this,new Wa(0<arguments.length?arguments[0]:void 0));Gi||(this.size=e.entries.length)}function Ja(o){return function(e,t){var n,e=Ms(Ds(e)),t=js(t),r=e.length;return t<0||r<=t?o?"":void 0:(n=qs(e,t))<55296||56319<n||t+1===r||(r=qs(e,t+1))<56320||57343<r?o?Us(e,t):n:o?_s(e,t,t+2):r-56320+(n-55296<<10)+65536}}function Xa(){}function $a(e){if(!lc(e))return!1;try{return pc(Xa,hc,e),!0}catch(e){return!1}}function Za(e){if(!lc(e))return!1;switch(dc(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return yc||!!mc(gc,fc(e))}catch(e){return!0}}function Ya(e){var t,n,r,o;if("number"==typeof e){for(t=[],n=0;n<4;n++)Pu(t,e%256),e=pu(e/256);return yu(t,".")}if("object"!=typeof e)return e;for(t="",r=function(e){for(var t=null,n=1,r=null,o=0,a=0;a<8;a++)0!==e[a]?(n<o&&(t=r,n=o),r=null,o=0):(null===r&&(r=a),++o);return n<o&&(t=r,n=o),t}(e),n=0;n<8;n++)o&&0===e[n]||(o=o&&!1,r===n?(t+=n?":":"::",o=!0):(t+=vu(e[n],16),n<7&&(t+=":")));return"["+t+"]"}function Ka(e,t){var n=ou(e,0);return 32<n&&n<127&&!tu(t,e)?e:encodeURIComponent(e)}function ei(e,t){return 2===e.length&&mu(Bu,L(e,0))&&(":"===(e=L(e,1))||!t&&"|"===e)}function ti(e){return 1<e.length&&ei(ku(e,0,2))&&(2===e.length||"/"===(e=L(e,2))||"\\"===e||"?"===e||"#"===e)}function ni(e,t,n){var r,o,e=iu(e);if(t){if(o=this.parse(e))throw new fu(o);this.searchParams=null}else{if(void 0!==n&&(r=new ni(n,!0)),o=this.parse(e,null,r))throw new fu(o);(t=du(new lu)).bindURL(this),this.searchParams=t}}function R(e,t){return{get:function(){return uu(this)[e]()},set:t&&function(e){return uu(this)[t](e)},configurable:!0,enumerable:!0}}function ri(e,t){var n={};n[e]=Gl(e,t,Jl),Fl({global:!0,constructor:!0,arity:1,forced:Jl},n)}function oi(e,t){var n;Vl&&Vl[e]&&((n={})[e]=Gl(Wl+"."+e,t,Jl),Fl({target:Wl,stat:!0,constructor:!0,arity:1,forced:Jl},n))}function ai(u){return function(e,t,n,r){var o=$l(e),a=Zl(o),i=Yl(o),s=(Xl(t),u?i-1:0),c=u?-1:1;if(n<2)for(;;){if(s in a){r=a[s],s+=c;break}if(s+=c,u?s<0:i<=s)throw new Kl("Reduce of empty array with no initial value")}for(;u?0<=s:s<i;s+=c)s in a&&(r=t(r,a[s],s,o));return r}}var ii,si,ci,O,v=n,ui=i,li=r("iterator"),b=!v(function(){var e=new URL("b?a=1&b=2&c=3","http://a"),n=e.searchParams,t=new URLSearchParams("a=1&a=2&b=3"),r="";return e.pathname="c%20d",n.forEach(function(e,t){n.delete("b"),r+=t+e}),t.delete("a",2),t.delete("b",void 0),!n.size&&!ui||!n.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==n.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!n[li]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://тест").host||"#%D0%B1"!==new URL("http://a#б").hash||"a1c3"!==r||"x"!==new URL("http://x",void 0).host}),di=k,fi=A,hi=ee,pi=Le,gi=TypeError,mi=N,yi=l,vi=W,Ai=pe,bi=Ia(Ia.bind),wi=hr,Si=V,Ei=Q,ki=E,xi=r("iterator"),Pi=s,Ti=W,Ri=o,Oi=G,Bi=Ma,Ci=TypeError,Li=TypeError,Ii=Z,ji=A,Mi=_,Di=ne,Ui=oe,qi=qa,_i=Array,Ni=Math.max,Qi=_a,Hi=Math.floor,x=ue,Fi=e,zi=s,S=l,Gi=i,T=b,m=ee,P=Ca,Lo=function(e,t,n){for(var r in t)hi(e,r,t[r],n);return e},ko=Po,v=Ro,k=w,Wi=La,pe=f,Vi=p,Ji=ja,Xi=hr,$i=o,Zi=d,B=pr,Yi=h,Ki=_,es=Da,ts=Ma,ns=Co,rs=Ua,os=Na,as=r("iterator"),is="URLSearchParams",ss=is+"Iterator",cs=k.set,C=k.getterFor(is),us=k.getterFor(ss),ls=Object.getOwnPropertyDescriptor,ds=Qa("fetch"),fs=Qa("Request"),hs=Qa("Headers"),ps=fs&&fs.prototype,k=hs&&hs.prototype,gs=Fi.RegExp,ms=Fi.TypeError,ys=Fi.decodeURIComponent,vs=Fi.encodeURIComponent,As=S("".charAt),bs=S([].join),ws=S([].push),Ss=S("".replace),Es=S([].shift),ks=S([].splice),xs=S("".split),Ps=S("".slice),Ts=/\+/g,Rs=Array(4),Os=/[!'()~]|%20/g,Bs={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},Cs=v(function(e,t){cs(this,{type:ss,target:C(e).entries,index:0,kind:t})},is,function(){var e=us(this),t=e.target,n=e.index++;if(!t||n>=t.length)return e.target=void 0,ns(void 0,!0);var r=t[n];switch(e.kind){case"keys":return ns(r.key,!1);case"values":return ns(r.value,!1)}return ns([r.key,r.value],!1)},!0),Ls=(Wa.prototype={type:is,bindURL:function(e){this.url=e,this.update()},parseObject:function(e){var t,n,r,o,a,i,s=this.entries,c=ts(e);if(c)for(n=(t=es(e,c)).next;!(r=zi(n,t)).done;){if(o=(r=es($i(r.value))).next,(a=zi(o,r)).done||(i=zi(o,r)).done||!zi(o,r).done)throw new ms("Expected sequence with length 2");ws(s,{key:B(a.value),value:B(i.value)})}else for(var u in e)Vi(e,u)&&ws(s,{key:u,value:B(e[u])})},parseQuery:function(e){if(e)for(var t,n=this.entries,r=xs(e,"&"),o=0;o<r.length;)(t=r[o++]).length&&(t=xs(t,"="),ws(n,{key:Fa(Es(t)),value:Fa(bs(t,"="))}))},serialize:function(){for(var e,t=this.entries,n=[],r=0;r<t.length;)e=t[r++],ws(n,Ga(e.key)+"="+Ga(e.value));return bs(n,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}},Va.prototype),Lo=(Lo(Ls,{append:function(e,t){var n=C(this);rs(arguments.length,2),ws(n.entries,{key:B(e),value:B(t)}),Gi||this.length++,n.updateURL()},delete:function(e){for(var t=C(this),n=rs(arguments.length,1),r=t.entries,o=B(e),e=n<2?void 0:arguments[1],a=void 0===e?e:B(e),i=0;i<r.length;){var s=r[i];if(s.key!==o||void 0!==a&&s.value!==a)i++;else if(ks(r,i,1),void 0!==a)break}Gi||(this.size=r.length),t.updateURL()},get:function(e){for(var t=C(this).entries,n=(rs(arguments.length,1),B(e)),r=0;r<t.length;r++)if(t[r].key===n)return t[r].value;return null},getAll:function(e){for(var t=C(this).entries,n=(rs(arguments.length,1),B(e)),r=[],o=0;o<t.length;o++)t[o].key===n&&ws(r,t[o].value);return r},has:function(e){for(var t=C(this).entries,n=rs(arguments.length,1),r=B(e),e=n<2?void 0:arguments[1],o=void 0===e?e:B(e),a=0;a<t.length;){var i=t[a++];if(i.key===r&&(void 0===o||i.value===o))return!0}return!1},set:function(e,t){for(var n,r=C(this),o=(rs(arguments.length,1),r.entries),a=!1,i=B(e),s=B(t),c=0;c<o.length;c++)(n=o[c]).key===i&&(a?ks(o,c--,1):(a=!0,n.value=s));a||ws(o,{key:i,value:s}),Gi||(this.size=o.length),r.updateURL()},sort:function(){var e=C(this);os(e.entries,function(e,t){return e.key>t.key?1:-1}),e.updateURL()},forEach:function(e){for(var t,n=C(this).entries,r=Ji(e,1<arguments.length?arguments[1]:void 0),o=0;o<n.length;)r((t=n[o++]).value,t.key,this)},keys:function(){return new Cs(this,"keys")},values:function(){return new Cs(this,"values")},entries:function(){return new Cs(this,"entries")}},{enumerable:!0}),m(Ls,as,Ls.entries,{name:"entries"}),m(Ls,"toString",function(){return C(this).serialize()},{enumerable:!0}),Gi&&P(Ls,"size",{get:function(){return C(this).entries.length},configurable:!0,enumerable:!0}),ko(Va,is),x({global:!0,constructor:!0,forced:!T},{URLSearchParams:Va}),!T&&pe(hs)&&(ii=S(k.has),si=S(k.set),ci=function(e){if(Zi(e)){var t,n=e.body;if(Xi(n)===is)return t=e.headers?new hs(e.headers):new hs,ii(t,"content-type")||si(t,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),Yi(e,{body:Ki(0,B(n)),headers:Ki(0,t)})}return e},pe(ds)&&x({global:!0,enumerable:!0,dontCallGetSet:!0,forced:!0},{fetch:function(e){return ds(e,1<arguments.length?ci(arguments[1]):{})}}),pe(fs))&&((ps.constructor=v=function(e){return Wi(this,ps),new fs(e,1<arguments.length?ci(arguments[1]):{})}).prototype=ps,x({global:!0,constructor:!0,dontCallGetSet:!0,forced:!0},{Request:v})),{URLSearchParams:Va,getState:C}),as=i,m=l,P=Ca,ko=URLSearchParams.prototype,Is=m(ko.forEach),T=(!as||"size"in ko||P(ko,"size",{get:function(){var e=0;return Is(this,function(){e++}),e},configurable:!0,enumerable:!0}),l),js=te,Ms=pr,Ds=H,Us=T("".charAt),qs=T("".charCodeAt),_s=T("".slice),S={codeAt:Ja(!1),charAt:Ja(!0)},Ns=S.charAt,Qs=pr,k=w,pe=Bo,Hs=Co,Fs="String Iterator",zs=k.set,Gs=k.getterFor(Fs),Ws=(pe(String,"String",function(e){zs(this,{type:Fs,string:Qs(e),index:0})},function(){var e=Gs(this),t=e.string,n=e.index;return n>=t.length?Hs(void 0,!0):(t=Ns(t,n),e.index+=t.length,Hs(t,!1))}),i),x=l,Vs=s,v=n,Js=Lr,Xs=nn,$s=c,Zs=X,Ys=u,Ks=Object.assign,ec=Object.defineProperty,tc=x([].concat),m=!Ks||v(function(){var e,t,n,r;return Ws&&1!==Ks({b:1},Ks(ec({},"a",{enumerable:!0,get:function(){ec(this,"b",{value:3,enumerable:!1})}}),{b:2})).b||(t={},r="abcdefghijklmnopqrst",(e={})[n=Symbol("assign detection")]=7,r.split("").forEach(function(e){t[e]=e}),7!==Ks({},e)[n])||Js(Ks({},t)).join("")!==r})?function(e,t){for(var n=Zs(e),r=arguments.length,o=1,a=Xs.f,i=$s.f;o<r;)for(var s,c=Ys(arguments[o++]),u=a?tc(Js(c),a(c)):Js(c),l=u.length,d=0;d<l;)s=u[d++],Ws&&!Vs(i,c,s)||(n[s]=c[s]);return n}:Ks,nc=s,rc=o,oc=V,ac=o,ic=function(e,t,n){var r,o;rc(e);try{if(!(r=oc(e,"return"))){if("throw"===t)throw n;return n}r=nc(r,e)}catch(e){o=!0,r=e}if("throw"===t)throw n;if(o)throw r;return rc(r),n},sc=E,cc=r("iterator"),uc=Array.prototype,as=l,P=n,lc=f,dc=hr,fc=Wt,hc=[],pc=z("Reflect","construct"),gc=/^\s*(?:class|function)\b/,mc=as(gc.exec),yc=!gc.test(Xa),ko=(Za.sham=!0,!pc||P(function(){var e;return $a($a.call)||!$a(Object)||!$a(function(){e=!0})||e})?Za:$a),vc=ja,Ac=s,bc=X,wc=function(t,e,n,r){try{return r?e(ac(n)[0],n[1]):e(n)}catch(e){ic(t,"throw",e)}},Sc=function(e){return void 0!==e&&(sc.Array===e||uc[cc]===e)},Ec=ko,kc=oe,xc=qa,Pc=Da,Tc=Ma,Rc=Array,T=l,Oc=2147483647,Bc=36,Cc=1,Lc=26,Ic=72,jc=128,Mc="-",Dc=/[^\0-\u007E]/,Uc=/[.\u3002\uFF0E\uFF61]/g,qc="Overflow: input needs wider integers to process",_c=Bc-Cc,Nc=RangeError,Qc=T(Uc.exec),Hc=Math.floor,Fc=String.fromCharCode,zc=T("".charCodeAt),Gc=T([].join),Wc=T([].push),Vc=T("".replace),Jc=T("".split),Xc=T("".toLowerCase),$c=function(e){for(var t=[],n=0,r=e.length;n<r;){var o,a=zc(e,n++);55296<=a&&a<=56319&&n<r?56320==(64512&(o=zc(e,n++)))?Wc(t,((1023&a)<<10)+(1023&o)+65536):(Wc(t,a),n--):Wc(t,a)}return t},Zc=function(e){return e+22+75*(e<26)},Yc=function(e,t,n){var r=0;for(e=n?Hc(e/700):e>>1,e+=Hc(e/t);_c*Lc>>1<e;)e=Hc(e/_c),r+=Bc;return Hc(r+(1+_c)*e/(e+38))},k=ue,Kc=i,pe=b,Lr=e,nn=ja,c=l,x=ee,v=Ca,eu=La,tu=p,E=m,nu=function(e){var t,n,r,o,a,i,s=bc(e),e=Ec(this),c=arguments.length,u=1<c?arguments[1]:void 0,l=void 0!==u,c=(l&&(u=vc(u,2<c?arguments[2]:void 0)),Tc(s)),d=0;if(!c||this===Rc&&Sc(c))for(t=kc(s),n=e?new this(t):Rc(t);d<t;d++)i=l?u(s[d],d):s[d],xc(n,d,i);else for(a=(o=Pc(s,c)).next,n=e?new this:[];!(r=Ac(a,o)).done;d++)i=l?wc(o,u,[r.value,d],!0):r.value,xc(n,d,i);return n.length=d,n},ru=_a,ou=S.codeAt,au=function(e){for(var t,n=[],r=Jc(Vc(Xc(e),Uc,"."),"."),o=0;o<r.length;o++)t=r[o],Wc(n,Qc(Dc,t)?"xn--"+function(e){var t,n=[],r=(e=$c(e)).length,o=jc,a=0,i=Ic;for(l=0;l<e.length;l++)(t=e[l])<128&&Wc(n,Fc(t));var s=n.length,c=s;for(s&&Wc(n,Mc);c<r;){for(var u=Oc,l=0;l<e.length;l++)o<=(t=e[l])&&t<u&&(u=t);var d=c+1;if(u-o>Hc((Oc-a)/d))throw new Nc(qc);for(a+=(u-o)*d,o=u,l=0;l<e.length;l++){if((t=e[l])<o&&++a>Oc)throw new Nc(qc);if(t===o){for(var f=a,h=Bc;;){var p=h<=i?Cc:i+Lc<=h?Lc:h-i;if(f<p)break;var g=f-p,m=Bc-p;Wc(n,Fc(Zc(p+g%m))),f=Hc(g/m),h+=Bc}Wc(n,Fc(Zc(f))),i=Yc(a,d,c===s),a=0,c++}}a++,o++}return Gc(n,"")}(t):t);return Gc(n,".")},iu=pr,hr=Po,su=Ua,Wt=Lo,as=w,cu=as.set,uu=as.getterFor("URL"),lu=Wt.URLSearchParams,du=Wt.getState,P=Lr.URL,fu=Lr.TypeError,hu=Lr.parseInt,pu=Math.floor,gu=Math.pow,L=c("".charAt),mu=c(/./.exec),yu=c([].join),vu=c(1..toString),Au=c([].pop),bu=c([].push),wu=c("".replace),Su=c([].shift),Eu=c("".split),ku=c("".slice),xu=c("".toLowerCase),Pu=c([].unshift),Tu="Invalid scheme",Ru="Invalid host",Ou="Invalid port",Bu=/[a-z]/i,Cu=/[\d+-.a-z]/i,Lu=/\d/,Iu=/^0x/i,ju=/^[0-7]+$/,Mu=/^\d+$/,Du=/^[\da-f]+$/i,Uu=/[\0\t\n\r #%/:<>?@[\\\]^|]/,qu=/[\0\t\n\r #/:<>?@[\\\]^|]/,_u=/^[\u0000-\u0020]+/,Nu=/(^|[^\u0000-\u0020])[\u0000-\u0020]+$/,Qu=/[\t\n\r]/g,Hu={},Fu=E({},Hu,{" ":1,'"':1,"<":1,">":1,"`":1}),zu=E({},Fu,{"#":1,"?":1,"{":1,"}":1}),Gu=E({},zu,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),Wu={ftp:21,file:null,http:80,https:443,ws:80,wss:443},Vu={},Ju={},Xu={},$u={},Zu={},Yu={},Ku={},el={},tl={},nl={},rl={},ol={},al={},il={},sl={},cl={},ul={},ll={},dl={},fl={},hl={},pl=(ni.prototype={type:"URL",parse:function(e,t,n){var r,o,a,i,s=this,c=t||Vu,u=0,l="",d=!1,f=!1,h=!1;for(e=iu(e),t||(s.scheme="",s.username="",s.password="",s.host=null,s.port=null,s.path=[],s.query=null,s.fragment=null,s.cannotBeABaseURL=!1,e=wu(e,_u,""),e=wu(e,Nu,"$1")),e=wu(e,Qu,""),r=nu(e);u<=r.length;){switch(o=r[u],c){case Vu:if(!o||!mu(Bu,o)){if(t)return Tu;c=Xu;continue}l+=xu(o),c=Ju;break;case Ju:if(o&&(mu(Cu,o)||"+"===o||"-"===o||"."===o))l+=xu(o);else{if(":"!==o){if(t)return Tu;l="",c=Xu,u=0;continue}if(t&&(s.isSpecial()!==tu(Wu,l)||"file"===l&&(s.includesCredentials()||null!==s.port)||"file"===s.scheme&&!s.host))return;if(s.scheme=l,t)return void(s.isSpecial()&&Wu[s.scheme]===s.port&&(s.port=null));l="","file"===s.scheme?c=il:s.isSpecial()&&n&&n.scheme===s.scheme?c=$u:s.isSpecial()?c=el:"/"===r[u+1]?(c=Zu,u++):(s.cannotBeABaseURL=!0,bu(s.path,""),c=dl)}break;case Xu:if(!n||n.cannotBeABaseURL&&"#"!==o)return Tu;if(n.cannotBeABaseURL&&"#"===o){s.scheme=n.scheme,s.path=ru(n.path),s.query=n.query,s.fragment="",s.cannotBeABaseURL=!0,c=hl;break}c="file"===n.scheme?il:Yu;continue;case $u:if("/"!==o||"/"!==r[u+1]){c=Yu;continue}c=tl,u++;break;case Zu:if("/"===o){c=nl;break}c=ll;continue;case Yu:if(s.scheme=n.scheme,o===O)s.username=n.username,s.password=n.password,s.host=n.host,s.port=n.port,s.path=ru(n.path),s.query=n.query;else if("/"===o||"\\"===o&&s.isSpecial())c=Ku;else if("?"===o)s.username=n.username,s.password=n.password,s.host=n.host,s.port=n.port,s.path=ru(n.path),s.query="",c=fl;else{if("#"!==o){s.username=n.username,s.password=n.password,s.host=n.host,s.port=n.port,s.path=ru(n.path),s.path.length--,c=ll;continue}s.username=n.username,s.password=n.password,s.host=n.host,s.port=n.port,s.path=ru(n.path),s.query=n.query,s.fragment="",c=hl}break;case Ku:if(!s.isSpecial()||"/"!==o&&"\\"!==o){if("/"!==o){s.username=n.username,s.password=n.password,s.host=n.host,s.port=n.port,c=ll;continue}c=nl}else c=tl;break;case el:if(c=tl,"/"!==o||"/"!==L(l,u+1))continue;u++;break;case tl:if("/"===o||"\\"===o)break;c=nl;continue;case nl:if("@"===o){d&&(l="%40"+l);for(var d=!0,p=nu(l),g=0;g<p.length;g++){var m=p[g];":"!==m||h?(m=Ka(m,Gu),h?s.password+=m:s.username+=m):h=!0}l=""}else if(o===O||"/"===o||"?"===o||"#"===o||"\\"===o&&s.isSpecial()){if(d&&""===l)return"Invalid authority";u-=nu(l).length+1,l="",c=rl}else l+=o;break;case rl:case ol:if(t&&"file"===s.scheme){c=cl;continue}if(":"!==o||f){if(o===O||"/"===o||"?"===o||"#"===o||"\\"===o&&s.isSpecial()){if(s.isSpecial()&&""===l)return Ru;if(t&&""===l&&(s.includesCredentials()||null!==s.port))return;if(a=s.parseHost(l))return a;if(l="",c=ul,t)return;continue}"["===o?f=!0:"]"===o&&(f=!1),l+=o}else{if(""===l)return Ru;if(a=s.parseHost(l))return a;if(l="",c=al,t===ol)return}break;case al:if(!mu(Lu,o)){if(o===O||"/"===o||"?"===o||"#"===o||"\\"===o&&s.isSpecial()||t){if(""!==l){var y=hu(l,10);if(65535<y)return Ou;s.port=s.isSpecial()&&y===Wu[s.scheme]?null:y,l=""}if(t)return;c=ul;continue}return Ou}l+=o;break;case il:if(s.scheme="file","/"===o||"\\"===o)c=sl;else{if(!n||"file"!==n.scheme){c=ll;continue}switch(o){case O:s.host=n.host,s.path=ru(n.path),s.query=n.query;break;case"?":s.host=n.host,s.path=ru(n.path),s.query="",c=fl;break;case"#":s.host=n.host,s.path=ru(n.path),s.query=n.query,s.fragment="",c=hl;break;default:ti(yu(ru(r,u),""))||(s.host=n.host,s.path=ru(n.path),s.shortenPath()),c=ll;continue}}break;case sl:if("/"===o||"\\"===o){c=cl;break}n&&"file"===n.scheme&&!ti(yu(ru(r,u),""))&&(ei(n.path[0],!0)?bu(s.path,n.path[0]):s.host=n.host),c=ll;continue;case cl:if(o===O||"/"===o||"\\"===o||"?"===o||"#"===o){if(!t&&ei(l))c=ll;else{if(""===l){if(s.host="",t)return}else{if(a=s.parseHost(l))return a;if("localhost"===s.host&&(s.host=""),t)return;l=""}c=ul}continue}l+=o;break;case ul:if(s.isSpecial()){if(c=ll,"/"!==o&&"\\"!==o)continue}else if(t||"?"!==o)if(t||"#"!==o){if(o!==O&&(c=ll,"/"!==o))continue}else s.fragment="",c=hl;else s.query="",c=fl;break;case ll:if(o===O||"/"===o||"\\"===o&&s.isSpecial()||!t&&("?"===o||"#"===o)){if(".."===(y=xu(y=l))||"%2e."===y||".%2e"===y||"%2e%2e"===y?(s.shortenPath(),"/"===o||"\\"===o&&s.isSpecial()||bu(s.path,"")):"."===(i=l)||"%2e"===xu(i)?"/"===o||"\\"===o&&s.isSpecial()||bu(s.path,""):("file"===s.scheme&&!s.path.length&&ei(l)&&(s.host&&(s.host=""),l=L(l,0)+":"),bu(s.path,l)),l="","file"===s.scheme&&(o===O||"?"===o||"#"===o))for(;1<s.path.length&&""===s.path[0];)Su(s.path);"?"===o?(s.query="",c=fl):"#"===o&&(s.fragment="",c=hl)}else l+=Ka(o,zu);break;case dl:"?"===o?(s.query="",c=fl):"#"===o?(s.fragment="",c=hl):o!==O&&(s.path[0]+=Ka(o,Hu));break;case fl:t||"#"!==o?o!==O&&("'"===o&&s.isSpecial()?s.query+="%27":s.query+="#"===o?"%23":Ka(o,Hu)):(s.fragment="",c=hl);break;case hl:o!==O&&(s.fragment+=Ka(o,Fu))}u++}},parseHost:function(e){var t,n,r;if("["===L(e,0))return"]"===L(e,e.length-1)&&(t=function(e){function t(){return L(e,f)}var n,r,o,a,i,s,c,u=[0,0,0,0,0,0,0,0],l=0,d=null,f=0;if(":"===t()){if(":"!==L(e,1))return;f+=2,d=++l}for(;t();){if(8===l)return;if(":"===t()){if(null!==d)return;f++,d=++l}else{for(n=r=0;r<4&&mu(Du,t());)n=16*n+hu(t(),16),f++,r++;if("."===t()){if(0===r)return;if(f-=r,6<l)return;for(o=0;t();){if(a=null,0<o){if(!("."===t()&&o<4))return;f++}if(!mu(Lu,t()))return;for(;mu(Lu,t());){if(i=hu(t(),10),null===a)a=i;else{if(0===a)return;a=10*a+i}if(255<a)return;f++}u[l]=256*u[l]+a,2!==++o&&4!==o||l++}if(4!==o)return;break}if(":"===t()){if(f++,!t())return}else if(t())return;u[l++]=n}}if(null!==d)for(s=l-d,l=7;0!==l&&0<s;)c=u[l],u[l--]=u[d+s-1],u[d+--s]=c;else if(8!==l)return;return u}(ku(e,1,-1)))?void(this.host=t):Ru;if(this.isSpecial())return e=au(e),mu(Uu,e)||null===(t=function(e){var t,n,r,o,a,i,s,c=Eu(e,".");if(c.length&&""===c[c.length-1]&&c.length--,4<(t=c.length))return e;for(n=[],r=0;r<t;r++){if(""===(o=c[r]))return e;if(a=10,1<o.length&&"0"===L(o,0)&&(a=mu(Iu,o)?16:8,o=ku(o,8===a?1:2)),""===o)i=0;else{if(!mu(10===a?Mu:8===a?ju:Du,o))return e;i=hu(o,a)}bu(n,i)}for(r=0;r<t;r++)if(i=n[r],r===t-1){if(i>=gu(256,5-t))return null}else if(255<i)return null;for(s=Au(n),r=0;r<n.length;r++)s+=n[r]*gu(256,3-r);return s}(e))?Ru:void(this.host=t);if(mu(qu,e))return Ru;for(t="",n=nu(e),r=0;r<n.length;r++)t+=Ka(n[r],Hu);this.host=t},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||"file"===this.scheme},includesCredentials:function(){return""!==this.username||""!==this.password},isSpecial:function(){return tu(Wu,this.scheme)},shortenPath:function(){var e=this.path,t=e.length;!t||"file"===this.scheme&&1===t&&ei(e[0],!0)||e.length--},serialize:function(){var e=this,t=e.scheme,n=e.username,r=e.password,o=e.host,a=e.port,i=e.path,s=e.query,c=e.fragment,u=t+":";return null!==o?(u+="//",e.includesCredentials()&&(u+=n+(r?":"+r:"")+"@"),u+=Ya(o),null!==a&&(u+=":"+a)):"file"===t&&(u+="//"),u+=e.cannotBeABaseURL?i[0]:i.length?"/"+yu(i,"/"):"",null!==s&&(u+="?"+s),null!==c&&(u+="#"+c),u},setHref:function(e){e=this.parse(e);if(e)throw new fu(e);this.searchParams.update()},getOrigin:function(){var e=this.scheme,t=this.port;if("blob"===e)try{return new pl(e.path[0]).origin}catch(e){return"null"}return"file"!==e&&this.isSpecial()?e+"://"+Ya(this.host)+(null!==t?":"+t:""):"null"},getProtocol:function(){return this.scheme+":"},setProtocol:function(e){this.parse(iu(e)+":",Vu)},getUsername:function(){return this.username},setUsername:function(e){var t=nu(iu(e));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var n=0;n<t.length;n++)this.username+=Ka(t[n],Gu)}},getPassword:function(){return this.password},setPassword:function(e){var t=nu(iu(e));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var n=0;n<t.length;n++)this.password+=Ka(t[n],Gu)}},getHost:function(){var e=this.host,t=this.port;return null===e?"":null===t?Ya(e):Ya(e)+":"+t},setHost:function(e){this.cannotBeABaseURL||this.parse(e,rl)},getHostname:function(){var e=this.host;return null===e?"":Ya(e)},setHostname:function(e){this.cannotBeABaseURL||this.parse(e,ol)},getPort:function(){var e=this.port;return null===e?"":iu(e)},setPort:function(e){this.cannotHaveUsernamePasswordPort()||(""===(e=iu(e))?this.port=null:this.parse(e,al))},getPathname:function(){var e=this.path;return this.cannotBeABaseURL?e[0]:e.length?"/"+yu(e,"/"):""},setPathname:function(e){this.cannotBeABaseURL||(this.path=[],this.parse(e,ul))},getSearch:function(){var e=this.query;return e?"?"+e:""},setSearch:function(e){""===(e=iu(e))?this.query=null:("?"===L(e,0)&&(e=ku(e,1)),this.query="",this.parse(e,fl)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var e=this.fragment;return e?"#"+e:""},setHash:function(e){""===(e=iu(e))?this.fragment=null:("#"===L(e,0)&&(e=ku(e,1)),this.fragment="",this.parse(e,hl))},update:function(){this.query=this.searchParams.serialize()||null}},function(e){var t=eu(this,I),n=1<su(arguments.length,1)?arguments[1]:void 0,e=cu(t,new ni(e,!1,n));Kc||(t.href=e.serialize(),t.origin=e.getOrigin(),t.protocol=e.getProtocol(),t.username=e.getUsername(),t.password=e.getPassword(),t.host=e.getHost(),t.hostname=e.getHostname(),t.port=e.getPort(),t.pathname=e.getPathname(),t.search=e.getSearch(),t.searchParams=e.getSearchParams(),t.hash=e.getHash())}),I=pl.prototype,gl=(Kc&&(v(I,"href",R("serialize","setHref")),v(I,"origin",R("getOrigin")),v(I,"protocol",R("getProtocol","setProtocol")),v(I,"username",R("getUsername","setUsername")),v(I,"password",R("getPassword","setPassword")),v(I,"host",R("getHost","setHost")),v(I,"hostname",R("getHostname","setHostname")),v(I,"port",R("getPort","setPort")),v(I,"pathname",R("getPathname","setPathname")),v(I,"search",R("getSearch","setSearch")),v(I,"searchParams",R("getSearchParams")),v(I,"hash",R("getHash","setHash"))),x(I,"toJSON",function(){return uu(this).serialize()},{enumerable:!0}),x(I,"toString",function(){return uu(this).serialize()},{enumerable:!0}),P&&(T=P.createObjectURL,b=P.revokeObjectURL,T&&x(pl,"createObjectURL",nn(T,P)),b)&&x(pl,"revokeObjectURL",nn(b,P)),hr(pl,"URL"),k({global:!0,constructor:!0,forced:!pe,sham:!Kc},{URL:pl}),A.f),ml=f,yl=d,vl=a,Al=pr,bl=d,wl=g,Sl=Error,El=l("".replace),m=String(new Sl("zxcasd").stack),kl=/\n\s*at [^:]*:[^\n]*/,xl=kl.test(m),Pl=_,Lo=!n(function(){var e=new Error("a");return!("stack"in e)||(Object.defineProperty(e,"stack",Pl(1,7)),7!==e.stack)}),Tl=g,Rl=function(e,t){if(xl&&"string"==typeof e&&!Sl.prepareStackTrace)for(;t--;)e=El(e,kl,"");return e},Ol=Lo,Bl=Error.captureStackTrace,Cl=z,Ll=p,Il=g,jl=Le,Ml=a,Dl=se,Ul=function(e,t,n){n in e||gl(e,n,{configurable:!0,get:function(){return t[n]},set:function(e){t[n]=e}})},ql=function(e,t,n){return vl&&ml(t=t.constructor)&&t!==n&&yl(t=t.prototype)&&t!==n.prototype&&vl(e,t),e},_l=function(e,t){return void 0===e?arguments.length<2?"":t:Al(e)},Nl=function(e,t){bl(t)&&"cause"in t&&wl(e,"cause",t.cause)},Ql=function(e,t,n,r){Ol&&(Bl?Bl(e,t):Tl(e,"stack",Rl(n,r)))},Hl=i,Fl=ue,zl=y,Gl=function(e,t,n,r){var o="stackTraceLimit",a=r?2:1,e=e.split("."),i=e[e.length-1],s=Cl.apply(null,e);if(s){var c=s.prototype;if(Ll(c,"cause")&&delete c.cause,!n)return s;var e=Cl("Error"),u=t(function(e,t){t=_l(r?t:e,void 0),e=r?new s(e):new s;return void 0!==t&&Il(e,"message",t),Ql(e,u,e.stack,2),this&&jl(c,this)&&ql(e,this,u),a<arguments.length&&Nl(e,arguments[a]),e});u.prototype=c,"Error"!==i?Ml?Ml(u,e):Dl(u,e,{name:!0}):Hl&&o in s&&(Ul(u,s,o),Ul(u,s,"prepareStackTrace")),Dl(u,s);try{c.name!==i&&Il(c,"name",i),c.constructor=u}catch(e){}return u}},Wl="WebAssembly",Vl=e[Wl],Jl=7!==new Error("e",{cause:7}).cause,Xl=(ri("Error",function(t){return function(e){return zl(t,this,arguments)}}),ri("EvalError",function(t){return function(e){return zl(t,this,arguments)}}),ri("RangeError",function(t){return function(e){return zl(t,this,arguments)}}),ri("ReferenceError",function(t){return function(e){return zl(t,this,arguments)}}),ri("SyntaxError",function(t){return function(e){return zl(t,this,arguments)}}),ri("TypeError",function(t){return function(e){return zl(t,this,arguments)}}),ri("URIError",function(t){return function(e){return zl(t,this,arguments)}}),oi("CompileError",function(t){return function(e){return zl(t,this,arguments)}}),oi("LinkError",function(t){return function(e){return zl(t,this,arguments)}}),oi("RuntimeError",function(t){return function(e){return zl(t,this,arguments)}}),W),$l=X,Zl=u,Yl=oe,Kl=TypeError,as={left:ai(!1),right:ai(!0)},ed=n,Wt="process"===N(e.process),Lr=ue,td=as.left;function nd(){return Math.random().toString(36).slice(2)}function rd(e){return Object.keys(e)}function od(e){return Object.prototype.toString.call(e)}function ad(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function id(e){return"string"==typeof e}function sd(e){return"[object BigInt]"===od(e)}function cd(e){return e instanceof Array}function ud(e){return"object"==typeof e&&null!==e}function ld(e){return e instanceof Blob}function dd(e){return e instanceof URLSearchParams}function fd(e){return e instanceof FormData}function hd(e){return e instanceof Document}Lr({target:"Array",proto:!0,forced:!Wt&&79<Ie&&Ie<83||!function(e,t){var n=[][e];return!!n&&ed(function(){n.call(null,t||function(){return 1},1)})}("reduce")},{reduce:function(e){var t=arguments.length;return td(this,e,t,1<t?arguments[1]:void 0)}});const pd=e=>"".concat(e),gd=e=>({ok:!0,value:e});function md(e){return void 0===e?gd(pd(e)):null===e?gd(e):"number"!=typeof e||e!==-1/0&&e!==1/0&&!Number.isNaN(e)?sd(e)?gd("".concat(e,"n")):"symbol"==typeof e||"function"==typeof e?gd(pd(e.toString())):e instanceof Error?gd(pd(e.stack)):e===Object.prototype?{value:null,ok:!1}:e instanceof Object||"object"==typeof e?{value:e,ok:!1}:gd(e):gd(pd(e))}const j=["log","info","error","warn"].reduce((e,t)=>(e[t]=e=>{console[t]("[PageSpy] [".concat(t.toLocaleUpperCase(),"]: ").concat(e.toString()))},e),{});const yd="message",vd="broadcast";var Ad=Object.freeze({__proto__:null,BROADCAST:vd,CLOSE:"close",CONNECT:"connect",ERROR:"error",JOIN:"join",LEAVE:"leave",MESSAGE:yd,PING:"ping"});const bd="console",wd="refresh";function Sd(e,t,n){return{role:"client",type:e,data:{...(!(2<arguments.length&&void 0!==n)||n)&&{id:nd()},...t}}}var Ed=Kt,kd=TypeError,xd=Object.getOwnPropertyDescriptor,c=i&&!function(){if(void 0!==this)return 1;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(e){return e instanceof TypeError}}(),Pd=TypeError,Td=X,Rd=oe,Od=c?function(e,t){if(Ed(e)&&!xd(e,"length").writable)throw new kd("Cannot set read only .length");return e.length=t}:function(e,t){return e.length=t},Bd=function(e){if(9007199254740991<e)throw Pd("Maximum allowed index exceeded");return e};ue({target:"Array",proto:!0,arity:1,forced:n(function(){return 4294967297!==[].push.call({length:4294967296},1)})||!function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(e){return e instanceof TypeError}}()},{push:function(e){var t=Td(this),n=Rd(t),r=arguments.length;Bd(n+r);for(var o=0;o<r;o++)t[n]=arguments[o],n++;return Od(t,n),n}});class Cd{constructor(){t(this,"store",{}),t(this,"instanceStore",{})}getStore(){return this.store}resetStore(){this.store={}}getInstanceStore(){return this.instanceStore}resetInstanceStore(){this.instanceStore={}}transformToAtom(e){var{value:t,ok:n}=md(e);return n?{id:nd(),type:void 0===(n=e)?"undefined":null===n?"null":sd(n)?"bigint":n instanceof Object?n instanceof Error?"error":n instanceof Function?"function":"object":typeof n,value:t}:this.add(e)}get(e){var t=this.store[e];const n=this.instanceStore[e];if(!t)return null;const r={},o=Object.getOwnPropertyDescriptors(t);Object.keys(o).forEach(e=>{var t=o[e];ad(t,"value")&&(t.value=this.transformToAtom(t.value)),r[e]=Cd.getAtomOverview({atomId:nd(),instanceId:n,value:t})});t=this.addExtraProperty(e);return{...r,...t}}getOrigin(e){e=this.store[e];return e||null}add(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",n=nd();let r=n;ud(o=e)&&ad(o,"constructor")&&"function"==typeof o.constructor&&(r=t),this.store[n]=e,this.instanceStore[n]=r;var o=Cd.getSemanticValue(e);return Cd.getAtomOverview({atomId:n,value:o,instanceId:r})}static getAtomOverview(e){var{instanceId:e="",atomId:t,value:n}=e;return{id:nd(),type:"atom",__atomId:t,instanceId:e,value:n}}static getSemanticValue(e){var t;return ud(t=e)&&"[object Object]"===od(t)?"Object {...}":cd(e)?"Array (".concat(e.length,")"):e.constructor.name}addExtraProperty(e){var t,n=this.store[e],e=this.instanceStore[e],r={};if((n instanceof String||n instanceof Number||n instanceof Boolean)&&(r["[[PrimitiveValue]]"]=this.transformToAtom(n.valueOf())),n instanceof Set){var o={};let e=0;for(const c of n)o[e++]=c;o.size=n.size,r["[[Entries]]"]=this.transformToAtom(o)}if(n instanceof Map){var a,i,s={};let e=0;for([a,i]of n.entries())s[e++]={key:a,value:i};s.size=n.size,r["[[Entries]]"]=this.transformToAtom(s)}return(cd(n)||(t=n)instanceof NodeList||t instanceof HTMLCollection)&&(r.length=this.transformToAtom(n.length)),null!==Object.getPrototypeOf(n)?r["[[Prototype]]"]=this.add(Object.getPrototypeOf(n),e):r.___proto___=this.transformToAtom(null),r}}var Ld=new Cd;const Id="page-spy-room";var M=new class Ap{getSocket(){return this.socket}constructor(){t(this,"socket",null),t(this,"socketUrl",""),t(this,"socketConnection",null),t(this,"timer",null),t(this,"retryTimer",null),t(this,"messages",[]),t(this,"events",{refresh:[],debug:[],"atom-detail":[],"atom-getter":[],"debugger-online":[],"database-pagination":[]}),t(this,"reconnectable",!0),t(this,"reconnectTimes",3),t(this,"connectionStatus",!1),this.addListener("debug",Ap.handleDebugger),this.addListener("atom-detail",Ap.handleResolveAtom),this.addListener("atom-getter",Ap.handleAtomPropertyGetter),this.addListener("debugger-online",this.handleFlushBuffer)}init(e){try{if(!e)throw Error("WebSocket url cannot be empty");this.socket=new WebSocket(e),this.socketUrl=e,this.socket.addEventListener("open",()=>{this.connectOnline(),this.peelMessage()}),this.socket.addEventListener("close",()=>{this.connectOffline()}),this.socket.addEventListener("error",()=>{this.connectOffline()})}catch(e){j.error(e.message)}}addListener(e,t){this.events[e]||(this.events[e]=[]),this.events[e].push(t)}broadcastMessage(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],e={type:vd,content:{data:e}};this.send(e,t)}close(){var e;this.clearPing(),this.reconnectTimes=0,this.reconnectable=!1,null!=(e=this.socket)&&e.close()}connectOnline(){this.connectionStatus=!0,this.reconnectTimes=3,this.pingConnect()}connectOffline(){this.socket=null,this.connectionStatus=!1,this.socketConnection=null,this.clearPing(),!this.reconnectable||this.reconnectTimes<=0?(window.dispatchEvent(new CustomEvent("sdk-inactive")),sessionStorage.setItem(Id,JSON.stringify({usable:!1}))):(this.retryTimer&&clearTimeout(this.retryTimer),this.retryTimer=setTimeout(()=>{this.retryTimer=null,this.tryReconnect()},2e3))}tryReconnect(){--this.reconnectTimes,this.init(this.socketUrl)}pingConnect(){this.timer=setInterval(()=>{var e;(null==(e=this.socket)?void 0:e.readyState)===WebSocket.OPEN&&this.send({type:"ping",content:null})},1e4)}clearPing(){this.timer&&window.clearInterval(this.timer)}peelMessage(){if(this.socket){const{CONNECT:i,MESSAGE:s,ERROR:c}=Ad;this.socket.addEventListener("message",e=>{var t,n=JSON.parse(e.data);switch(e=n.type){case i:var r=n.content.selfConnection;this.socketConnection=r;break;case s:var{data:r,from:o,to:a}=n.content;a.address===(null==(t=this.socketConnection)?void 0:t.address)&&this.dispatchEvent(r.type,{source:r,from:o,to:a});break;case c:this.reconnectable=!1,this.connectOffline()}})}}dispatchEvent(e,t){this.events[e].forEach(e=>{e.call(this,t,e=>{this.unicastMessage(e,t.from)})})}unicastMessage(e,t){n=this.socketConnection;var n,e={type:yd,content:{data:e,from:n,to:t}};this.send(e)}handleFlushBuffer(t){const n=t.source.data.latestId;var e=this.messages.findIndex(e=>e.content.data.data.id===n);this.messages.slice(e+1).forEach(e=>{e={type:yd,content:{data:e.content.data,from:this.socketConnection,to:t.from}},this.send(e,!0)})}static handleDebugger(e,t){var{type:e,data:n}=e=e.source;if("debug"===e){t(Sd(bd,{logType:"debug-origin",logs:[{id:nd(),type:"debug-origin",value:n}]}));try{var r=new Function("return ".concat(n))();t(Sd(bd,{logType:"debug-eval",logs:[Ld.transformToAtom(r)]}))}catch(e){t(Sd(bd,{logType:"error",logs:[{type:"error",value:e.stack}]}))}}}static handleResolveAtom(e,t){var{type:e,data:n}=e=e.source;"atom-detail"===e&&(e=Ld.get(n)||{},t(Sd("atom-detail-".concat(n),e,!1)))}static handleAtomPropertyGetter(t,n){var{type:t,data:r}=t=t.source;if("atom-getter"===t){var{id:t,parentId:r,key:o,instanceId:a}=r,a=Ld.getOrigin(a),r=Ld.getOrigin(r);let e={};e=a&&r?null==(r=Object.getOwnPropertyDescriptor(r,o))||null==(r=r.get)?void 0:r.call(a):new Error("Getter computed failed"),n(Sd("atom-getter-".concat(t),Ld.transformToAtom(e)))}}send(e){var t,n=1<arguments.length&&void 0!==arguments[1]&&arguments[1];if(this.connectionStatus)try{null!=(t=this.socket)&&t.send(function(e){var{ok:t,value:n}=md(e);return t?n:JSON.stringify(e,(e,t)=>md(t).value,2)}(e))}catch(e){throw Error("Incompatible: ".concat(e.message))}n||-1<[yd,"ping"].indexOf(e.type)||this.messages.push(e)}};class jd{constructor(){t(this,"name","ConsolePlugin"),t(this,"console",{})}async onCreated(){var o=this;jd.hasInitd||(jd.hasInitd=!0,["log","info","error","warn","debug"].forEach(r=>{this.console[r]=window.console[r]||window.console.log||(()=>{}),window.console[r]=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];o.printLog({logType:r,logs:t,url:window.location.href})}}))}printLog(e){e.logs&&e.logs.length&&(this.console[e.logType](...e.logs),e.logs=e.logs.map(e=>Ld.transformToAtom(e)),e=Sd(bd,{time:Date.now(),...e}),M.broadcastMessage(e))}}t(jd,"hasInitd",!1);const Md=e=>{var t,n;return"object"!=typeof e||({name:e,message:t,stack:n}=Object(e),!1===[e,t,n].every(Boolean))?null:{name:e,message:t,stack:n}};class Dd{constructor(){t(this,"name","ErrorPlugin")}onCreated(){Dd.hasInitd||(Dd.hasInitd=!0,this.onUncaughtError(),this.onResourceLoadError(),this.onUnhandledRejectionError())}onUncaughtError(){window.addEventListener("error",e=>{var t,n;e.error?({message:t,stack:n}=e.error,e=Md(e.error),Dd.sendMessage(n||t,e)):Dd.sendMessage("[PageSpy] An unknown error occurred and no stack trace available",null)})}onResourceLoadError(){window.addEventListener("error",e=>{e instanceof ErrorEvent||(e=e["target"],Dd.sendMessage("[PageSpy] Resource Load Error: Cannot load resource of (".concat(e.src||e.href,")"),null))},!0)}onUnhandledRejectionError(){window.addEventListener("unhandledrejection",e=>{var t=Md(e.reason);Dd.sendMessage(e.reason,t)})}static sendMessage(e,t){e={logType:"error",logs:[Ld.transformToAtom(e)],time:Date.now(),url:window.location.href,errorDetail:t},t=Sd(bd,e);M.broadcastMessage(t)}}t(Dd,"hasInitd",!1);const Ud=r=>new Promise((t,e)=>{var n=new FileReader;n.onload=e=>{t(null==(e=e.target)?void 0:e.result)},n.onerror=()=>{e(new Error("blob2base64Async: can not convert"))},n.readAsDataURL(r)});class qd{constructor(e){t(this,"id",""),t(this,"name",""),t(this,"method",""),t(this,"url",""),t(this,"requestType","xhr"),t(this,"requestHeader",null),t(this,"status",0),t(this,"statusText",""),t(this,"readyState",0),t(this,"responseReason",null),t(this,"responseType",""),t(this,"responseHeader",null),t(this,"startTime",0),t(this,"endTime",0),t(this,"costTime",0),t(this,"getData",null),t(this,"postData",null),t(this,"requestPayload",null),t(this,"withCredentials",!1),this.id=e}}class _d{constructor(){t(this,"reqMap",Object.create(null))}getRequestMap(){return this.reqMap}getRequest(e){return this.reqMap[e]}createRequest(e){return e?this.reqMap[e]?(j.warn("The request object has been in store, disallow duplicate create"),!1):(this.reqMap[e]=new qd(e),!0):(j.error('The "id" is required when init request object'),!1)}setRequest(e,t){return!(!e||!t||(this.reqMap[e]=t,0))}sendRequestItem(e,t){this.reqMap[e]||(this.reqMap[e]=t);var n=Sd("network",{...t},!1);M.broadcastMessage(n,t.readyState!==XMLHttpRequest.DONE),this.deferDeleteRequest(e)}deferDeleteRequest(e){var t=this.getRequest(e);t&&4===t.readyState&&setTimeout(()=>{delete this.reqMap[e]},3e3)}}function Nd(){var e=Hd(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.unicodeSets&&(t+="v"),e.sticky&&(t+="y"),t}function Qd(a,i,s,c,u,e){var l=s+a.length,d=c.length,t=Ef;return void 0!==u&&(u=yf(u),t=Sf),bf(e,t,function(e,t){var n;switch(Af(t,0)){case"$":return"$";case"&":return a;case"`":return wf(i,0,s);case"'":return wf(i,l);case"<":n=u[wf(t,1,-1)];break;default:var r,o=+t;if(0==o)return e;if(d<o)return 0!==(r=vf(o/10))&&r<=d?void 0===c[r-1]?Af(t,1):c[r-1]+Af(t,1):e;n=c[o-1]}return void 0===n?"":n})}var Hd=o,E=n,Fd=e.RegExp,v=E(function(){var e=Fd("a","y");return e.lastIndex=2,null!==e.exec("abcd")}),T=v||E(function(){return!Fd("a","y").sticky}),x={BROKEN_CARET:v||E(function(){var e=Fd("^r","gy");return e.lastIndex=2,null!==e.exec("str")}),MISSED_STICKY:T,UNSUPPORTED_Y:v},nn=n,zd=e.RegExp,b=nn(function(){var e=zd(".","s");return!(e.dotAll&&e.test("\n")&&"s"===e.flags)}),P=n,Gd=e.RegExp,hr=P(function(){var e=Gd("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")}),Wd=s,k=l,Vd=pr,Jd=Nd,pe=x,A=Ye,Xd=h,$d=w.get,m=b,Lo=hr,Zd=A("native-string-replace",String.prototype.replace),Yd=RegExp.prototype.exec,Kd=Yd,ef=k("".charAt),tf=k("".indexOf),nf=k("".replace),rf=k("".slice),of=(a=/b*/g,Wd(Yd,u=/a/,"a"),Wd(Yd,a,"a"),0!==u.lastIndex||0!==a.lastIndex),af=pe.BROKEN_CARET,sf=void 0!==/()??/.exec("")[1],as=Kd=of||sf||af||m||Lo?function(e){var t,n,r,o,a,i,s=this,c=$d(s),e=Vd(e),u=c.raw;if(u)return u.lastIndex=s.lastIndex,d=Wd(Kd,u,e),s.lastIndex=u.lastIndex,d;var l=c.groups,u=af&&s.sticky,d=Wd(Jd,s),c=s.source,f=0,h=e;if(u&&(d=nf(d,"y",""),-1===tf(d,"g")&&(d+="g"),h=rf(e,s.lastIndex),0<s.lastIndex&&(!s.multiline||s.multiline&&"\n"!==ef(e,s.lastIndex-1))&&(c="(?: "+c+")",h=" "+h,f++),t=new RegExp("^(?:"+c+")",d)),sf&&(t=new RegExp("^"+c+"$(?!\\s)",d)),of&&(n=s.lastIndex),r=Wd(Yd,u?t:s,h),u?r?(r.input=rf(r.input,f),r[0]=rf(r[0],f),r.index=s.lastIndex,s.lastIndex+=r[0].length):s.lastIndex=0:of&&r&&(s.lastIndex=s.global?r.index+r[0].length:n),sf&&r&&1<r.length&&Wd(Zd,r[0],t,function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(r[o]=void 0)}),r&&l)for(r.groups=a=Xd(null),o=0;o<l.length;o++)a[(i=l[o])[0]]=r[i[1]];return r}:Kd,cf=(ue({target:"RegExp",proto:!0,forced:/./.exec!==as},{exec:as}),Ia),uf=ee,lf=as,df=n,ff=r,hf=g,pf=ff("species"),gf=RegExp.prototype,mf=S.charAt,Lr=l,yf=X,vf=Math.floor,Af=Lr("".charAt),bf=Lr("".replace),wf=Lr("".slice),Sf=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,Ef=/\$([$&'`]|\d{1,2})/g,kf=s,xf=o,Pf=f,Tf=N,Rf=as,Of=TypeError,Bf=y,Cf=s,Wt=l,Ie=function(n,e,t,r){var i,o=ff(n),s=!df(function(){var e={};return e[o]=function(){return 7},7!==""[n](e)}),a=s&&!df(function(){var e=!1,t=/a/;return"split"===n&&((t={constructor:{}}).constructor[pf]=function(){return t},t.flags="",t[o]=/./[o]),t.exec=function(){return e=!0,null},t[o](""),!e});s&&a&&!t||(i=cf(/./[o]),a=e(o,""[n],function(e,t,n,r,o){var e=cf(e),a=t.exec;return a===lf||a===gf.exec?s&&!o?{done:!0,value:i(t,n,r)}:{done:!0,value:e(n,t,r)}:{done:!1}}),uf(String.prototype,n,a[0]),uf(gf,o,a[1])),r&&hf(gf[o],"sham",!0)},Kt=n,Lf=o,If=f,jf=Q,Mf=te,Df=re,Uf=pr,qf=H,_f=function(e,t,n){return t+(n?mf(e,t).length:1)},Nf=V,Qf=Qd,Hf=function(e,t){var n=e.exec;if(Pf(n))return null!==(n=kf(n,e,t))&&xf(n),n;if("RegExp"===Tf(e))return kf(Rf,e,t);throw new Of("RegExp#exec called on incompatible receiver")},Ff=r("replace"),zf=Math.max,Gf=Math.min,Wf=Wt([].concat),Vf=Wt([].push),Jf=Wt("".indexOf),Xf=Wt("".slice),i="$0"==="a".replace(/./,"$0"),$f=!!/./[Ff]&&""===/./[Ff]("a","$0");Ie("replace",function(e,A,b){var w=$f?"$":"$0";return[function(e,t){var n=qf(this),r=jf(e)?void 0:Nf(e,Ff);return r?Cf(r,e,n,t):Cf(A,Uf(n),e,t)},function(e,t){var n=Lf(this),r=Uf(e);if("string"==typeof t&&-1===Jf(t,w)&&-1===Jf(t,"$<")){e=b(A,n,r,t);if(e.done)return e.value}for(var o,a=If(t),i=(a||(t=Uf(t)),n.global),s=(i&&(o=n.unicode,n.lastIndex=0),[]);null!==(f=Hf(n,r))&&(Vf(s,f),i);)""===Uf(f[0])&&(n.lastIndex=_f(r,Df(n.lastIndex),o));for(var c,u="",l=0,d=0;d<s.length;d++){for(var f,h=Uf((f=s[d])[0]),p=zf(Gf(Mf(f.index),r.length),0),g=[],m=1;m<f.length;m++)Vf(g,void 0===(c=f[m])?c:String(c));var y=f.groups,v=a?(v=Wf([h],g,p,r),void 0!==y&&Vf(v,y),Uf(Bf(t,void 0,v))):Qf(h,r,p,g,y,t);l<=p&&(u+=Xf(r,l,p)+v,l=p+h.length)}return u+Xf(r,l)}]},!!Kt(function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})||!i||$f);const Zf={EXCEED_SIZE:"Exceed maximum limit"},Yf="(file)";function Kf(t){var n=[];let r=t.next();for(;!r.done;){var[o,a]=r.value;let e;e=a instanceof File?Yf:String(a),n.push([o,e]),r=t.next()}return n}function eh(e){try{var{href:t,searchParams:n}=new URL(e,window.location.href),r=t,o=[...n.entries()];return{url:r,name:t.replace(/^.*?([^/]+)(\/)*(\?.*?)?$/,"$1$2$3")||"",query:o}}catch(e){return console.error(e),{url:"Unknown",name:"Unknown",query:null}}}const th="Content-Type";function nh(t,e){if(!e)return t;e=(e=e)?fd(e)?"multipart/form-data":dd(e)?"application/x-www-form-urlencoded;charset=UTF-8":hd(e)?"application/xml":ld(e)?e.type:"text/plain;charset=UTF-8":null;if(!e)return t;e=[th,e];if(!t)return[e];for(let e=0;e<t.length;e++){var[n]=t[e];if(n.toUpperCase()===th.toUpperCase())return t}return[...t,e]}async function rh(e){return e?dd(e)||fd(e)?Kf(e.entries()):ld(e)?"[object Blob]":ArrayBuffer.isView(e)?"[object TypedArray]":hd(e)?(new XMLSerializer).serializeToString(e):id(e)?e:od(e):null}function oh(e){return 200<=e&&e<400}class ah extends _d{constructor(){super(),t(this,"xhrOpen",null),t(this,"xhrSend",null),t(this,"xhrSetRequestHeader",null),this.initProxyHandler()}initProxyHandler(){const s=this;if(window.XMLHttpRequest){const{open:c,send:i,setRequestHeader:r}=window.XMLHttpRequest.prototype;this.xhrOpen=c,this.xhrSend=i,this.xhrSetRequestHeader=r,window.XMLHttpRequest.prototype.open=function(){const r=this;for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var o=t[0],a=t[1];const i=nd();return s.createRequest(i),this.pageSpyRequestId=i,this.pageSpyRequestMethod=o,this.pageSpyRequestUrl=a,r.addEventListener("readystatechange",async()=>{const t=s.getRequest(i);if(t){switch(t.readyState=r.readyState,r.readyState){case r.UNSENT:case r.OPENED:t.status=r.status,t.statusText="Pending",t.startTime||(t.startTime=Date.now());break;case r.HEADERS_RECEIVED:t.status=r.status,t.statusText="Loading";var e=(r.getAllResponseHeaders()||"").trim().split(/[\r\n]+/);t.responseHeader=e.reduce((e,t)=>{var[t,...n]=t.split(": ");return e.push([t,n.join(": ")]),e},[]);break;case r.LOADING:t.status=r.status,t.statusText="Loading";break;case r.DONE:t.status=r.status,t.statusText="Done",t.endTime=Date.now(),t.costTime=t.endTime-(t.startTime||t.endTime);const n=await s.formatResponse(r);rd(n).forEach(e=>{t[e]=n[e]});break;default:t.status=r.status,t.statusText="Unknown"}s.sendRequestItem(r.pageSpyRequestId,t)}else j.warn("The request object is not found on XMLHttpRequest's readystatechange event")}),c.apply(r,t)},window.XMLHttpRequest.prototype.setRequestHeader=function(e,t){var n=s.getRequest(this.pageSpyRequestId);return n?(n.requestHeader||(n.requestHeader=[]),n.requestHeader.push([e,t])):j.warn("The request object is not found on XMLHttpRequest's setRequestHeader event"),r.apply(this,[e,t])},window.XMLHttpRequest.prototype.send=function(e){const t=this;var{pageSpyRequestId:n,pageSpyRequestMethod:r="GET",pageSpyRequestUrl:o=""}=t;const a=s.getRequest(n);return a?(n=eh(o),a.url=n.url,a.name=n.name,a.getData=n.query,a.method=r.toUpperCase(),a.requestType="xhr",a.responseType=t.responseType,a.withCredentials=t.withCredentials,"GET"!==a.method&&(a.requestHeader=nh(a.requestHeader,e),rh(e).then(e=>{a.requestPayload=e,s.sendRequestItem(t.pageSpyRequestId,a)}))):j.warn("The request object is not found on XMLHttpRequest's send event"),i.apply(t,[e])}}}async formatResponse(n){var e,r={response:"",responseReason:null};if(oh(n.status))switch(n.responseType){case"":case"text":if(id(n.response))try{r.response=JSON.parse(n.response)}catch(e){r.response=n.response}else void 0!==n.response&&(r.response=od(n.response));break;case"json":void 0!==n.response&&(r.response=n.response);break;case"blob":case"arraybuffer":if(n.response){let t=n.response;if(ld(t=t instanceof ArrayBuffer&&(e=n.getResponseHeader("content-type"))?new Blob([t],{type:e}):t))if(t.size<=2097152)try{r.response=await Ud(t)}catch(e){r.response=await t.text(),j.error(e.message)}else r.response="[object Blob]",r.responseReason=Zf.EXCEED_SIZE}break;default:void 0!==n.response&&(r.response=Object.prototype.toString.call(n.response))}return r}}function ih(e){var n,r;this.promise=new e(function(e,t){if(void 0!==n||void 0!==r)throw new gh("Bad Promise constructor");n=e,r=t}),this.resolve=ph(n),this.reject=ph(r)}var c=e.Promise,sh=ko,ch=G,uh=TypeError,lh=o,dh=function(e){if(sh(e))return e;throw new uh(ch(e)+" is not a constructor")},fh=Q,hh=r("species"),E={},ph=W,gh=TypeError,mh=(E.f=function(e){return new ih(e)},o),yh=d,vh=E,T=ue,v=c,nn=n,Ah=z,bh=f,wh=function(e,t){var e=lh(e).constructor;return void 0===e||fh(e=lh(e)[hh])?t:dh(e)},Sh=function(e,t){return mh(e),yh(t)&&t.constructor===e?t:((0,(e=vh.f(e)).resolve)(t),e.promise)},P=ee,Eh=v&&v.prototype;T({target:"Promise",proto:!0,real:!0,forced:!!v&&nn(function(){Eh.finally.call({then:function(){}},function(){})})},{finally:function(t){var n=wh(this,Ah("Promise")),e=bh(t);return this.then(e?function(e){return Sh(n,t()).then(function(){return e})}:t,e?function(e){return Sh(n,t()).then(function(){throw e})}:t)}}),bh(v)&&(x=Ah("Promise").prototype.finally,Eh.finally!==x)&&P(Eh,"finally",x,{unsafe:!0});class kh extends _d{constructor(){super(),t(this,"fetch",null),this.initProxyHandler()}initProxyHandler(){const c=this,e=window.fetch;e&&(this.fetch=e,window.fetch=function(r){var o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},a=e(r,o);const i=nd(),s=(c.createRequest(i),c.getRequest(i));if(s){let e="GET",t,n=null;n=id(r)||r instanceof URL?(e=o.method||"GET",t=r,o.headers||null):(e=r.method,t=r.url,r.headers);r=eh(t);s.url=r.url,s.name=r.name,s.getData=r.query,s.method=e.toUpperCase(),s.requestType="fetch",s.status=0,s.statusText="Pending",s.startTime=Date.now(),s.readyState=XMLHttpRequest.UNSENT,o.credentials&&"omit"!==o.credentials&&(s.withCredentials=!0),n instanceof Headers?s.requestHeader=[...n.entries()]:ud(n)?s.requestHeader=Object.entries(n):s.requestHeader=n,"GET"!==s.method&&(s.requestHeader=nh(s.requestHeader,o.body),rh(o.body).then(e=>{s.requestPayload=e,c.sendRequestItem(i,s)})),c.sendRequestItem(i,s),a.then(e=>{if(s.endTime=Date.now(),s.costTime=s.endTime-(s.startTime||s.endTime),s.status=e.status||200,s.statusText=e.statusText||"Done",s.responseHeader=[...e.headers.entries()],s.readyState=XMLHttpRequest.HEADERS_RECEIVED,c.sendRequestItem(i,s),!oh(e.status))return"";var t=e.headers.get("content-type");if(t){if(t.includes("application/json"))return s.responseType="json",e.clone().text();if(t.includes("text/html")||t.includes("text/plain"))return s.responseType="text",e.clone().text()}return s.responseType="blob",e.clone().blob()}).then(async t=>{switch(s.responseType){case"text":case"json":try{s.response=JSON.parse(t)}catch(e){s.response=t,s.responseType="text"}break;case"blob":var n=t;if(n.size<=2097152)try{s.response=await Ud(n)}catch(e){s.response=await n.text(),j.error(e.message)}else s.response="[object Blob]",s.responseReason=Zf.EXCEED_SIZE}}).finally(()=>{s.readyState=XMLHttpRequest.DONE,c.sendRequestItem(i,s)})}else j.warn("The request object is not found on window.fetch event");return a})}}class xh extends _d{constructor(){super(),t(this,"sendBeacon",null),this.initProxyHandler()}initProxyHandler(){const a=window.navigator.sendBeacon;if(a){const i=this;this.sendBeacon=a,window.navigator.sendBeacon=function(e,t){var n=a.call(window.navigator,e,t);const r=nd(),o=(i.createRequest(r),i.getRequest(r));return o?(e=eh(e),o.url=e.url,o.name=e.name,o.getData=e.query,o.method="POST",o.status=0,o.statusText="Pending",o.requestType="ping",o.requestHeader=nh(o.requestHeader,t),o.startTime=Date.now(),rh(t).then(e=>{o.requestPayload=e,i.sendRequestItem(r,o)}),o.response="",n?(o.status=200,o.statusText="Sent",o.endTime=Date.now(),o.costTime=o.endTime-(o.startTime||o.endTime)):(o.status=500,o.statusText="Unknown"),o.readyState=XMLHttpRequest.DONE,i.sendRequestItem(r,o)):j.warn("The request object is not on navigator.sendBeacon event"),n}}}}class Ph{constructor(){t(this,"name","NetworkPlugin"),t(this,"xhrProxy",null),t(this,"fetchProxy",null),t(this,"beaconProxy",null)}onCreated(){Ph.hasInitd||(Ph.hasInitd=!0,this.xhrProxy=new ah,this.fetchProxy=new kh,this.beaconProxy=new xh)}}t(Ph,"hasInitd",!1);function Th(e,t,n){return n>e.length?-1:""===t?n:Vh(e,t,n)}var Ye=e,h=Po,Rh=(ue({global:!0},{Reflect:{}}),h(Ye.Reflect,"Reflect",!0),d),Oh=N,Bh=r("match"),Ch=s,Lh=p,Ih=Le,jh=Nd,Mh=RegExp.prototype,w=ue,Dh=s,b=l,Uh=H,qh=f,_h=Q,Nh=function(e){var t;return Rh(e)&&(void 0!==(t=e[Bh])?!!t:"RegExp"===Oh(e))},Qh=pr,Hh=V,Fh=function(e){var t=e.flags;return void 0!==t||"flags"in Mh||Lh(e,"flags")||!Ih(Mh,e)?t:Ch(jh,e)},zh=Qd,Gh=r("replace"),Wh=TypeError,Vh=b("".indexOf),Jh=(b("".replace),b("".slice)),Xh=Math.max;w({target:"String",proto:!0},{replaceAll:function(e,t){var n,r,o,a,i,s,c,u=Uh(this),l=0,d=0,f="";if(!_h(e)){if(Nh(e)&&(n=Qh(Uh(Fh(e))),!~Vh(n,"g")))throw new Wh("`.replaceAll` does not allow non-global regexes");if(n=Hh(e,Gh))return Dh(n,e,u,t)}for(r=Qh(u),o=Qh(e),(a=qh(t))||(t=Qh(t)),i=o.length,s=Xh(1,i),l=Th(r,o,0);-1!==l;)c=a?Qh(t(o,l,r)):zh(o,r,l,[],void 0,t),f+=Jh(r,d,l)+c,d=l+i,l=Th(r,o,l+s);return d<r.length&&(f+=Jh(r,d)),f}});const $h={WeChat:/MicroMessenger\/([\d.]+)/,QQ:/(?:QQBrowser|MQQBrowser|QQ)\/([\d.]+)/,UC:/(?:UCBrowser|UCBS)\/([\d.]+)/,Baidu:/(?:BIDUBrowser|baiduboxapp)[/]?([\d.]*)/,Edge:/Edg(?:e|A|iOS)?\/([\d.]+)/,Chrome:/(?:Chrome|CriOS)\/([\d.]+)/,Firefox:/(?:Firefox|FxiOS)\/([\d.]+)/,Safari:/Version\/([\d.]+).*Safari/},Zh={Windows:/Windows NT ([\d_.]+)/,iPhone:/iPhone OS ([\d_.]+)/,iPad:/iPad.*OS ([\d_.]+)/,Mac:/Mac OS X ([\d_.]+)/,Android:/Android ([\d_.]+)/,Linux:/Linux/};function Yh(e){var t=0<arguments.length&&void 0!==e?e:window.navigator.userAgent;let n="Unknown",r="Unknown",o="Unknown",a="Unknown";for(const c in Zh)if(Object.prototype.hasOwnProperty.call(Zh,c)){var i=Zh[c],i=t.match(i);if(i){n=c,r=null==(i=i[1])?void 0:i.replaceAll("_",".");break}}for(const u in $h)if(Object.prototype.hasOwnProperty.call($h,u)){var s=t.match($h[u]);if(s){o=u,a=s[1];break}}return{osName:n,osVersion:r,browserName:o,browserVersion:a}}var Kh,ep;Kh={exports:{}},function(D,f,l,h){function p(e,t){return typeof e===t}function U(e){var t,n=A.className,r=v._config.classPrefix||"";b&&(n=n.baseVal),v._config.enableJSClass&&(t=new RegExp("(^|\\s)"+r+"no-js(\\s|$)"),n=n.replace(t,"$1"+r+"js$2")),v._config.enableClasses&&(0<e.length&&(n+=" "+r+e.join(" "+r)),b?A.className.baseVal=n:A.className=n)}function d(e,t){if("object"==typeof e)for(var n in e)F(e,n)&&d(n,e[n]);else{var r=(e=e.toLowerCase()).split("."),o=v[r[0]];if(void 0!==(o=2===r.length?o[r[1]]:o))return v;t="function"==typeof t?t():t,1===r.length?v[r[0]]=t:(!v[r[0]]||v[r[0]]instanceof Boolean||(v[r[0]]=new Boolean(v[r[0]])),v[r[0]][r[1]]=t),U([(t&&!1!==t?"":"no-")+r.join("-")]),v._trigger(e,t)}return v}function g(e){return"function"!=typeof l.createElement?l.createElement(e):b?l.createElementNS.call(l,"http://www.w3.org/2000/svg",e):l.createElement.apply(l,arguments)}function m(e,t,n,r){var o,a,i,s,c="modernizr",u=g("div");(s=l.body)||((s=g(b?"svg":"body")).fake=!0);if(parseInt(n,10))for(;n--;)(a=g("div")).id=r?r[n]:c+(n+1),u.appendChild(a);return(o=g("style")).type="text/css",o.id="s"+c,(s.fake?s:u).appendChild(o),s.appendChild(u),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(l.createTextNode(e)),u.id=c,s.fake&&(s.style.background="",s.style.overflow="hidden",i=A.style.overflow,A.style.overflow="hidden",A.appendChild(s)),o=t(u,e),s.fake&&s.parentNode?(s.parentNode.removeChild(s),A.style.overflow=i,A.offsetHeight):u.parentNode.removeChild(u),!!o}function q(e,t,n){var r,o;return"getComputedStyle"in f?(r=getComputedStyle.call(f,e,t),o=f.console,null!==r?n&&(r=r.getPropertyValue(n)):o&&o[o.error?"error":"log"].call(o,"getComputedStyle returning null, its possible modernizr test results are inaccurate")):r=!t&&e.currentStyle&&e.currentStyle[n],r}function y(e){return e.replace(/([A-Z])/g,function(e,t){return"-"+t.toLowerCase()}).replace(/^ms-/,"-ms-")}function _(e){return e.replace(/([a-z])-([a-z])/g,function(e,t,n){return t+n.toUpperCase()}).replace(/^-/,"")}function N(e,t,n,r){function o(){i&&(delete T.style,delete T.modElem)}if(r=!(void 0===r)&&r,void 0!==n){var a=function(e,t){var n=e.length;if("CSS"in f&&"supports"in f.CSS){for(;n--;)if(f.CSS.supports(y(e[n]),t))return!0;return!1}if("CSSSupportsRule"in f){for(var r=[];n--;)r.push("("+y(e[n])+":"+t+")");return m("@supports ("+(r=r.join(" or "))+") { #modernizr { position: absolute; } }",function(e){return"absolute"===q(e,null,"position")})}return h}(e,n);if(void 0!==a)return a}for(var i,s,c,u,l,d=["modernizr","tspan","samp"];!T.style&&d.length;)i=!0,T.modElem=g(d.shift()),T.style=T.modElem.style;for(c=e.length,s=0;s<c;s++)if(u=e[s],l=T.style[u],~(""+u).indexOf("-")&&(u=_(u)),T.style[u]!==h){if(r||void 0===n)return o(),"pfx"!==t||u;try{T.style[u]=n}catch(e){}if(T.style[u]!==l)return o(),"pfx"!==t||u}return o(),!1}function r(e,t,n,r,o){var a,i,s=e.charAt(0).toUpperCase()+e.slice(1),c=(e+" "+W.join(s+" ")+s).split(" ");if(p(t,"string")||void 0===t)return N(c,t,r,o);var u=(e+" "+w.join(s+" ")+s).split(" "),l=t,d=n;for(i in u)if(u[i]in l)if(!1===d)return u[i];else{a=l[u[i]];if(p(a,"function")){var f=a;var h=d||l;return function(){return f.apply(h,arguments)};return}else return a}return!1}function Q(e,t){e=e.deleteDatabase(t);e.onsuccess=function(){d("indexeddb.deletedatabase",!0)},e.onerror=function(){d("indexeddb.deletedatabase",!1)}}function H(e){var t,n=le.length,r=f.CSSRule;if(void 0===r)return h;if(e){if((t=(e=e.replace(/^@/,"")).replace(/-/g,"_").toUpperCase()+"_RULE")in r)return"@"+e;for(var o=0;o<n;o++){var a=le[o];if(a.toUpperCase()+"_"+t in r)return"@-"+a.toLowerCase()+"-"+e}}return!1}var F,n,z,o=[],e={_version:"4.0.0-alpha",_config:{classPrefix:"",enableClasses:!1,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(e,t){var n=this;setTimeout(function(){t(n[e])},0)},addTest:function(e,t,n){o.push({name:e,fn:t,options:n})},addAsyncTest:function(e){o.push({name:null,fn:e})}},v=function(){},G=(v.prototype=e,v=new v,[]),A=l.documentElement,b="svg"===A.nodeName.toLowerCase(),t=(F=void 0===(n={}.hasOwnProperty)||void 0===n.call?function(e,t){return t in e&&void 0===e.constructor.prototype[t]}:function(e,t){return n.call(e,t)},e._l={},e.on=function(e,t){this._l[e]||(this._l[e]=[]),this._l[e].push(t),v.hasOwnProperty(e)&&setTimeout(function(){v._trigger(e,v[e])},0)},e._trigger=function(e,t){var n;this._l[e]&&(n=this._l[e],setTimeout(function(){for(var e=0;e<n.length;e++)(0,n[e])(t)},0),delete this._l[e])},v._q.push(function(){e.addTest=d}),"Moz O ms Webkit"),W=e._config.usePrefixes?t.split(" "):[],w=(e._cssomPrefixes=W,e.atRule=H,e._config.usePrefixes?t.toLowerCase().split(" "):[]),a=(e._domPrefixes=w,z=!("onblur"in A),function(e,t){var n;return!!e&&(!(n=(e="on"+e)in(t=t&&"string"!=typeof t?t:g(t||"div")))&&z&&((t=t.setAttribute?t:g("div")).setAttribute(e,""),n="function"==typeof t[e],t[e]!==h&&(t[e]=h),t.removeAttribute(e)),n)});if(e.hasEvent=a,!b){var i=l;function V(e,t){var n=e.createElement("p"),e=e.getElementsByTagName("head")[0]||e.documentElement;return n.innerHTML="x<style>"+t+"</style>",e.insertBefore(n.lastChild,e.firstChild)}function S(){var e=x.elements;return"string"==typeof e?e.split(" "):e}function E(e){var t=re[e[te]];return t||(t={},ne++,e[te]=ne,re[ne]=t),t}function J(e,t,n){return t=t||i,s?t.createElement(e):!(t=(n=n||E(t)).cache[e]?n.cache[e].cloneNode():ee.test(e)?(n.cache[e]=n.createElem(e)).cloneNode():n.createElem(e)).canHaveChildren||K.test(e)||t.tagUrn?t:n.frag.appendChild(t)}function X(e){var t,n,r=E(e=e||i);return!x.shivCSS||Y||r.hasCSS||(r.hasCSS=!!V(e,"article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}")),s||(t=e,(n=r).cache||(n.cache={},n.createElem=t.createElement,n.createFrag=t.createDocumentFragment,n.frag=n.createFrag()),t.createElement=function(e){return x.shivMethods?J(e,t,n):n.createElem(e)},t.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+S().join().replace(/[\w\-:]+/g,function(e){return n.createElem(e),n.frag.createElement(e),'c("'+e+'")'})+");return n}")(x,n.frag)),e}function $(e){for(var t,n=e.getElementsByTagName("*"),r=n.length,o=RegExp("^(?:"+S().join("|")+")$","i"),a=[];r--;)t=n[r],o.test(t.nodeName)&&a.push(t.applyElement(function(e){for(var t,n=e.attributes,r=n.length,o=e.ownerDocument.createElement(P+":"+e.nodeName);r--;)(t=n[r]).specified&&o.setAttribute(t.nodeName,t.nodeValue);return o.style.cssText=e.style.cssText,o}(t)));return a}function Z(s){function c(){clearTimeout(n._removeSheetTimer),u&&u.removeNode(!0),u=null}var u,l,n=E(s),e=s.namespaces,t=s.parentWindow;return!ae||s.printShived||(void 0===e[P]&&e.add(P),t.attachEvent("onbeforeprint",function(){c();for(var e,t,n,r=s.styleSheets,o=[],a=r.length,i=Array(a);a--;)i[a]=r[a];for(;n=i.pop();)if(!n.disabled&&oe.test(n.media)){try{t=(e=n.imports).length}catch(e){t=0}for(a=0;a<t;a++)i.push(e[a]);try{o.push(n.cssText)}catch(e){}}o=function(e){for(var t,n=e.split("{"),r=n.length,o=RegExp("(^|[\\s,>+~])("+S().join("|")+")(?=[[\\s,>+~#.:]|$)","gi"),a="$1"+P+"\\:$2";r--;)(t=n[r]=n[r].split("}"))[t.length-1]=t[t.length-1].replace(o,a),n[r]=t.join("}");return n.join("{")}(o.reverse().join("")),l=$(s),u=V(s,o)}),t.attachEvent("onafterprint",function(){for(var e=l,t=e.length;t--;)e[t].removeNode();clearTimeout(n._removeSheetTimer),n._removeSheetTimer=setTimeout(c,500)}),s.printShived=!0),s}var Y,s,c=(t=void 0!==f?f:this).html5||{},K=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,ee=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,te="_html5shiv",ne=0,re={};try{var u=i.createElement("a");u.innerHTML="<xyz></xyz>",Y="hidden"in u,s=1==u.childNodes.length||(i.createElement("a"),void 0===(k=i.createDocumentFragment()).cloneNode)||void 0===k.createDocumentFragment||void 0===k.createElement}catch(u){s=Y=!0}var k,x={elements:c.elements||"abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output picture progress section summary template time video",version:"3.7.3",shivCSS:!1!==c.shivCSS,supportsUnknownElements:s,shivMethods:!1!==c.shivMethods,type:"default",shivDocument:X,createElement:J,createDocumentFragment:function(e,t){if(e=e||i,s)return e.createDocumentFragment();for(var n=(t=t||E(e)).frag.cloneNode(),r=0,o=S(),a=o.length;r<a;r++)n.createElement(o[r]);return n},addElements:function(e,t){var n=x.elements;"string"!=typeof n&&(n=n.join(" ")),"string"!=typeof e&&(e=e.join(" ")),x.elements=n+" "+e,X(t)}},oe=(t.html5=x,X(i),/^$|\b(?:all|print)\b/),P="html5shiv",ae=!(s||(k=i.documentElement,void 0===i.namespaces)||void 0===i.parentWindow||void 0===k.applyElement||void 0===k.removeNode||void 0===t.attachEvent);x.type+=" print",(x.shivPrint=Z)(i),Kh.exports&&(Kh.exports=x)}var ie,se=function(){},ce=function(){},c=(f.console&&(se=function(){var e=console.error?"error":"log";f.console[e].apply(f.console,Array.prototype.slice.call(arguments))},ce=function(){var e=console.warn?"warn":"log";f.console[e].apply(f.console,Array.prototype.slice.call(arguments))}),e.load=function(){"yepnope"in f?(ce("yepnope.js (aka Modernizr.load) is no longer included as part of Modernizr. yepnope appears to be available on the page, so we’ll use it to handle this call to Modernizr.load, but please update your code to use yepnope directly.\n See http://github.com/Modernizr/Modernizr/issues/1182 for more information."),f.yepnope.apply(f,[].slice.call(arguments,0))):se("yepnope.js (aka Modernizr.load) is no longer included as part of Modernizr. Get it from http://yepnopejs.com. See http://github.com/Modernizr/Modernizr/issues/1182 for more information.")},(ie=f.matchMedia||f.msMatchMedia)?function(e){e=ie(e);return e&&e.matches||!1}:function(e){var t=!1;return m("@media "+e+" { #modernizr { position: absolute; } }",function(e){t="absolute"===q(e,null,"position")}),t}),ue=(e.mq=c,{elem:g("modernizr")}),T=(v._q.push(function(){delete ue.elem}),{style:ue.elem.style}),R=(v._q.unshift(function(){delete T.style}),e.testAllProps=r,e.prefixed=function(e,t,n){return 0===e.indexOf("@")?H(e):(-1!==e.indexOf("-")&&(e=_(e)),t?r(e,t,n):r(e,"pfx"))}),le=e._config.usePrefixes?" -webkit- -moz- -o- -ms- ".split(" "):["",""],O=(e._prefixes=le,e.prefixedCSS=function(e){e=R(e);return e&&y(e)},e.testAllProps=function(e,t,n){return r(e,h,h,t,n)},e.testProp=function(e,t,n){return N([e],h,t,n)},e.testStyles=m,v.addAsyncTest(function(){var e,t=["read","readText","write","writeText"];if(navigator.clipboard){d("clipboard",!0);for(var n=0;n<t.length;n++)e=!!navigator.clipboard[t[n]],d("clipboard."+t[n].toLowerCase(),e)}else d("clipboard",!1)}),v.addTest("contextmenu","contextMenu"in A&&"HTMLMenuItemElement"in f),v.addTest("cors","XMLHttpRequest"in f&&"withCredentials"in new XMLHttpRequest),v.addTest("es6array",!!(Array.prototype&&Array.prototype.copyWithin&&Array.prototype.fill&&Array.prototype.find&&Array.prototype.findIndex&&Array.prototype.keys&&Array.prototype.entries&&Array.prototype.values&&Array.from&&Array.of)),v.addTest("arrow",function(){try{(0,eval)("()=>{}")}catch(e){return!1}return!0}),v.addTest("es6class",function(){try{(0,eval)("class A{}")}catch(e){return!1}return!0}),v.addTest("es6collections",!!(f.Map&&f.Set&&f.WeakMap&&f.WeakSet)),v.addTest("generators",function(){try{new Function("function* test() {}")()}catch(e){return!1}return!0}),v.addTest("es6math",!!(Math&&Math.clz32&&Math.cbrt&&Math.imul&&Math.sign&&Math.log10&&Math.log2&&Math.log1p&&Math.expm1&&Math.cosh&&Math.sinh&&Math.tanh&&Math.acosh&&Math.asinh&&Math.atanh&&Math.hypot&&Math.trunc&&Math.fround)),v.addTest("es6number",!!(Number.isFinite&&Number.isInteger&&Number.isSafeInteger&&Number.isNaN&&Number.parseInt&&Number.parseFloat&&Number.isInteger(Number.MAX_SAFE_INTEGER)&&Number.isInteger(Number.MIN_SAFE_INTEGER)&&Number.isFinite(Number.EPSILON))),v.addTest("es6object",!!(Object.assign&&Object.is&&Object.setPrototypeOf)),v.addTest("promises",function(){return"Promise"in f&&"resolve"in f.Promise&&"reject"in f.Promise&&"all"in f.Promise&&"race"in f.Promise&&(new f.Promise(function(e){t=e}),"function"==typeof t);var t}),v.addTest("restparameters",function(){try{(0,eval)("function f(...rest) {}")}catch(e){return!1}return!0}),v.addTest("spreadarray",function(){try{(0,eval)("(function f(){})(...[1])")}catch(e){return!1}return!0}),v.addTest("stringtemplate",function(){try{return"-1-"===(0,eval)("(function(){var a=1; return `-${a}-`;})()")}catch(e){return!1}}),v.addTest("es6string",!!(String.fromCodePoint&&String.raw&&String.prototype.codePointAt&&String.prototype.repeat&&String.prototype.startsWith&&String.prototype.endsWith&&String.prototype.includes)),v.addTest("es6symbol",!!("function"==typeof Symbol&&Symbol.for&&Symbol.hasInstance&&Symbol.isConcatSpreadable&&Symbol.iterator&&Symbol.keyFor&&Symbol.match&&Symbol.prototype&&Symbol.replace&&Symbol.search&&Symbol.species&&Symbol.split&&Symbol.toPrimitive&&Symbol.toStringTag&&Symbol.unscopables)),v.addTest("es7array",!(!Array.prototype||!Array.prototype.includes)),v.addTest("restdestructuringarray",function(){try{(0,eval)("var [...rest]=[1]")}catch(e){return!1}return!0}),v.addTest("restdestructuringobject",function(){try{(0,eval)("var {...rest}={a:1}")}catch(e){return!1}return!0}),v.addTest("spreadobject",function(){try{(0,eval)("var a={...{b:1}}")}catch(e){return!1}return!0}),v.addTest("es8object",!(!Object.entries||!Object.values)),v.addTest("customevent","CustomEvent"in f&&"function"==typeof f.CustomEvent),v.addTest("eventlistener","addEventListener"in f),v.addTest("forcetouch",function(){return!!a(R("mouseforcewillbegin",f,!1),f)&&MouseEvent.WEBKIT_FORCE_AT_MOUSE_DOWN&&MouseEvent.WEBKIT_FORCE_AT_FORCE_MOUSE_DOWN}),v.addTest("hashchange",function(){return!1!==a("hashchange",f)&&(l.documentMode===h||7<l.documentMode)}),v.addTest("oninput",function(){var e=g("input");if(e.setAttribute("oninput","return"),e.style.cssText="position:fixed;top:0;",a("oninput",A)||"function"==typeof e.oninput)return!0;try{var t=l.createEvent("KeyboardEvent"),n=!1,r=function(e){n=!0,e.preventDefault(),e.stopPropagation()};t.initKeyEvent("keypress",!0,!0,f,!1,!1,!1,!1,0,"e".charCodeAt(0)),A.appendChild(e),e.addEventListener("input",r,!1),e.focus(),e.dispatchEvent(t),e.removeEventListener("input",r,!1),A.removeChild(e)}catch(e){n=!1}return n}),[""].concat(w)),de=(e._domPrefixesAll=O,v.addTest("pointerevents",function(){for(var e=0,t=O.length;e<t;e++)if(a(O[e]+"pointerdown"))return!0;return!1}),v.addTest("history",function(){var e=navigator.userAgent;return!!e&&(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone")||"file:"===location.protocol)&&f.history&&"pushState"in f.history}),v.addTest("sandbox","sandbox"in g("iframe")),v.addTest("seamless","seamless"in g("iframe")),v.addTest("srcdoc","srcdoc"in g("iframe")),v.addTest("canvas",function(){var e=g("canvas");return!(!e.getContext||!e.getContext("2d"))}),v.addAsyncTest(function(){if(!v.canvas)return!1;var e=new Image,t=g("canvas"),n=t.getContext("2d");e.onload=function(){d("apng",function(){return void 0!==t.getContext&&(n.drawImage(e,0,0),0===n.getImageData(0,0,1,1).data[3])})},e.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAACGFjVEwAAAABAAAAAcMq2TYAAAANSURBVAiZY2BgYPgPAAEEAQB9ssjfAAAAGmZjVEwAAAAAAAAAAQAAAAEAAAAAAAAAAAD6A+gBAbNU+2sAAAARZmRBVAAAAAEImWNgYGBgAAAABQAB6MzFdgAAAABJRU5ErkJggg=="}),v.addAsyncTest(function(){var e=new Image;e.onload=e.onerror=function(){d("avif",1===e.width)},e.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAAEcbWV0YQAAAAAAAABIaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGNhdmlmIC0gaHR0cHM6Ly9naXRodWIuY29tL2xpbmstdS9jYXZpZgAAAAAeaWxvYwAAAAAEQAABAAEAAAAAAUQAAQAAABcAAAAqaWluZgEAAAAAAAABAAAAGmluZmUCAAAAAAEAAGF2MDFJbWFnZQAAAAAOcGl0bQAAAAAAAQAAAHJpcHJwAAAAUmlwY28AAAAQcGFzcAAAAAEAAAABAAAAFGlzcGUAAAAAAAAAAQAAAAEAAAAQcGl4aQAAAAADCAgIAAAAFmF2MUOBAAwACggYAAYICGgIIAAAABhpcG1hAAAAAAAAAAEAAQUBAoMDhAAAAB9tZGF0CggYAAYICGgIIBoFHiAAAEQiBACwDoA="}),v.addTest("imgcrossorigin","crossOrigin"in g("img")),v.addAsyncTest(function(){var e=new Image;e.onerror=function(){d("exiforientation",!1)},e.onload=function(){d("exiforientation",2!==e.width)},e.src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEAYABgAAD/4QAiRXhpZgAASUkqAAgAAAABABIBAwABAAAABgASAAAAAAD/2wBDAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/2wBDAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/wAARCAABAAIDASIAAhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQAAAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSExBhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwD+/iiiigD/2Q=="}),v.addAsyncTest(function(){var e=new Image;e.onload=e.onerror=function(){d("jpeg2000",1===e.width)},e.src="data:image/jp2;base64,/0//UQAyAAAAAAABAAAAAgAAAAAAAAAAAAAABAAAAAQAAAAAAAAAAAAEBwEBBwEBBwEBBwEB/1IADAAAAAEAAAQEAAH/XAAEQED/ZAAlAAFDcmVhdGVkIGJ5IE9wZW5KUEVHIHZlcnNpb24gMi4wLjD/kAAKAAAAAABYAAH/UwAJAQAABAQAAf9dAAUBQED/UwAJAgAABAQAAf9dAAUCQED/UwAJAwAABAQAAf9dAAUDQED/k8+kEAGvz6QQAa/PpBABr994EAk//9k="}),v.addTest("lazyloading","loading"in HTMLImageElement.prototype),v.addAsyncTest(function(){function n(n,e,r){function t(e){var t=!(!e||"load"!==e.type)&&1===o.width;d(n,"webp"===n&&t?new Boolean(t):t),r&&r(e)}var o=new Image;o.onerror=t,o.onload=t,o.src=e}var r=[{uri:"data:image/webp;base64,UklGRiQAAABXRUJQVlA4IBgAAAAwAQCdASoBAAEAAwA0JaQAA3AA/vuUAAA=",name:"webp"},{uri:"data:image/webp;base64,UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAABBxAR/Q9ERP8DAABWUDggGAAAADABAJ0BKgEAAQADADQlpAADcAD++/1QAA==",name:"webp.alpha"},{uri:"data:image/webp;base64,UklGRlIAAABXRUJQVlA4WAoAAAASAAAAAAAAAAAAQU5JTQYAAAD/////AABBTk1GJgAAAAAAAAAAAAAAAAAAAGQAAABWUDhMDQAAAC8AAAAQBxAREYiI/gcA",name:"webp.animation"},{uri:"data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA=",name:"webp.lossless"}],e=r.shift();n(e.name,e.uri,function(e){if(e&&"load"===e.type)for(var t=0;t<r.length;t++)n(r[t].name,r[t].uri)})}),v.addTest("messagechannel","MessageChannel"in f),v.addTest("beacon","sendBeacon"in navigator),v.addTest("fetch","fetch"in f),v.addTest("performance",!!R("performance",f)),!0);try{f.postMessage({toString:function(){de=!1}},"*")}catch(e){}v.addTest("postmessage",new Boolean("postMessage"in f)),v.addTest("postmessage.structuredclones",de),v.addTest("proxy","Proxy"in f),v.addTest("queryselector","querySelector"in l&&"querySelectorAll"in l),v.addTest("prefetch",function(){var e;return 11===l.documentMode||!(!(e=g("link").relList)||!e.supports)&&e.supports("prefetch")}),v.addTest("requestanimationframe",!!R("requestAnimationFrame",f),{aliases:["raf"]}),v.addTest("scriptasync","async"in g("script")),v.addTest("scriptdefer","defer"in g("script")),v.addTest("serviceworker","serviceWorker"in navigator),v.addTest("cookies",function(){try{l.cookie="cookietest=1";var e=-1!==l.cookie.indexOf("cookietest=");return l.cookie="cookietest=1; expires=Thu, 01-Jan-1970 00:00:01 GMT",e}catch(e){return!1}}),v.addAsyncTest(function(){var t;try{t=R("indexedDB",f)}catch(t){}if(t){var n,r="modernizr-"+Math.random();try{n=t.open(r)}catch(t){return void d("indexeddb",!1)}n.onerror=function(e){!n.error||"InvalidStateError"!==n.error.name&&"UnknownError"!==n.error.name?(d("indexeddb",!0),Q(t,r)):(d("indexeddb",!1),e.preventDefault())},n.onsuccess=function(){d("indexeddb",!0),Q(t,r)}}else d("indexeddb",!1)}),v.addTest("localstorage",function(){var e="modernizr";try{return localStorage.setItem(e,e),localStorage.removeItem(e),!0}catch(e){return!1}}),v.addTest("sessionstorage",function(){var e="modernizr";try{return sessionStorage.setItem(e,e),sessionStorage.removeItem(e),!0}catch(e){return!1}}),v.addTest("websqldatabase","openDatabase"in f),v.addTest("webanimations","animate"in g("div")),v.addTest("webgl",function(){return"WebGLRenderingContext"in f}),v.addTest("peerconnection",!!R("RTCPeerConnection",f)),v.addTest("datachannel",function(){if(v.peerconnection)for(var e=0,t=O.length;e<t;e++){var n=f[O[e]+"RTCPeerConnection"];if(n)try{return"createDataChannel"in new n({})}catch(e){}}return!1}),v.addTest("getUserMedia","mediaDevices"in navigator&&"getUserMedia"in navigator.mediaDevices),v.addTest("resizeobserver","ResizeObserver"in f),v.addAsyncTest(function(){function e(){d("blobworkers",!1),t()}function t(){s&&r.revokeObjectURL(s),i&&i.terminate(),c&&clearTimeout(c)}try{var n=f.BlobBuilder,r=f.URL;v._config.usePrefix&&(n=n||f.MozBlobBuilder||f.WebKitBlobBuilder||f.MSBlobBuilder||f.OBlobBuilder,r=r||f.MozURL||f.webkitURL||f.MSURL||f.OURL);var o,a,i,s,c,u="this.onmessage=function(e){postMessage(e.data)}";try{o=new Blob([u],{type:"text/javascript"})}catch(e){}o||((a=new n).append(u),o=a.getBlob()),s=r.createObjectURL(o),(i=new Worker(s)).onmessage=function(e){d("blobworkers","Modernizr"===e.data),t()},i.onerror=e,c=setTimeout(e,200),i.postMessage("Modernizr")}catch(t){e()}}),v.addAsyncTest(function(){try{var t=new Worker("data:text/javascript;base64,dGhpcy5vbm1lc3NhZ2U9ZnVuY3Rpb24oZSl7cG9zdE1lc3NhZ2UoZS5kYXRhKX0=");t.onmessage=function(e){t.terminate(),d("dataworkers","Modernizr"===e.data),t=null},t.onerror=function(){d("dataworkers",!1),t=null},setTimeout(function(){d("dataworkers",!1)},200),t.postMessage("Modernizr")}catch(t){setTimeout(function(){d("dataworkers",!1)},0)}}),v.addTest("sharedworkers","SharedWorker"in f),v.addTest("blobconstructor",function(){try{return!!new Blob}catch(e){return!1}},{aliases:["blob-constructor"]});var B,C,L,I,j,M,fe,t=(t=R("URL",f,!1))&&f[t];for(fe in v.addTest("bloburls",t&&"revokeObjectURL"in t&&"createObjectURL"in t),v.addTest("webworkers","Worker"in f),v.addTest("typedarrays","ArrayBuffer"in f),v.addAsyncTest(function(){function e(){d("transferables",!1),t()}function t(){a&&URL.revokeObjectURL(a),i&&i.terminate(),r&&clearTimeout(r)}if(!(v.blobconstructor&&v.bloburls&&v.webworkers&&v.typedarrays))return d("transferables",!1);try{var n,r,o=new Blob(['var hello = "world"'],{type:"text/javascript"}),a=URL.createObjectURL(o),i=new Worker(a);i.onerror=e,r=setTimeout(e,200),n=new ArrayBuffer(1),i.postMessage(n,[n]),d("transferables",0===n.byteLength),t()}catch(t){e()}}),o)if(o.hasOwnProperty(fe)){if(B=[],(C=o[fe]).name&&(B.push(C.name.toLowerCase()),C.options)&&C.options.aliases&&C.options.aliases.length)for(L=0;L<C.options.aliases.length;L++)B.push(C.options.aliases[L].toLowerCase());for(I=p(C.fn,"function")?C.fn():C.fn,j=0;j<B.length;j++)1===(M=B[j].split(".")).length?v[M[0]]=I:(v[M[0]]&&(!v[M[0]]||v[M[0]]instanceof Boolean)||(v[M[0]]=new Boolean(v[M[0]])),v[M[0]][M[1]]=I),G.push((I?"":"no-")+M.join("-"))}U(G),delete e.addTest,delete e.addAsyncTest;for(var he=0;he<v._q.length;he++)v._q[he]();D.Modernizr=v}(window,window,document);const tp={Element:{sandbox:{title:"iframe/sandbox",keyPath:"iframe/sandbox"},srcdoc:{title:"iframe/srcdoc",keyPath:"iframe/srcdoc"},apng:{title:"img/apng",keyPath:"img/apng"},avif:{title:"img/avif",keyPath:"img/avif"},imgcrossorigin:{title:"img/crossorigin",keyPath:"img/crossorigin"},exiforientation:{title:"img/exif-orientation",keyPath:"img/exif-orientation"},lazyloading:{title:"img/lazyloading",keyPath:"img/lazyloading"},webp:{title:"img/webp",keyPath:"img/webp"},prefetch:{title:"link/prefetch",keyPath:"link/prefetch"},scriptasync:{title:"script/async",keyPath:"script/async"},scriptdefer:{title:"script/defer",keyPath:"script/defer"}},Feature:{clipboard:{title:"Clipboard",keyPath:"clipboard"},customevent:{title:"Custom Event",keyPath:"event/customevent"},eventlistener:{title:"Eventlistener",keyPath:"event/eventlistener"},forcetouch:{title:"Force Touch",keyPath:"event/forcetouch"},hashchange:{title:"Hash Change",keyPath:"event/hashchange"},oninput:{title:"Input Event",keyPath:"event/oninput"},pointerevents:{title:"Pointer Event",keyPath:"event/forcetouch"},history:{title:"History",keyPath:"history"},messagechannel:{title:"Message Channel",keyPath:"messagechannel"},postmessage:{title:"Postmessage",keyPath:"postmessage"},performance:{title:"Performance API",keyPath:"performance"},queryselector:{title:"queryselector",keyPath:"queryselector"},requestanimationframe:{title:"requestanimationframe",keyPath:"requestanimationframe"},serviceworker:{title:"Service Worker",keyPath:"serviceworker"},webanimations:{title:"Web Animation",keyPath:"webanimations"},webgl:{title:"WebGL",keyPath:"webgl/webgl"},datachannel:{title:"WebRTC/datachannel",keyPath:"webrtc/datachannel"},getusermedia:{title:"WebRTC/getusermedia",keyPath:"webrtc/getusermedia"},peerconnection:{title:"WebRTC/peerconnection",keyPath:"webrtc/peerconnection"},resizeobserver:{title:"Resizeobserver",keyPath:"window/resizeobserver"},sharedworkers:{title:"Shared Worker",keyPath:"workers/sharedworkers"},webworkers:{title:"Web Worker",keyPath:"workers/webworkers"}},Network:{cors:{title:"Cors",keyPath:"cors"},beacon:{title:"Beacon",keyPath:"network/beacon"},fetch:{title:"Fetch",keyPath:"network/fetch"}},Javascript:{es6array:{title:"ES6 Array",keyPath:"es6/array"},arrow:{title:"ES6 Arrow Function",keyPath:"es6/arrow"},es6class:{title:"ES6 Class",keyPath:"es6/class"},es6collections:{title:"ES6 Collections",keyPath:"es6/collections"},generators:{title:"ES6 Generators",keyPath:"es6/generators"},es6math:{title:"ES6 Math",keyPath:"es6/math"},es6number:{title:"ES6 Number",keyPath:"es6/number"},es6object:{title:"ES6 Object",keyPath:"es6/object"},promises:{title:"ES6 Promise",keyPath:"es6/promises"},restparameters:{title:"ES6 Rest Parameters",keyPath:"es6/rest-parameters"},spreadarray:{title:"ES6 Array Spread",keyPath:"es6/spread-array"},stringtemplate:{title:"ES6 String Template",keyPath:"es6/string-template"},es6string:{title:"ES6 String",keyPath:"es6/string"},es6symbol:{title:"ES6 Symbol",keyPath:"es6/symbol"},proxy:{title:"ES6 Proxy",keyPath:"proxy"},reflect:{title:"ES6 Reflect",customTest:"\"Reflect\" in window &&\n      typeof window.Reflect === 'object' &&\n      typeof Reflect.has === 'function' &&\n      [\n        'apply',\n        'construct',\n        'defineProperty',\n        'deleteProperty',\n        'getOwnPropertyDescriptor',\n        'getPrototypeOf',\n        'has',\n        'isExtensible',\n        'ownKeys',\n        'preventExtensions',\n        'setPrototypeOf',\n      ].every((i) => Reflect.has(Reflect, i))"},es7array:{title:"ES7 Array",keyPath:"es7/array"},restdestructuringarray:{title:"ES7 Rest Destructuring",keyPath:"es7/rest-destructuring"},spreadobject:{title:"ES7 Object Spread",keyPath:"es7/spread-object"},es8object:{title:"ES8 Object",keyPath:"es8/object"},finally:{title:"ES9 Promise Finally",customTest:"<ES6 Promise> && !!Promise.prototype.finally"}},Storage:{cookies:{title:"Cookies",keyPath:"storage/cookies"},indexeddb:{title:"IndexedDB",keyPath:"storage/indexeddb"},localstorage:{title:"LocalStorage",keyPath:"storage/localstorage"},sessionstorage:{title:"SessionStorage",keyPath:"storage/sessionstorage"},websqldatabase:{title:"Web SQL Database",keyPath:"storage/websqldatabase"}}},np=["indexeddb","apng","avif","exiforientation","webp"];async function rp(){const n={Element:[],Feature:[],Network:[],Javascript:[],Storage:[]};rd(tp).forEach(e=>{const r=tp[e];var t=rd(r).map(async e=>{var n,t=r[e];return t.keyPath&&(t.keyPath="".concat("https://github.com/Modernizr/Modernizr/tree/master/feature-detects","/").concat(t.keyPath,".js")),-1<np.indexOf(e)?t.supported=(n=e,await new Promise(t=>{Modernizr.on(n,e=>{t(e)})})):t.supported=Modernizr[e],t});n[e]=t});for(const e in n)ad(n,e)&&(n[e]=await Promise.all(n[e]));return n}window.Modernizr.addTest("finally",Modernizr.promises&&!!Promise.prototype.finally),window.Modernizr.addTest("reflect","Reflect"in window&&"object"==typeof window.Reflect&&"function"==typeof Reflect.has&&["apply","construct","defineProperty","deleteProperty","getOwnPropertyDescriptor","getPrototypeOf","has","isExtensible","ownKeys","preventExtensions","setPrototypeOf"].every(e=>Reflect.has(Reflect,e)));class op{constructor(){t(this,"name","SystemPlugin")}async onCreated(){var e,t;op.hasInitd||(op.hasInitd=!0,e=nd(),t=await rp(),M.broadcastMessage(Sd("system",{id:e,system:{ua:navigator.userAgent,...Yh()},features:t}),!1))}}t(op,"hasInitd",!1);class ap{constructor(){t(this,"name","PagePlugin")}onCreated(){ap.hasInitd||(ap.hasInitd=!0,M.addListener(wd,(e,t)=>{e=e.source,e=e.data;"page"===e&&t(ap.collectHtml())}))}static collectHtml(){return Sd("page",{html:document.documentElement.outerHTML,location:window.location})}}t(ap,"hasInitd",!1);class ip{constructor(){t(this,"name","StoragePlugin")}onCreated(){ip.hasInitd||(ip.hasInitd=!0,ip.listenRefreshEvent(),ip.initStorageProxy())}static listenRefreshEvent(){M.addListener(wd,async e=>{var e=e["source"],t=e["data"];let n=null;switch(t){case"localStorage":case"sessionStorage":n=ip.takeStorage(t);break;case"cookie":n=await ip.takeCookie()}n&&ip.sendStorageItem(n)})}static takeStorage(e){var t={type:e,action:"get",data:[]},n=window[e],r=n.length;if(r)for(let e=0;e<=r-1;e++){var o,a=n.key(e);a&&(o=n.getItem(a)||"",t.data.push({name:a,value:o}))}return t}static async takeCookie(){var e={type:"cookie",action:"get",data:[]};return window.cookieStore?e.data=await window.cookieStore.getAll():e.data=document.cookie.split("; ").map(e=>{var[e,t]=e.split("=");return{name:e,value:t}}),e}static initStorageProxy(){const{getStorageType:n,sendStorageItem:r}=ip,{clear:t,removeItem:o,setItem:a}=Storage.prototype;Storage.prototype.clear=function(){t.call(this);var e={type:n(this),action:"clear"};r(e)},Storage.prototype.removeItem=function(e){o.call(this,e);e={type:n(this),action:"remove",name:String(e)};r(e)},Storage.prototype.setItem=function(e,t){a.call(this,e,t);e={type:n(this),action:"set",name:String(e),value:String(t)};r(e)},window.cookieStore&&window.cookieStore.addEventListener("change",e=>{var{changed:e,deleted:t}=e;0<e.length&&e.forEach(e=>{e={type:"cookie",action:"set",...e};ip.sendStorageItem(e)}),0<t.length&&t.forEach(e=>{e={type:"cookie",action:"remove",name:e.name};ip.sendStorageItem(e)})})}static getStorageType(e){return e===localStorage?"localStorage":e===sessionStorage?"sessionStorage":e.constructor.name}static sendStorageItem(e){e=Sd("storage",e);M.broadcastMessage(e,!0)}}t(ip,"hasInitd",!1);class sp{static get(){return sp.value}}t(ep=sp,"scriptLink",null==(hr=document.currentScript)?void 0:hr.src),t(sp,"resolveConfig",()=>{var e,t,n={api:"",clientOrigin:"",project:"default",autoRender:!0,title:"",enableSSL:null};return ep.scriptLink?({host:e,origin:t}=new URL(ep.scriptLink),{...n,api:e,clientOrigin:t}):n}),t(sp,"mergeConfig",e=>(ep.value={...ep.resolveConfig(),...e},ep.value));const cp=e=>{if("boolean"==typeof e)return e?["https://","wss://"]:["http://","ws://"];try{var t=new URL(sp.scriptLink)["protocol"];if(t.startsWith("https"))return["https://","wss://"]}catch(e){j.error("Failed to resolve the protocol and fallback to [http://, ws://]")}return["http://","ws://"]},up=e=>{const n=new URLSearchParams;return Object.entries(e).forEach(e=>{var[e,t]=e;n.append(e,String(t))}),n.toString()};class lp{constructor(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"";if(!(this.base=e))throw Error("The api base url cannot be empty")}createRoom(){var e=sp.get(),t=cp(e.enableSSL),n=(e=>{var{osName:e,osVersion:t,browserName:n,browserVersion:r}=e;return"".concat(e,"/").concat(t," ").concat(n,"/").concat(r)})(Yh()),n=up({name:n,group:e.project,title:e.title});return fetch("".concat(t[0]).concat(this.base,"/api/v1/room/create?").concat(n),{method:"POST"}).then(e=>e.json()).catch(e=>{throw Error("Request create room failed: ".concat(e.message))})}getRoomUrl(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=sp.get(),t=cp(t.enableSSL);return"".concat(t[1]).concat(this.base,"/api/v1/ws/room/join?").concat(up(e))}}var dp="1.4.11";function fp(e){return window.TouchEvent&&e instanceof TouchEvent?e.touches[0]:e}var hp;A="#__pageSpy {\n  font-size: 14px;\n}\n#__pageSpy .page-spy-logo {\n  position: fixed;\n  left: 1.42857143em;\n  bottom: 5.71428571em;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 5.71428571em;\n  height: 5.71428571em;\n  font-size: 1em;\n  border-radius: 5.71428571em;\n  background-color: #fff;\n  box-shadow: 0px 4px 8px 2px rgba(0, 0, 0, 0.2);\n  cursor: pointer;\n  z-index: 13000;\n  transition: all ease-in-out 0.3s;\n}\n#__pageSpy .page-spy-logo.inactive {\n  background-color: #a2a2a2;\n  filter: grayscale(1);\n}\n#__pageSpy .page-spy-modal {\n  position: fixed;\n  left: 0;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-color: rgba(0, 0, 0, 0.5);\n  opacity: 0;\n  transition: all ease-out 0.3s;\n  z-index: 13000;\n}\n#__pageSpy .page-spy-modal.show {\n  opacity: 1;\n}\n#__pageSpy .page-spy-content {\n  width: 75%;\n  max-width: 25em;\n  background-color: #fafafa;\n  border-radius: 0.28571429em;\n  text-align: center;\n}\n#__pageSpy .page-spy-content__info {\n  padding: 1.71428571em 1.14285714em;\n  font-size: 1.14285714em;\n  line-height: 1.5;\n  text-align: left;\n  color: #202124;\n  letter-spacing: 2px;\n}\n#__pageSpy .page-spy-content__info > p {\n  margin: 0;\n  padding: 0;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n#__pageSpy .page-spy-content__info > p b {\n  display: inline-block;\n  width: 6.57142857em;\n  text-align: right;\n  margin-right: 10px;\n}\n#__pageSpy .page-spy-content__ok {\n  padding: 0.57142857em 0;\n  border-top: 1px solid #eee;\n  font-size: 1.14285714em;\n  line-height: 1.5;\n  color: transparent;\n  -webkit-background-clip: text;\n          background-clip: text;\n  background-image: linear-gradient(45deg, #efdfff, #4e00b1 52%, #3d0c7c);\n  cursor: pointer;\n}\n.page-spy-toast {\n  position: fixed;\n  left: 50%;\n  top: 10%;\n  transform: translateX(-50%);\n  max-width: 50vw;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  padding: 6px 12px;\n  color: #9a62e4;\n  font-size: 14px;\n  background-color: #fafafa;\n  border-radius: 4px;\n  box-shadow: 0px 4px 8px 2px rgba(0, 0, 0, 0.2);\n  z-index: 99999;\n}\n",hp=(hp=void 0===hp?{}:hp).insertAt,A&&"undefined"!=typeof document&&(k=document.head||document.getElementsByTagName("head")[0],(u=document.createElement("style")).type="text/css","top"===hp&&k.firstChild?k.insertBefore(u,k.firstChild):k.appendChild(u),u.styleSheet?u.styleSheet.cssText=A:u.appendChild(document.createTextNode(A)));function pp(n){return new Promise((e,t)=>{n.addEventListener("success",()=>{e(n.result)}),n.addEventListener("error",()=>{t()})})}class gp{constructor(){t(this,"name","DatabasePlugin")}static get isSupport(){return!!(IDBFactory&&IDBObjectStore&&window.indexedDB&&window.indexedDB.databases)}onCreated(){!gp.isSupport||gp.hasInitd||(gp.hasInitd=!0,gp.listenEvents(),gp.initIndexedDBProxy())}static listenEvents(){M.addListener(wd,async e=>{var e=e["source"];"indexedDB"===e.data&&(e={action:"basic",result:await this.takeBasicInfo()},gp.sendData(e))}),M.addListener("database-pagination",async e=>{var e=e["source"],{db:e,store:t,page:n}=e.data,e=await gp.getStoreDataWithPagination({db:e,store:t,page:n});gp.sendData(e)})}static initIndexedDBProxy(){var{put:e,add:t,delete:n,clear:r}=IDBObjectStore.prototype;const s=gp["sendData"],o=([{origin:e,method:"put"},{origin:t,method:"add"},{origin:n,method:"delete"},{origin:r,method:"clear"}].forEach(e=>{let{origin:a,method:i}=e;IDBObjectStore.prototype[i]=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=a.apply(this,t);const o={action:"clear"===i?"clear":"update",database:this.transaction.db.name,store:this.name};return r.addEventListener("success",()=>{s(o)}),r}}),IDBFactory.prototype.deleteDatabase);IDBFactory.prototype.deleteDatabase=function(e){var t=o.call(this,e);const n={action:"drop",database:e};return t.addEventListener("success",()=>{s(n)}),t}}static async takeBasicInfo(){var e=await window.indexedDB.databases();return e.length&&(e=e.filter(e=>e.name&&e.version)).length?(await Promise.all(e.map(e=>gp.getDBData(e)))).filter(Boolean):null}static async getDBData(e){try{var t,n={name:e.name,version:e.version,stores:[]};const r=await pp(window.indexedDB.open(e.name,e.version));return r.objectStoreNames.length&&(t=[...r.objectStoreNames].map(e=>r.transaction(e,"readonly").objectStore(e)),n.stores=t.map(e=>{var{name:e,keyPath:t,autoIncrement:n,indexNames:r}=e;return{name:e,keyPath:t,autoIncrement:n,indexes:[...r]}})),n}catch(e){return j.error("Failed to get indexedDB data, more info: ".concat(e.message)),null}}static async getStoreDataWithPagination(e){var{db:e,store:t,page:n}=e;const r={action:"get",database:null,store:null,page:{current:n,prev:null,next:null},total:0,data:[]};if(n<1)return r;e=await pp(window.indexedDB.open(e)),t=e.transaction(t,"readonly").objectStore(t);r.database={name:e.name,version:e.version},r.store={name:t.name,keyPath:t.keyPath,autoIncrement:t.autoIncrement,indexes:[...t.indexNames]},r.total=await pp(t.count());const o=50*(n-1),a=50*n;r.page.prev=1<n?n-1:null,r.page.next=50+o<r.total?n+1:null;let i=0;const s=t.openCursor();return new Promise((t,e)=>{s.addEventListener("success",()=>{var e=s.result;e?(i>=o&&i<a&&r.data.push({key:e.key,value:e.value}),i++,e.continue()):t(r)}),s.addEventListener("error",e)})}static sendData(e){e=Sd("database",e);M.broadcastMessage(e,!0)}}t(gp,"hasInitd",!1);class mp{static message(e){const t=document.createElement("div"),n=(t.classList.add("page-spy-toast"),t.innerText=String(e),document.documentElement.appendChild(t),setTimeout(()=>{document.contains(t)&&document.documentElement.removeChild(t),mp.timer===n&&(mp.timer=null)},1500));mp.timer=n}static destroy(){var e=document.querySelectorAll(".page-spy-toast");e.length&&([...e].forEach(e=>{document.contains(e)&&document.documentElement.removeChild(e)}),mp.timer)&&clearTimeout(mp.timer),mp.timer=null}}t(mp,"timer",null);const yp="__pageSpy";class vp{constructor(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(t(this,"root",null),t(this,"version",dp),t(this,"plugins",{}),t(this,"request",null),t(this,"name",""),t(this,"address",""),t(this,"roomUrl",""),t(this,"socketStore",M),vp.instance)return j.warn("Cannot initialize PageSpy multiple times"),vp.instance;vp.instance=this;e=sp.mergeConfig(e).api;this.request=new lp(e),this.loadPlugins(new jd,new Dd,new Ph,new op,new ap,new ip,new gp),this.init()}loadPlugins(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t.forEach(e=>{(this.plugins[e.name]=e).onCreated&&e.onCreated()})}async init(){var e,t,n,r,o,a;this.checkConfig()&&(e=sp.get(),null!==(t=sessionStorage.getItem(Id))&&({name:t,address:n,roomUrl:r,usable:o,project:a}=JSON.parse(t),o)&&e.project===a?(this.name=t,this.address=n,this.roomUrl=r,this.useOldConnection()):await this.createNewConnection(),j.log("Plugins inited"),e.autoRender)&&this.render()}async createNewConnection(){var e,t;this.checkConfig()&&(this.request?(e=(await this.request.createRoom())["data"],t=this.request.getRoomUrl({address:e.address,name:"client:".concat(nd()),userId:"Client"}),this.name=e.name,this.address=e.address,this.roomUrl=t,this.refreshRoomInfo(),M.init(t)):j.error("Cannot get the Request"))}useOldConnection(){this.refreshRoomInfo(),M.init(this.roomUrl)}render(){if(document.querySelector("#".concat(yp)))j.warn("Cannot render the widget because it has been in the DOM");else if(void 0!==document)"loading"===document.readyState?window.addEventListener("DOMContentLoaded",this.render.bind(this)):this.startRender();else{let e;const t=()=>{document&&"complete"===document.readyState?(e&&clearTimeout(e),this.startRender()):e=setTimeout(t,1)};e=setTimeout(t,1)}}refreshRoomInfo(){this.saveSession();const t=setInterval(()=>{var e=sessionStorage.getItem(Id);if(null!==e){e=JSON.parse(e)["usable"];if(!1===e)return void clearInterval(t)}this.saveSession()},15e3)}saveSession(){var e,t,n;this.checkConfig()&&({name:n,address:e,roomUrl:t}=this,n=JSON.stringify({name:n,address:e,roomUrl:t,usable:!0,project:sp.get().project}),sessionStorage.setItem(Id,n))}startRender(){const{project:e,clientOrigin:o}=sp.get();if(this.checkConfig()){var t=document.createElement("div");t.id=yp,this.root=t;const l=document.createElement("div");l.className="page-spy-logo";var n=document.createElement("img");n.alt="PageSpy Logo",n.src="data:image/svg+xml,%3csvg width='255' height='255' viewBox='0 0 255 255' fill='none' xmlns='http://www.w3.org/2000/svg'%3e %3cpath d='M183 24L81 126V141.5L90 150.5H105L145 110.5H160.5L169.5 119.5V133.5L72 231' stroke='url(%23paint0_linear_106_8)' stroke-width='25' stroke-linecap='round' /%3e %3cdefs%3e %3clinearGradient id='paint0_linear_106_8' x1='127.5' y1='24' x2='127.5' y2='231' gradientUnits='userSpaceOnUse'%3e %3cstop stop-color='%233D0C7C' /%3e %3cstop offset='0.519204' stop-color='%234E00B1' /%3e %3cstop offset='1' stop-color='%23EFDFFF' /%3e %3c/linearGradient%3e %3c/defs%3e%3c/svg%3e",n.width=50,n.height=50,l.insertAdjacentElement("beforeend",n),t.insertAdjacentElement("beforeend",l),window.addEventListener("sdk-inactive",()=>{l.classList.add("inactive")});const d=new Oa;var[n,r]=this.name.split(" "),n=new Ba({content:"\n      <p><b>Device ID:</b> <span style=\"font-family: 'Monaco'\">".concat(this.address.slice(0,4),"</span></p>\n      <p><b>System:</b> ").concat(n,"</p>\n      <p><b>Browser:</b> ").concat(r,"</p>\n      <p><b>Project:</b> ").concat(e,"</p>\n      "),onOk:()=>{var e="".concat(o,"/devtools?version=").concat(this.name,"&address=").concat(this.address),e=Ra(e);let t="";const n=navigator.languages;var r=["zh-CN","zh-HK","zh-TW","zh"].some(e=>n.includes(e));t=r?e?"拷贝成功!":"拷贝失败!":e?"Copy successfully!":"Copy failed!",mp.message(t),d.close()}});d.appendNode(n.el),t.insertAdjacentElement("beforeend",d.el),l.addEventListener("click",u,!1),l.addEventListener("touchend",u,!1),document.documentElement.insertAdjacentElement("beforeend",t);{var a=l;let o;const f={xAxis:0,yAxis:0},h={x:0,y:0};function i(e){e.preventDefault(),a.isMoveEvent=!0;var{clientX:e,clientY:t}=fp(e),e=e-h.x,t=t-h.y;let n=o.x+e,r=(n<0?n=0:n>f.xAxis&&(n=f.xAxis),o.y+t);r<0?r=0:r>f.yAxis&&(r=f.yAxis),a.style.left="".concat(n,"px"),a.style.top="".concat(r,"px")}function s(){h.x=0,h.y=0,document.removeEventListener("mousemove",i),document.removeEventListener("mouseup",s),document.removeEventListener("touchmove",i),document.removeEventListener("touchend",s)}function c(e){e.preventDefault(),a.isMoveEvent=!1,o=a.getBoundingClientRect(),f.xAxis=window.innerWidth-o.width,f.yAxis=window.innerHeight-o.height;var{clientX:e,clientY:t}=fp(e);h.x=e,h.y=t,document.addEventListener("mousemove",i,!1),document.addEventListener("mouseup",s,!1),document.addEventListener("touchmove",i,{capture:!1,passive:!1}),document.addEventListener("touchend",s,!1)}a.addEventListener("mousedown",c,!1),a.addEventListener("touchstart",c,{capture:!1,passive:!1})}function u(e){var t=l["isMoveEvent"];t||(e.stopPropagation(),d.show())}this.handleDeviceDPR(),j.log("Render success")}}checkConfig(){return!!sp.get()||(j.error("Cannot get the config info"),!1)}handleDeviceDPR(){var e=window.devicePixelRatio||1,t=document.querySelector('[name="viewport"]');t&&((t=(t.getAttribute("content")||"").match(/initial-scale=\d+(\.\d+)?/))?parseFloat(t[0].split("=")[1]):1)<1&&(this.root.style.fontSize="".concat(14*e,"px"))}}return t(vp,"instance",null),vp}();

  return PageSpy;
};
